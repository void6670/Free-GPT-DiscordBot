/* eslint-disable */
var Ig=Object.defineProperty;var n=(t,e)=>Ig(t,"name",{value:e,configurable:!0});var j=(t,e)=>{for(var i in e)Ig(t,i,{get:e[i],enumerable:!0})};function kg(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(kg,"__setFunctionName");function x(t,e,i,o){function s(r){return r instanceof i?r:new i(function(l){l(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,l){function p(_){try{m(o.next(_))}catch(b){l(b)}}n(p,"fulfilled");function f(_){try{m(o.throw(_))}catch(b){l(b)}}n(f,"rejected");function m(_){_.done?r(_.value):s(_.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(x,"__awaiter");function Sg(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Sg,"__values");function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}n(fo,"__await");function Cg(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(w){o[w]&&(s[w]=function(I){return new Promise(function(S,N){r.push([w,I,S,N])>1||p(w,I)})})}function p(w,I){try{f(o[w](I))}catch(S){b(r[0][3],S)}}function f(w){w.value instanceof fo?Promise.resolve(w.value.v).then(m,_):b(r[0][2],w)}function m(w){p("next",w)}function _(w){p("throw",w)}function b(w,I){w(I),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(Cg,"__asyncGenerator");function Eg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Sg=="function"?Sg(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(l){return new Promise(function(p,f){l=t[r](l),s(p,f,l.done,l.value)})}}function s(r,l,p,f){Promise.resolve(f).then(function(m){r({value:m,done:p})},l)}}n(Eg,"__asyncValues");function u(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(u,"__classPrivateFieldGet");function T(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(T,"__classPrivateFieldSet");var q0={};j(q0,{ChannelError:()=>ss,InnertubeError:()=>v,MissingParamError:()=>Qo,OAuthError:()=>di,ParsingError:()=>pt,Platform:()=>O,PlayerError:()=>gt,SessionError:()=>Ps,base64ToU8:()=>E0,concatMemos:()=>B0,debugFetch:()=>i1,deepCompare:()=>th,escapeStringRegexp:()=>K0,generateRandomString:()=>Ct,generateSidAuth:()=>$0,getRandomUserAgent:()=>Zo,getStringBetweenStrings:()=>rt,hasKeys:()=>t1,isTextRun:()=>qe,streamToIterable:()=>j0,throwIfMissing:()=>se,timeToSeconds:()=>He,u8ToBase64:()=>Tt});var b0={};j(b0,{Maybe:()=>mo,Memo:()=>Vi,SuperParsedResult:()=>ei,YTNode:()=>a,observe:()=>ce});var x0,Pg,Me,fe,Zt,hi,ho,Ng=Symbol("ObservedArray.isObserved"),a=class{constructor(){x0.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,x0,"m",Pg).call(this,i))}as(...e){if(!this.is(...e))throw new pt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new pt(`Missing key ${e}`);return new mo(this[e])}};n(a,"YTNode");x0=new WeakSet,Pg=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var mo=class{constructor(e){Me.add(this),fe.set(this,void 0),T(this,fe,e,"f")}get typeof(){return typeof u(this,fe,"f")}string(){return u(this,Me,"m",hi).call(this,"string")}isString(){return u(this,Me,"m",Zt).call(this,"string")}number(){return u(this,Me,"m",hi).call(this,"number")}isNumber(){return u(this,Me,"m",Zt).call(this,"number")}bigint(){return u(this,Me,"m",hi).call(this,"bigint")}isBigint(){return u(this,Me,"m",Zt).call(this,"bigint")}boolean(){return u(this,Me,"m",hi).call(this,"boolean")}isBoolean(){return u(this,Me,"m",Zt).call(this,"boolean")}symbol(){return u(this,Me,"m",hi).call(this,"symbol")}isSymbol(){return u(this,Me,"m",Zt).call(this,"symbol")}undefined(){return u(this,Me,"m",hi).call(this,"undefined")}isUndefined(){return u(this,Me,"m",Zt).call(this,"undefined")}null(){if(u(this,fe,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,fe,"f")}`);return u(this,fe,"f")}isNull(){return u(this,fe,"f")===null}object(){return u(this,Me,"m",hi).call(this,"object")}isObject(){return u(this,Me,"m",Zt).call(this,"object")}function(){return u(this,Me,"m",hi).call(this,"function")}isFunction(){return u(this,Me,"m",Zt).call(this,"function")}array(){if(!Array.isArray(u(this,fe,"f")))throw new TypeError(`Expected array, got ${typeof u(this,fe,"f")}`);return u(this,fe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new mo(Reflect.get(i,o))}})}isArray(){return Array.isArray(u(this,fe,"f"))}node(){if(!(u(this,fe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${u(this,fe,"f").constructor.name}`);return u(this,fe,"f")}isNode(){return u(this,fe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,fe,"f")}`);return u(this,fe,"f")}isObserved(){var e;return(e=u(this,fe,"f"))===null||e===void 0?void 0:e[Ng]}parsed(){if(!(u(this,fe,"f")instanceof ei))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,fe,"f")}`);return u(this,fe,"f")}isParsed(){return u(this,fe,"f")instanceof ei}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,fe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,fe,"f").constructor.name}`);return u(this,fe,"f")}isInstanceof(e){return u(this,fe,"f")instanceof e}};n(mo,"Maybe");fe=new WeakMap,Me=new WeakSet,Zt=n(function(e){return typeof u(this,fe,"f")===e},"_Maybe_checkPrimative"),hi=n(function(e){if(!u(this,Me,"m",Zt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,fe,"f")},"_Maybe_assertPrimative");var ei=class{constructor(e){ho.set(this,void 0),T(this,ho,e,"f")}get is_null(){return u(this,ho,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,ho,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,ho,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,ho,"f")}};n(ei,"SuperParsedResult");ho=new WeakMap;function ce(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,l)=>{let p=th(o,r);return p&&s&&e.splice(l,1),p}):i==Ng?!0:i=="getAll"?(o,s)=>e.filter((r,l)=>{let p=th(o,r);return p&&s&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>ce(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ce(e.map(s=>{if(s.is(...o))return s;throw new pt(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ce,"observe");var Vi=class extends Map{getType(...e){return e=e.flat(),ce(e.flatMap(i=>this.get(i.type)||[]))}};n(Vi,"Memo");var z0={};j(z0,{Author:()=>V,ChildElement:()=>nm,EmojiRun:()=>Bi,Format:()=>Li,Text:()=>c,TextRun:()=>Di,Thumbnail:()=>y,VideoDetails:()=>Fi});var ft={};j(ft,{CLIENTS:()=>X,INNERTUBE_HEADERS_BASE:()=>PT,OAUTH:()=>Oi,STREAM_HEADERS:()=>xr,URLS:()=>me});var me=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Oi=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),X=Object.freeze({WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),xr=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),PT=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var br=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(br,"AudioOnlyPlayability");br.type="AudioOnlyPlayability";var ih=br;var yr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(yr,"Button");yr.type="Button";var k=yr;var wr=class extends a{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};n(wr,"DropdownItem");wr.type="DropdownItem";var oh=wr;var Tr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=d.parseArray(e.entries,oh)}};n(Tr,"Dropdown");Tr.type="Dropdown";var En=Tr;var Ir=class extends a{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=d.parseItem(e.privacyOption,En),this.create_button=d.parseItem(e.cancelButton,k),this.cancel_button=d.parseItem(e.cancelButton,k)}};n(Ir,"CreatePlaylistDialog");Ir.type="CreatePlaylistDialog";var nh=Ir;var Sr=class extends a{constructor(e){var i,o,s,r,l,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand);let _=Object.keys(e||{}).find(b=>b.endsWith("Endpoint")||b.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=d.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=d.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,nh))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Sr,"NavigationEndpoint");Sr.type="NavigationEndpoint";var g=Sr;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new y(i)).sort((i,o)=>o.width-i.width)}};n(y,"Thumbnail");var Bi=class{constructor(e){var i,o,s,r,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=sh(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Bi,"EmojiRun");var Di=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=sh(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Di,"TextRun");function sh(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(sh,"escape");var c=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Bi(l):new Di(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(c,"Text");var kr=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(kr,"CardCollection");kr.type="CardCollection";var rh=kr;var Cr=class extends a{constructor(e){super(),this.elements=d.parseArray(e.elements),this.start_ms=e.startMs}};n(Cr,"Endscreen");Cr.type="Endscreen";var ah=Cr;var Er=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:d.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Er,"PlayerAnnotationsExpanded");Er.type="PlayerAnnotationsExpanded";var uh=Er;var Pr=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};n(Pr,"PlayerCaptionsTracklist");Pr.type="PlayerCaptionsTracklist";var lh=Pr;var Nr=class extends a{constructor(){super()}};n(Nr,"PlayerLiveStoryboardSpec");Nr.type="PlayerLiveStoryboardSpec";var ch=Nr;var Ar=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[l,p,f,m,_,b,w,I]=s.split("#");o.searchParams.set("sigh",I);let S=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(b,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:S}})}};n(Ar,"PlayerStoryboardSpec");Ar.type="PlayerStoryboardSpec";var dh=Ar;var Rr=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(Rr,"Message");Rr.type="Message";var Ue=Rr;var Mr=class extends a{constructor(e){super(),this.name=new c(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=d.parseArray(e.authorBadges)}};n(Mr,"LiveChatParticipant");Mr.type="LiveChatParticipant";var ph=Mr;var Vr=class extends a{constructor(e){super(),this.title=new c(e.title),this.participants=d.parseArray(e.participants,ph)}};n(Vr,"LiveChatParticipantsList");Vr.type="LiveChatParticipantsList";var fh=Vr;var Or=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Or,"SortFilterSubMenu");Or.type="SortFilterSubMenu";var mi=Or;var Br=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.top_level_buttons=d.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Br,"Menu");Br.type="Menu";var H=Br;var Dr=class extends a{constructor(e){super(),this.overflow_menu=d.parseItem(e.overflowMenu,H),this.collapse_button=d.parseItem(e.collapseButton,k),this.view_selector=d.parseItem(e.viewSelector,mi)}};n(Dr,"LiveChatHeader");Dr.type="LiveChatHeader";var hh=Dr;var Lr=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=d.parseItem(e.moreCommentsBelowButton,k)}};n(Lr,"LiveChatItemList");Lr.type="LiveChatItemList";var mh=Lr;var Fr=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};n(Fr,"Alert");Fr.type="Alert";var _h=Fr;var Yr=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};n(Yr,"MusicMultiSelectMenuItem");Yr.type="MusicMultiSelectMenuItem";var Mt=Yr;var Li=class{constructor(e){var i,o,s,r,l,p,f,m;if(this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),b=new URLSearchParams(_.get("url")||this.url);this.language=((o=(i=b.get("xtags"))===null||i===void 0?void 0:i.split(":").find(w=>w.startsWith("lang=")))===null||o===void 0?void 0:o.split("=").at(1))||null,this.is_dubbed=((r=(s=b.get("xtags"))===null||s===void 0?void 0:s.split(":").find(w=>w.startsWith("acont=")))===null||r===void 0?void 0:r.split("=").at(1))==="dubbed",this.is_descriptive=((p=(l=b.get("xtags"))===null||l===void 0?void 0:l.split(":").find(w=>w.startsWith("acont=")))===null||p===void 0?void 0:p.split("=").at(1))==="descriptive",this.is_original=((m=(f=b.get("xtags"))===null||f===void 0?void 0:f.split(":").find(w=>w.startsWith("acont=")))===null||m===void 0?void 0:m.split("=").at(1))==="original"||!this.is_dubbed,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(Li,"Format");var Fi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Fi,"VideoDetails");var mf={};j(mf,{AccountChannel:()=>vh,AccountItemSection:()=>xh,AccountItemSectionHeader:()=>gh,AccountSectionList:()=>bh,AddBannerToLiveChatCommand:()=>mb,AddChatItemAction:()=>Om,AddLiveChatTickerItemAction:()=>_b,Alert:()=>_h,AnalyticsMainAppKeyMetrics:()=>Rg,AnalyticsRoot:()=>Mg,AnalyticsShortsCarouselCard:()=>Vg,AnalyticsVideo:()=>Th,AnalyticsVodCarouselCard:()=>Og,AnchoredSection:()=>W_,AppendContinuationItemsAction:()=>yh,AudioOnlyPlayability:()=>ih,AuthorCommentBadge:()=>Lh,AutomixPreviewVideo:()=>Yi,BackstageImage:()=>Ih,BackstagePost:()=>ji,BackstagePostThread:()=>Lg,BrowseFeedActions:()=>kh,BrowserMediaSession:()=>Fg,Button:()=>k,C4TabbedHeader:()=>Nn,CallToActionButton:()=>Yg,Card:()=>jg,CardCollection:()=>rh,CarouselHeader:()=>Ph,CarouselItem:()=>Ug,CarouselLockup:()=>Ah,Channel:()=>Rh,ChannelAboutFullMetadata:()=>Mh,ChannelAgeGate:()=>Wg,ChannelFeaturedContent:()=>Hg,ChannelHeaderLinks:()=>Ch,ChannelMetadata:()=>Vh,ChannelMobileHeader:()=>Jg,ChannelOptions:()=>Oh,ChannelSubMenu:()=>Aa,ChannelThumbnailWithLink:()=>Gg,ChannelVideoPlayer:()=>zg,Chapter:()=>Bh,ChildVideo:()=>Kg,ChipCloud:()=>Vt,ChipCloudChip:()=>ve,CollaboratorInfoCardContent:()=>$g,CollageHeroImage:()=>qg,Comment:()=>On,CommentActionButtons:()=>_o,CommentDialog:()=>Yx,CommentReplies:()=>zh,CommentReplyDialog:()=>Fh,CommentSimplebox:()=>qh,CommentThread:()=>Xh,CommentsEntryPointHeader:()=>$h,CommentsEntryPointTeaser:()=>Kh,CommentsHeader:()=>Bn,CompactChannel:()=>jx,CompactLink:()=>Dn,CompactMix:()=>Ux,CompactPlaylist:()=>Wx,CompactStation:()=>Hx,CompactVideo:()=>An,ConfirmDialog:()=>Jx,ContinuationItem:()=>Ve,ConversationBar:()=>Gx,CopyLink:()=>Qh,CreatePlaylistDialog:()=>nh,CreatorHeart:()=>Sh,CtaGoToCreatorStudio:()=>Bg,DataModelSection:()=>wh,DecoratedPlayerBar:()=>im,DefaultPromoPanel:()=>zx,DidYouMean:()=>om,DimChatItemAction:()=>vb,DownloadButton:()=>Kx,Dropdown:()=>En,DropdownItem:()=>oh,Element:()=>Fn,EmergencyOnebox:()=>$x,EmojiPicker:()=>Gh,EmojiPickerCategory:()=>qx,EmojiPickerCategoryButton:()=>Xx,EmojiPickerUpsellCategory:()=>Qx,EndScreenPlaylist:()=>sm,EndScreenVideo:()=>rm,Endscreen:()=>ah,EndscreenElement:()=>Zx,EngagementPanelSectionList:()=>pm,EngagementPanelTitleHeader:()=>am,ExpandableMetadata:()=>mm,ExpandableTab:()=>Wn,ExpandableVideoDescriptionBody:()=>um,ExpandedShelfContents:()=>eb,Factoid:()=>lm,FeedFilterChipBar:()=>vi,FeedTabbedHeader:()=>vm,GameCard:()=>hm,GameDetails:()=>tb,Grid:()=>To,GridChannel:()=>gm,GridHeader:()=>ib,GridMix:()=>ob,GridMovie:()=>nb,GridPlaylist:()=>xm,GridShow:()=>sb,GridVideo:()=>wm,GuideCollapsibleEntry:()=>rb,GuideCollapsibleSectionEntry:()=>ab,GuideDownloadsEntry:()=>ub,GuideEntry:()=>Io,GuideSection:()=>Hn,GuideSubscriptionsSection:()=>Tm,HashtagHeader:()=>Im,HeatMarker:()=>Zh,Heatmap:()=>em,HeroPlaylistThumbnail:()=>lb,HighlightsCarousel:()=>fl,HistorySuggestion:()=>cb,HorizontalCardList:()=>Un,HorizontalList:()=>db,HorizontalMovieList:()=>pb,IconLink:()=>km,InfoPanelContainer:()=>fb,InfoPanelContent:()=>Cm,InfoRow:()=>Nh,InteractiveTabbedHeader:()=>Em,ItemSection:()=>ge,ItemSectionHeader:()=>Pm,ItemSectionTab:()=>Nm,ItemSectionTabbedHeader:()=>Am,KidsCategoriesHeader:()=>H_,KidsCategoryTab:()=>es,KidsHomeScreen:()=>J_,LikeButton:()=>hb,LiveChat:()=>Rm,LiveChatActionPanel:()=>Dm,LiveChatAuthorBadge:()=>Ub,LiveChatAutoModMessage:()=>gb,LiveChatBanner:()=>Vm,LiveChatBannerHeader:()=>Mm,LiveChatBannerPoll:()=>xb,LiveChatDialog:()=>Wb,LiveChatHeader:()=>hh,LiveChatItemList:()=>mh,LiveChatMembershipItem:()=>bb,LiveChatMessageInput:()=>Hb,LiveChatPaidMessage:()=>yb,LiveChatPaidSticker:()=>wb,LiveChatParticipant:()=>ph,LiveChatParticipantsList:()=>fh,LiveChatPlaceholderItem:()=>Tb,LiveChatProductItem:()=>Ib,LiveChatRestrictedParticipation:()=>Sb,LiveChatTextMessage:()=>kb,LiveChatTickerPaidMessageItem:()=>Bm,LiveChatTickerPaidStickerItem:()=>Cb,LiveChatTickerSponsorItem:()=>Eb,LiveChatViewerEngagementMessage:()=>Pb,MacroMarkersListItem:()=>fm,MarkChatItemAsDeletedAction:()=>Ab,MarkChatItemsByAuthorAsDeletedAction:()=>Rb,Menu:()=>H,MenuNavigationItem:()=>Jb,MenuServiceItem:()=>Jn,MenuServiceItemDownload:()=>Gb,MerchandiseItem:()=>$b,MerchandiseShelf:()=>Gm,Message:()=>Ue,MetadataBadge:()=>it,MetadataRow:()=>qb,MetadataRowContainer:()=>zm,MetadataRowHeader:()=>Xb,MetadataScreen:()=>Qb,MicroformatData:()=>ii,Mix:()=>Zb,Movie:()=>ey,MovingThumbnail:()=>ty,MultiMarkersPlayerBar:()=>tm,MultiPageMenu:()=>zb,MultiPageMenuNotificationSection:()=>Kb,MusicCardShelf:()=>Xm,MusicCardShelfHeaderBasic:()=>Km,MusicCarouselShelf:()=>Pe,MusicCarouselShelfBasicHeader:()=>Qm,MusicDescriptionShelf:()=>ko,MusicDetailHeader:()=>Co,MusicDownloadStateBadge:()=>cy,MusicEditablePlaylistDetailHeader:()=>t_,MusicElementHeader:()=>Xc,MusicHeader:()=>Hi,MusicImmersiveHeader:()=>i_,MusicInlineBadge:()=>$m,MusicItemThumbnailOverlay:()=>Ui,MusicLargeCardItemCarousel:()=>dy,MusicMenuItemDivider:()=>Wm,MusicMultiSelectMenu:()=>Hm,MusicMultiSelectMenuItem:()=>Mt,MusicNavigationButton:()=>Gn,MusicPlayButton:()=>qm,MusicPlaylistShelf:()=>Eo,MusicQueue:()=>Kn,MusicResponsiveListItem:()=>Wi,MusicResponsiveListItemFixedColumn:()=>Zm,MusicResponsiveListItemFlexColumn:()=>e_,MusicShelf:()=>we,MusicSideAlignedItem:()=>n_,MusicSortFilterButton:()=>dd,MusicTastebuilderShelf:()=>r_,MusicTastebuilderShelfThumbnail:()=>s_,MusicThumbnail:()=>oi,MusicTwoRowItem:()=>zn,MusicVisualHeader:()=>a_,NavigationEndpoint:()=>g,Notification:()=>u_,OpenPopupAction:()=>Ag,PageIntroduction:()=>l_,PdgCommentChip:()=>Yh,PlayerAnnotationsExpanded:()=>uh,PlayerCaptionsTracklist:()=>lh,PlayerErrorMessage:()=>py,PlayerLegacyDesktopYpcOffer:()=>fy,PlayerLegacyDesktopYpcTrailer:()=>yd,PlayerLiveStoryboardSpec:()=>ch,PlayerMicroformat:()=>Bt,PlayerOverlay:()=>Ji,PlayerOverlayAutoplay:()=>d_,PlayerStoryboardSpec:()=>dh,Playlist:()=>ti,PlaylistCustomThumbnail:()=>f_,PlaylistHeader:()=>h_,PlaylistInfoCardContent:()=>hy,PlaylistMetadata:()=>m_,PlaylistPanel:()=>si,PlaylistPanelVideo:()=>gi,PlaylistPanelVideoWrapper:()=>o_,PlaylistSidebar:()=>my,PlaylistSidebarPrimaryInfo:()=>__,PlaylistSidebarSecondaryInfo:()=>v_,PlaylistVideo:()=>g_,PlaylistVideoList:()=>_y,PlaylistVideoThumbnail:()=>Ln,Poll:()=>vy,PollHeader:()=>Nb,Post:()=>x_,PostMultiImage:()=>gy,ProfileColumn:()=>xy,ProfileColumnStats:()=>b_,ProfileColumnStatsEntry:()=>by,ProfileColumnUserInfo:()=>y_,RecognitionShelf:()=>yy,ReelItem:()=>w_,ReelShelf:()=>T_,RelatedChipCloud:()=>I_,RemoveBannerForLiveChatCommand:()=>Mb,RemoveChatItemAction:()=>Vb,RemoveChatItemByAuthorAction:()=>Ob,ReplaceChatItemAction:()=>Bb,ReplayChatItemAction:()=>Db,RichGrid:()=>Gi,RichItem:()=>wy,RichListHeader:()=>Ty,RichMetadata:()=>qd,RichMetadataRow:()=>Qd,RichSection:()=>Iy,RichShelf:()=>S_,SearchBox:()=>Sy,SearchFilter:()=>k_,SearchFilterGroup:()=>C_,SearchRefinementCard:()=>yo,SearchSubMenu:()=>E_,SearchSuggestion:()=>Sm,SearchSuggestionsSection:()=>P_,SecondarySearchContainer:()=>ky,SectionList:()=>ee,SegmentedLikeDislikeButton:()=>Po,SettingBoolean:()=>Cy,SettingsCheckbox:()=>N_,SettingsOptions:()=>qn,SettingsSidebar:()=>A_,SettingsSwitch:()=>$n,SharedPost:()=>R_,Shelf:()=>Xn,ShowCustomThumbnail:()=>bm,ShowLiveChatActionPanelAction:()=>Lb,ShowLiveChatDialogAction:()=>Fb,ShowLiveChatTooltipCommand:()=>Yb,ShowingResultsFor:()=>M_,SimpleCardContent:()=>Ey,SimpleCardTeaser:()=>Py,SimpleMenuHeader:()=>Jm,SimpleTextSection:()=>Ny,SingleActionEmergencySupport:()=>Ay,SingleColumnBrowseResults:()=>ri,SingleColumnMusicWatchNextResults:()=>Ry,SingleHeroImage:()=>My,SlimOwner:()=>Vy,SlimVideoMetadata:()=>V_,SortFilterSubMenu:()=>mi,SponsorCommentBadge:()=>jh,StatRow:()=>Dg,StructuredDescriptionContent:()=>bo,SubFeedOption:()=>O_,SubFeedSelector:()=>Oy,SubscribeButton:()=>We,SubscriptionNotificationToggleButton:()=>Eh,Tab:()=>xe,Tabbed:()=>By,TabbedSearchResults:()=>B_,TextHeader:()=>Dy,ThumbnailLandscapePortrait:()=>Ly,ThumbnailOverlayBottomPanel:()=>ym,ThumbnailOverlayEndorsement:()=>Fy,ThumbnailOverlayHoverText:()=>Yy,ThumbnailOverlayInlineUnplayable:()=>jy,ThumbnailOverlayLoadingPreview:()=>Uy,ThumbnailOverlayNowPlaying:()=>Wy,ThumbnailOverlayPinking:()=>Hy,ThumbnailOverlayPlaybackStatus:()=>Jy,ThumbnailOverlayResumePlayback:()=>Gy,ThumbnailOverlaySidePanel:()=>zy,ThumbnailOverlayTimeStatus:()=>wo,ThumbnailOverlayToggleButton:()=>Ky,TimedMarkerDecoration:()=>$y,TitleAndButtonListHeader:()=>qy,ToggleButton:()=>Ye,ToggleMenuServiceItem:()=>Xy,Tooltip:()=>Qy,TopicChannelDetails:()=>Zy,TwoColumnBrowseResults:()=>zi,TwoColumnSearchResults:()=>D_,TwoColumnWatchNextResults:()=>Qn,UniversalWatchCard:()=>F_,UpdateDateTextAction:()=>Lm,UpdateDescriptionAction:()=>Fm,UpdateLiveChatPollAction:()=>jb,UpdateTitleAction:()=>Ym,UpdateToggleButtonTextAction:()=>jm,UpdateViewershipAction:()=>Um,UpsellDialog:()=>ew,VerticalList:()=>tw,VerticalWatchCardList:()=>iw,Video:()=>jn,VideoCard:()=>_m,VideoDescriptionHeader:()=>cm,VideoDescriptionInfocardsSection:()=>dm,VideoDescriptionMusicSection:()=>Yn,VideoInfoCardContent:()=>ow,VideoOwner:()=>Zn,VideoPrimaryInfo:()=>Y_,VideoSecondaryInfo:()=>sf,WatchCardCompactVideo:()=>j_,WatchCardHeroVideo:()=>sw,WatchCardRichHeader:()=>rw,WatchCardSectionSequence:()=>aw,WatchNextEndScreen:()=>p_,WatchNextTabbedResults:()=>U_,YpcTrailer:()=>c_});var jr=class extends a{constructor(e){super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint)}};n(jr,"AccountChannel");jr.type="AccountChannel";var vh=jr;var Ur=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Ur,"AccountItemSectionHeader");Ur.type="AccountItemSectionHeader";var gh=Ur;var Wr=class extends a{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};n(Wr,"AccountItem");Wr.type="AccountItem";var Hr=class extends a{constructor(e){super(),this.contents=ce(e.contents.map(i=>new Wr(i.accountItem))),this.header=d.parseItem(e.header,gh)}};n(Hr,"AccountItemSection");Hr.type="AccountItemSection";var xh=Hr;var Jr=class extends a{constructor(e){super(),this.contents=d.parseItem(e.contents[0],xh),this.footers=d.parseItem(e.footers[0],vh)}};n(Jr,"AccountSectionList");Jr.type="AccountSectionList";var bh=Jr;var Gr=class extends a{constructor(e){super(),this.items=d.parse(e.continuationItems),this.target=e.target}};n(Gr,"AppendContinuationItemsAction");Gr.type="AppendContinuationItemsAction";var yh=Gr;var zr=class extends a{constructor(e){super(),this.popup=d.parseItem(e.popup),this.popup_type=e.popupType}};n(zr,"OpenPopupAction");zr.type="OpenPopupAction";var Ag=zr;var Kr=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Kr,"DataModelSection");Kr.type="DataModelSection";var wh=Kr;var $r=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new wh(o))}};n($r,"AnalyticsMainAppKeyMetrics");$r.type="AnalyticsMainAppKeyMetrics";var Rg=$r;var qr=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(qr,"AnalyticsRoot");qr.type="AnalyticsRoot";var Mg=qr;var Xr=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};n(Xr,"AnalyticsShortsCarouselCard");Xr.type="AnalyticsShortsCarouselCard";var Vg=Xr;var Qr=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Qr,"AnalyticsVideo");Qr.type="AnalyticsVideo";var Th=Qr;var Zr=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Th(i)))}};n(Zr,"AnalyticsVodCarouselCard");Zr.type="AnalyticsVodCarouselCard";var Og=Zr;var ea=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(ea,"CtaGoToCreatorStudio");ea.type="CtaGoToCreatorStudio";var Bg=ea;var ta=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};n(ta,"StatRow");ta.type="StatRow";var Dg=ta;var ia=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(ia,"AutomixPreviewVideo");ia.type="AutomixPreviewVideo";var Yi=ia;var oa=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new g(e.command)}};n(oa,"BackstageImage");oa.type="BackstageImage";var Ih=oa;var na=class extends a{constructor(e){var i,o,s,r,l,p,f,m;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let _=((s=(o=(i=e==null?void 0:e.defaultText)===null||i===void 0?void 0:i.accessibility)===null||o===void 0?void 0:o.accessibilityData)===null||s===void 0?void 0:s.label)||((l=(r=e==null?void 0:e.accessibilityData)===null||r===void 0?void 0:r.accessibilityData)===null||l===void 0?void 0:l.label)||((p=e==null?void 0:e.accessibility)===null||p===void 0?void 0:p.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(_.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=!((m=(f=e.defaultServiceEndpoint)===null||f===void 0?void 0:f.commandExecutorCommand)===null||m===void 0)&&m.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(na,"ToggleButton");na.type="ToggleButton";var Ye=na;var sa=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(sa,"CreatorHeart");sa.type="CreatorHeart";var Sh=sa;var ra=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,Ye),this.dislike_button=d.parseItem(e.dislikeButton,Ye),this.reply_button=d.parseItem(e.replyButton,k),this.creator_heart=d.parseItem(e.creatorHeart,Sh)}};n(ra,"CommentActionButtons");ra.type="CommentActionButtons";var _o=ra;var aa=class extends a{constructor(e){super(),this.id=e.postId,this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=d.parseItem(e.actionMenu,H)),Reflect.has(e,"actionButtons")&&(this.action_buttons=d.parseItem(e.actionButtons,_o)),Reflect.has(e,"voteButton")&&(this.vote_button=d.parseItem(e.voteButton,_o)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=d.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(aa,"BackstagePost");aa.type="BackstagePost";var ji=aa;var ua=class extends a{constructor(e){super(),this.post=d.parseItem(e.post)}};n(ua,"BackstagePostThread");ua.type="BackstagePostThread";var Lg=ua;var la=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(la,"BrowseFeedActions");la.type="BrowseFeedActions";var kh=la;var ca=class extends a{constructor(e){super(),this.album=new c(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};n(ca,"BrowserMediaSession");ca.type="BrowserMediaSession";var Fg=ca;var Pn=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new c(e.title)}};n(Pn,"HeaderLink");Pn.type="HeaderLink";var da=class extends a{constructor(e){var i,o;super(),this.primary=ce(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new Pn(s)))||[]),this.secondary=ce(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new Pn(s)))||[])}};n(da,"ChannelHeaderLinks");da.type="ChannelHeaderLinks";var Ch=da;var pa=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:d.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(pa,"SubscriptionNotificationToggleButton");pa.type="SubscriptionNotificationToggleButton";var Eh=pa;var fa=class extends a{constructor(e){var i,o;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=d.parseItem(e.notificationPreferenceButton,Eh),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(fa,"SubscribeButton");fa.type="SubscribeButton";var We=fa;var ha=class extends a{constructor(e){super(),this.author=new V({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=d.parseItem(e.sponsorButton,k)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=d.parseItem(e.subscribeButton,[We,k])),Reflect.has(e,"headerLinks")&&(this.header_links=d.parseItem(e.headerLinks,Ch)),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};n(ha,"C4TabbedHeader");ha.type="C4TabbedHeader";var Nn=ha;var ma=class extends a{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(ma,"CallToActionButton");ma.type="CallToActionButton";var Yg=ma;var _a=class extends a{constructor(e){super(),this.teaser=d.parseItem(e.teaser),this.content=d.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(_a,"Card");_a.type="Card";var jg=_a;var va=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(va,"CarouselHeader");va.type="CarouselHeader";var Ph=va;var ga=class extends a{constructor(e){super(),this.items=d.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(ga,"CarouselItem");ga.type="CarouselItem";var Ug=ga;var xa=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new c(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new c(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(xa,"InfoRow");xa.type="InfoRow";var Nh=xa;var ba=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(ba,"MetadataBadge");ba.type="MetadataBadge";var it=ba;var ya=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parse(e.richThumbnail)),this.title=new c(e.title),this.author=new V(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=d.parseArray(e.badges,it),this.duration={text:new c(e.lengthText).toString(),seconds:He(new c(e.lengthText).toString())},this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,H)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(ya,"CompactVideo");ya.type="CompactVideo";var An=ya;var wa=class extends a{constructor(e){super(),this.info_rows=d.parseArray(e.infoRows,Nh),this.video_lockup=d.parseItem(e.videoLockup,An)}};n(wa,"CarouselLockup");wa.type="CarouselLockup";var Ah=wa;var Ta=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,[We,k]),this.description_snippet=new c(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(Ta,"Channel");Ta.type="Channel";var Rh=Ta;var Ia=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new g(s.navigationEndpoint),icon:y.fromResponse(s.icon),title:new c(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=d.parseArray(e.actionButtons,k)}get views(){return this.view_count}get joined(){return this.joined_date}};n(Ia,"ChannelAboutFullMetadata");Ia.type="ChannelAboutFullMetadata";var Mh=Ia;var Sa=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=$.parseItem(e.signInButton,k),this.secondary_text=new c(e.secondaryText)}};n(Sa,"ChannelAgeGate");Sa.type="ChannelAgeGate";var Wg=Sa;var ka=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items)}};n(ka,"ChannelFeaturedContent");ka.type="ChannelFeaturedContent";var Hg=ka;var Ca=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ca,"ChannelMetadata");Ca.type="ChannelMetadata";var Vh=Ca;var Ea=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Ea,"ChannelMobileHeader");Ea.type="ChannelMobileHeader";var Jg=Ea;var Pa=class extends a{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};n(Pa,"ChannelOptions");Pa.type="ChannelOptions";var Oh=Pa;var Na=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=d.parseItem(e.sortSetting)}};n(Na,"ChannelSubMenu");Na.type="ChannelSubMenu";var Aa=Na;var Ra=class extends a{constructor(e){var i,o;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Ra,"ChannelThumbnailWithLink");Ra.type="ChannelThumbnailWithLink";var Gg=Ra;var Ma=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(Ma,"ChannelVideoPlayer");Ma.type="ChannelVideoPlayer";var zg=Ma;var Va=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};n(Va,"Chapter");Va.type="Chapter";var Bh=Va;var Oa=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:He(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};n(Oa,"ChildVideo");Oa.type="ChildVideo";var Kg=Oa;var Ba=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.text=new c(e.text).toString()}};n(Ba,"ChipCloudChip");Ba.type="ChipCloudChip";var ve=Ba;var Da=class extends a{constructor(e){super(),this.chips=d.parseArray(e.chips,ve),this.next_button=d.parseItem(e.nextButton,k),this.previous_button=d.parseItem(e.previousButton,k),this.horizontal_scrollable=e.horizontalScrollable}};n(Da,"ChipCloud");Da.type="ChipCloud";var Vt=Da;var La=class extends a{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};n(La,"CollaboratorInfoCardContent");La.type="CollaboratorInfoCardContent";var $g=La;var Fa=class extends a{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};n(Fa,"CollageHeroImage");Fa.type="CollageHeroImage";var qg=Fa;var Dh,Ya=class extends a{constructor(e){super(),Dh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,Dh,e,"f")}get orig_badge(){return u(this,Dh,"f")}};n(Ya,"AuthorCommentBadge");Dh=new WeakMap;Ya.type="AuthorCommentBadge";var Lh=Ya;var ja=class extends a{constructor(e){super(),this.reply_button=d.parseItem(e.replyButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};n(ja,"CommentReplyDialog");ja.type="CommentReplyDialog";var Fh=ja;var Ua=class extends a{constructor(e){var i,o;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Ua,"PdgCommentChip");Ua.type="PdgCommentChip";var Yh=Ua;var Wa=class extends a{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Wa,"SponsorCommentBadge");Wa.type="SponsorCommentBadge";var jh=Wa;var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P=P||(P={}));var B=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Wh(y0(this),Uh).toString(!1);let s=[],r=new B(i,o);for(;RT(r,NT);){let[l,p]=AT(r);s.push(p),r=l}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new B(0);if(e.length<10)return i<0?Wh(y0(new B(-i)),Uh):new B(i);let s=new B,r=Uh;for(let l of e.split("").reverse())parseInt(l)&&(s=Wh(s,Xg(new B(parseInt(l)),r))),r=Xg(r,new B(10));return o?Wh(y0(s),Uh):s}};n(B,"Long");var NT=new B(0),Uh=new B(1);function Hh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Hh,"makeChunk");function Wh(t,e){let[i,o,s,r]=Hh(t),[l,p,f,m]=Hh(e),_=0,b=0,w=0,I=0;return I+=i+l,w+=I>>>16,I&=65535,w+=o+p,b+=w>>>16,w&=65535,b+=s+f,_+=b>>>16,b&=65535,_+=r+m,_&=65535,new B(w<<16|I,_<<16|b)}n(Wh,"add");function Xg(t,e){let[i,o,s,r]=Hh(t),[l,p,f,m]=Hh(e),_=0,b=0,w=0,I=0;return I+=i*l,w+=I>>>16,I&=65535,w+=i*p+o*l,b+=w>>>16,w&=65535,b+=i*f+s*l+o*p,_+=b>>>16,b&=65535,_+=i*m+o*f+s*p+r*l,_&=65535,new B(w<<16|I,_<<16|b)}n(Xg,"mul");function AT(t){let[e,i]=t;return[new B((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(AT,"divByTen");function RT(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(RT,"compare");function y0(t){let[e,i]=t;return new B(~e,~i)}n(y0,"negate");function Rn(t){let e=[],s=typeof t=="number"?new B(t):t;for(;s[0]||s[1];){let[r,l]=s,p=r&127,f=l>>>7,m=r>>>7|(l&127)<<32-7;s=new B(m,f);let _=s[0]||s[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Rn,"encode");function Mn(t){let e=new B(0),i=0;for(;;){let o=t.getUint8(i);if(e=MT(e,VT(new B(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Mn,"decode");function MT(t,e){return new B(t[0]|e[0],t[1]|e[1])}n(MT,"or");function VT(t,e){return e===0?t:e>=32?new B(0,t[0]<<e-32):new B(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(VT,"leftshift");function A(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Rn(i<<3|o.type)),o.type){case P.Varint:e.push(Rn(o.value));break;case P.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case P.LengthDelimited:e.push(Rn(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),w0(e)}n(A,"serialize");function w0(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(w0,"concat");function T0(t){if(t instanceof B){let e=new B(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(T0,"encode");function I0(t){if(t instanceof B){let e=new B(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new B(4294967295,4294967295):new B;return new B(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(I0,"decode");var S0={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>I0(t[0]),sint64:t=>I0(t).toString(!0),bool:t=>t[0]!==0},k0={int32:t=>new B(t),int64:t=>B.parse(t),uint32:t=>new B(t),uint64:t=>B.parse(t),sint32:t=>T0(new B(t)),sint64:t=>T0(B.parse(t)),bool:t=>new B(+t)},OT=Object.fromEntries(Object.entries(S0).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),BT=Object.fromEntries(Object.entries(k0).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),G=Object.assign(Object.assign({},OT),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},BT),{double:t=>{let e=new B;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:B.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:B.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),DT=Object.fromEntries(Object.keys(S0).map(t=>[t,function*(e){for(let i of e){let o=G[t](i);if(o!=null)yield o;else for(let s of jT(i))yield S0[t](s)}}])),XN=Object.assign(Object.assign({},DT),{*double(t){for(let e of t){let i=G.double(e);i!=null?yield i:yield*FT(e)}},*float(t){for(let e of t){let i=G.float(e);i!=null?yield i:yield*YT(e)}},*fixed32(t){for(let e of t){let i=G.fixed32(e);if(i!=null)yield i;else for(let o of Qg(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=G.fixed64(e);if(i!=null)yield i;else for(let o of Zg(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=G.sfixed32(e);if(i!=null)yield i;else for(let o of Qg(e))yield o|0}},*sfixed64(t){for(let e of t){let i=G.sfixed64(e);if(i!=null)yield i;else for(let o of Zg(e))yield o.toString(!0)}}}),LT=Object.fromEntries(Object.keys(k0).map(t=>[t,function(e){return{type:P.LengthDelimited,value:w0(e.map(i=>{let o=k0[t](i);return Rn(o)}))}}]));function Vn(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let l=0;l<o.length;++l)e(r,l*t,o[l]);return{type:P.LengthDelimited,value:s}},"pack")}n(Vn,"getFixedPackFn");var QN=Object.assign(Object.assign({},LT),{double:Vn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Vn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Vn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Vn(8,(t,e,i)=>{let o=B.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Vn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Vn(8,(t,e,i)=>{let o=B.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*FT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n(FT,"unpackDouble");function*YT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(YT,"unpackFloat");function*jT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=Mn(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(jT,"unpackVarint");function*Qg(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(Qg,"unpackFixed32");function*Zg(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new B(s,r)}}n(Zg,"unpackFixed64");function z(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=Mn(new DataView(t.buffer,i+e)),l=r[1][0];e+=r[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case P.Varint:{let[b,w]=Mn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:w}]),e+=b;break}case P.Fixed64:let m=s.getUint32(e,!0),_=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new B(m,_)}]);break;case P.LengthDelimited:{let[b,w]=Mn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=b,e+=w[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([f,{type:p}]);break;case P.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(z,"deserialize");function UT(){return{id:"",timestamp:0}}n(UT,"getDefaultValue");function ex(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return A(e)}n(ex,"encodeBinary");function tx(t){let e=UT(),i=z(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=G.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=G.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(tx,"decodeBinary");function ix(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return A(e)}n(ix,"encodeBinary");function ox(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:ix(i)}])}return A(e)}n(ox,"encodeBinary");function nx(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return A(e)}n(nx,"encodeBinary");function sx(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:nx(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return A(e)}n(sx,"encodeBinary");function rx(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return A(e)}n(rx,"encodeBinary");function ax(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:rx(i)}])}return A(e)}n(ax,"encodeBinary");function ux(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:ax(i)}])}return A(e)}n(ux,"encodeBinary");function lx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}n(lx,"encodeBinary");function cx(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:lx(i)}])}return A(e)}n(cx,"encodeBinary");function dx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:cx(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return A(e)}n(dx,"encodeBinary");function px(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return A(e)}n(px,"encodeBinary");function fx(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return A(e)}n(fx,"encodeBinary");function hx(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:fx(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return A(e)}n(hx,"encodeBinary");function mx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return A(e)}n(mx,"encodeBinary");function _x(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:hx(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:mx(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return A(e)}n(_x,"encodeBinary");function vx(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:px(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:_x(i)}])}return A(e)}n(vx,"encodeBinary");function gx(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}n(gx,"encodeBinary");function xx(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:gx(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return A(e)}n(xx,"encodeBinary");function bx(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(bx,"encodeBinary");function yx(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:bx(i)}])}return A(e)}n(yx,"encodeBinary");function wx(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:yx(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return A(e)}n(wx,"encodeBinary");function Tx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:wx(i)}])}return A(e)}n(Tx,"encodeBinary");function Ix(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return A(e)}n(Ix,"encodeBinary");function Sx(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:Ix(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return A(e)}n(Sx,"encodeBinary");function kx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return A(e)}n(kx,"encodeBinary");function Cx(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:kx(i)}])}return A(e)}n(Cx,"encodeBinary");function Ex(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(Ex,"encodeBinary");function Px(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return A(e)}n(Px,"encodeBinary");function Nx(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return A(e)}n(Nx,"encodeBinary");function Ax(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return A(e)}n(Ax,"encodeBinary");function Rx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return A(e)}n(Rx,"encodeBinary");function Mx(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return A(e)}n(Mx,"encodeBinary");function Vx(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:Mx(i)}])}return A(e)}n(Vx,"encodeBinary");function Ox(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return A(e)}n(Ox,"encodeBinary");function Bx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}n(Bx,"encodeBinary");function Dx(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return A(e)}n(Dx,"encodeBinary");function C0(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:Cx(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:Ex(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:Px(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:Nx(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:Ax(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:Rx(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:Vx(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:Ox(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:Bx(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:Dx(i)}])}return A(e)}n(C0,"encodeBinary");function Lx(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return A(e)}n(Lx,"encodeBinary");function Fx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:Lx(i)}])}return A(e)}n(Fx,"encodeBinary");var Jh=class{static encodeVisitorData(e,i){let o=ex({id:e,timestamp:i});return encodeURIComponent(Tt(o).replace(/\+/g,"-").replace(/\//g,"_"))}static decodeVisitorData(e){return tx(E0(decodeURIComponent(e)))}static encodeChannelAnalyticsParams(e){let i=ox({params:{channelId:e}});return encodeURIComponent(Tt(i))}static encodeSearchFilters(e){let i={all:void 0,hour:1,today:2,week:3,month:4,year:5},o={all:void 0,video:1,channel:2,playlist:3,movie:4},s={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},l={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},p={};if(e?p.filters={}:p.noFilter=0,p.filters&&(e.upload_date&&(p.filters.uploadDate=i[e.upload_date]),e.type&&(p.filters.type=o[e.type]),e.duration&&(p.filters.duration=s[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(p.sortBy=r[e.sort_by]),e.features))for(let m of e.features)p.filters[l[m]]=1;let f=sx(p);return encodeURIComponent(Tt(f))}static encodeMusicSearchFilters(e){var i;let o={filters:{type:{}}};e.type&&e.type!=="all"&&((i=o.filters)===null||i===void 0?void 0:i.type)&&(o.filters.type[e.type]=1);let s=ux(o);return encodeURIComponent(Tt(s))}static encodeMessageParams(e,i){let o=dx({params:{ids:{channelId:e,videoId:i}},number0:1,number1:4});return btoa(encodeURIComponent(Tt(o)))}static encodeCommentsSectionParams(e,i={}){let s=vx({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i.sort_by||"TOP_COMMENTS"],type:i.type||2},target:"comments-section"}});return encodeURIComponent(Tt(s))}static encodeCommentParams(e){let i=xx({videoId:e,params:{index:0},number:7});return encodeURIComponent(Tt(i))}static encodeCommentActionParams(e,i={}){let o={type:e,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete o.unkNum,o.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let s=Tx(o);return encodeURIComponent(Tt(s))}static encodeNotificationPref(e,i){let o=Sx({channelId:e,prefId:{index:i},number0:0,number1:4});return encodeURIComponent(Tt(o))}static encodeVideoMetadataPayload(e,i){let o={context:{client:{unkparam:14,clientName:X.ANDROID.NAME,clientVersion:X.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(i,"title")&&(o.title={text:i.title||""}),Reflect.has(i,"description")&&(o.description={text:i.description||""}),Reflect.has(i,"license")&&(o.license={type:i.license||""}),Reflect.has(i,"tags")&&(o.tags={list:i.tags||[]}),Reflect.has(i,"category")&&(o.category={id:i.category||0}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":o.privacy={type:1};break;case"UNLISTED":o.privacy={type:2};break;case"PRIVATE":o.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(i,"made_for_kids")&&(o.madeForKids={unkparam:1,choice:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(o.ageRestricted={unkparam:1,choice:i.age_restricted?1:2}),C0(o)}static encodeCustomThumbnailPayload(e,i){let o={context:{client:{unkparam:14,clientName:X.ANDROID.NAME,clientVersion:X.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:i}}};return C0(o)}static encodeHashtag(e){let i=Fx({params:{hashtag:e,type:1}});return encodeURIComponent(Tt(i))}};n(Jh,"Proto");var ye=Jh;var Ot,Ha=class extends a{constructor(e){var i,o,s,r,l,p,f;super(),Ot.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=d.parseItem(e.sponsorCommentBadge,jh),this.paid_comment_chip=d.parseItem(e.paidCommentChipRenderer,Yh),this.author_badge=d.parseItem(e.authorCommentBadge,Lh),this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=d.parseItem(e.actionMenu,H),this.action_buttons=d.parseItem(e.actionButtons,_o),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((l=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return x(this,void 0,void 0,function*(){if(!u(this,Ot,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,Ot,"f"),{parse:!1})})}dislike(){var e;return x(this,void 0,void 0,function*(){if(!u(this,Ot,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,Ot,"f"),{parse:!1})})}reply(e){var i,o,s;return x(this,void 0,void 0,function*(){if(!u(this,Ot,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(Fh).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(u(this,Ot,"f"),{commentText:e})})}translate(e){var i,o,s,r,l,p;return x(this,void 0,void 0,function*(){if(!u(this,Ot,"f"))throw new v("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=ye.encodeCommentActionParams(22,m),b=yield u(this,Ot,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),w=(o=(i=b.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,I=(p=(l=(r=(s=w==null?void 0:w[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},b),{content:I})})}setActions(e){T(this,Ot,e,"f")}};n(Ha,"Comment");Ot=new WeakMap;Ha.type="Comment";var On=Ha;var Ja=class extends a{constructor(e){super(),this.id=e.id,this.categories=d.parseArray(e.categories),this.category_buttons=d.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Ja,"EmojiPicker");Ja.type="EmojiPicker";var Gh=Ja;var Ga=class extends a{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=d.parseItem(e.submitButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.placeholder=new c(e.placeholderText),this.emoji_button=d.parseItem(e.emojiButton,k),this.emoji_picker=d.parseItem(e.emojiPicker,Gh)}};n(Ga,"CommentDialog");Ga.type="CommentDialog";var Yx=Ga;var za=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),this.view_replies=d.parseItem(e.viewReplies,k),this.hide_replies=d.parseItem(e.hideReplies,k),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(za,"CommentReplies");za.type="CommentReplies";var zh=za;var Ka=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};n(Ka,"CommentsEntryPointTeaser");Ka.type="CommentsEntryPointTeaser";var Kh=Ka;var $a=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=$.parseItem(e.contentRenderer,Kh)),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};n($a,"CommentsEntryPointHeader");$a.type="CommentsEntryPointHeader";var $h=$a;var qa=class extends a{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=d.parseItem(e.createRenderer),this.sort_menu=d.parseItem(e.sortMenu,mi),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(qa,"CommentsHeader");qa.type="CommentsHeader";var Bn=qa;var Xa=class extends a{constructor(e){super(),this.submit_button=d.parseItem(e.submitButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};n(Xa,"CommentSimplebox");Xa.type="CommentSimplebox";var qh=Xa;var Qa=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=d.parseItem(e.button,k)),this.endpoint=new g(e.continuationEndpoint)}};n(Qa,"ContinuationItem");Qa.type="ContinuationItem";var Ve=Qa;var _i,vo,Za=class extends a{constructor(e){super(),_i.set(this,void 0),vo.set(this,void 0),this.comment=d.parseItem(e.comment,On),this.comment_replies_data=d.parseItem(e.replies,zh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return x(this,void 0,void 0,function*(){if(!u(this,_i,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(Ve);if(!i)throw new v("Replies continuation not found.");let o=yield i.endpoint.call(u(this,_i,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ce(o.on_response_received_endpoints_memo.getType(On).map(s=>(s.setActions(u(this,_i,"f")),s))),T(this,vo,o==null?void 0:o.on_response_received_endpoints_memo.getType(Ve).first(),"f"),this})}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,vo,"f"))throw new v("Continuation not found.");if(!u(this,_i,"f"))throw new v("Actions instance not set for this thread.");let i=(e=u(this,vo,"f").button)===null||e===void 0?void 0:e.as(k);if(!i)throw new v('"Load more" button not found.');let o=yield i.endpoint.call(u(this,_i,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ce(o.on_response_received_endpoints_memo.getType(On).map(s=>(s.setActions(u(this,_i,"f")),s))),T(this,vo,o.on_response_received_endpoints_memo.getType(Ve).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,vo,"f")}setActions(e){T(this,_i,e,"f")}};n(Za,"CommentThread");_i=new WeakMap,vo=new WeakMap;Za.type="CommentThread";var Xh=Za;var eu=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=d.parseItem(e.menu,H)}};n(eu,"CompactChannel");eu.type="CompactChannel";var jx=eu;var tu=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};n(tu,"CompactLink");tu.type="CompactLink";var Dn=tu;var iu=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(iu,"PlaylistVideoThumbnail");iu.type="PlaylistVideoThumbnail";var Ln=iu;var ou=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):new V(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=d.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=d.parseItem(e.menu),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer,Ln)||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};n(ou,"Playlist");ou.type="Playlist";var ti=ou;var nu=class extends ti{constructor(e){super(e)}};n(nu,"CompactMix");nu.type="CompactMix";var Ux=nu;var su=class extends ti{constructor(e){super(e)}};n(su,"CompactPlaylist");su.type="CompactPlaylist";var Wx=su;var ru=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};n(ru,"CompactStation");ru.type="CompactStation";var Hx=ru;var au=class extends a{constructor(e){super(),this.title=new c(e.title),this.confirm_button=d.parseItem(e.confirmButton,k),this.cancel_button=d.parseItem(e.cancelButton,k),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(au,"ConfirmDialog");au.type="ConfirmDialog";var Jx=au;var uu=class extends a{constructor(e){super(),this.availability_message=d.parseItem(e.availabilityMessage,Ue)}};n(uu,"ConversationBar");uu.type="ConversationBar";var Gx=uu;var lu=class extends a{constructor(e){super(),this.copy_button=d.parseItem(e.copyButton,k),this.short_url=e.shortUrl,this.style=e.style}};n(lu,"CopyLink");lu.type="CopyLink";var Qh=lu;var cu=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(cu,"HeatMarker");cu.type="HeatMarker";var Zh=cu;var du=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=d.parseArray(e.heatMarkers,Zh),this.heat_markers_decorations=d.parseArray(e.heatMarkersDecorations)}};n(du,"Heatmap");du.type="Heatmap";var em=du;var pu=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=d.parseItem(e.value.heatmap,em)),Reflect.has(e.value,"chapters")&&(this.value.chapters=d.parseArray(e.value.chapters,Bh)))}};n(pu,"Marker");pu.type="Marker";var fu=class extends a{constructor(e){var i;super(),this.markers_map=ce(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new pu(o)))||[])}};n(fu,"MultiMarkersPlayerBar");fu.type="MultiMarkersPlayerBar";var tm=fu;var hu=class extends a{constructor(e){super(),this.player_bar=d.parseItem(e.playerBar,tm),this.player_bar_action_button=d.parseItem(e.playerBarActionButton,k)}};n(hu,"DecoratedPlayerBar");hu.type="DecoratedPlayerBar";var im=hu;var mu=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=d.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=d.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(mu,"DefaultPromoPanel");mu.type="DefaultPromoPanel";var zx=mu;var _u=class extends a{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(_u,"DidYouMean");_u.type="DidYouMean";var om=_u;var vu=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};n(vu,"DownloadButton");vu.type="DownloadButton";var Kx=vu;var go=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new go(o)))}};n(go,"ChildElement");go.type="ChildElement";var nm=go;var xo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return d.parseItem(e,xo);let o=e.newElement.type.componentType;this.model=d.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ce(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new nm(s)))||[]))}};n(xo,"Element");xo.type="Element";var Fn=xo;var gu=class extends a{constructor(e){super(),this.title=new c(e.title),this.first_option=d.parseItem(e.firstOption),this.menu=d.parseItem(e.menu,H)}};n(gu,"EmergencyOnebox");gu.type="EmergencyOnebox";var $x=gu;var xu=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(xu,"EmojiPickerCategory");xu.type="EmojiPickerCategory";var qx=xu;var bu=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(bu,"EmojiPickerCategoryButton");bu.type="EmojiPickerCategoryButton";var Xx=bu;var yu=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};n(yu,"EmojiPickerUpsellCategory");yu.type="EmojiPickerUpsellCategory";var Qx=yu;var wu=class extends a{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=d.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(wu,"EndscreenElement");wu.type="EndscreenElement";var Zx=wu;var Tu=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};n(Tu,"EndScreenPlaylist");Tu.type="EndScreenPlaylist";var sm=Tu;var Iu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new V(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=d.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Iu,"EndScreenVideo");Iu.type="EndScreenVideo";var rm=Iu;var Su=class extends a{constructor(e){super(),this.title=new c(e.title),this.visibility_button=$.parseItem(e.visibilityButton,k)}};n(Su,"EngagementPanelTitleHeader");Su.type="EngagementPanelTitleHeader";var am=Su;var ku=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=d.parseItem(e.subMenu))}};n(ku,"SectionList");ku.type="SectionList";var ee=ku;var Cu=class extends a{constructor(e){var i;super(),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Cu,"ExpandableVideoDescriptionBody");Cu.type="ExpandableVideoDescriptionBody";var um=Cu;var Eu=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value),this.accessibility_text=e.accessibilityText}};n(Eu,"Factoid");Eu.type="Factoid";var lm=Eu;var Pu=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel=new c(e.channel),this.channel_navigation_endpoint=new g(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new c(e.publishDate),this.views=new c(e.views),this.factoids=d.parseArray(e.factoid,lm)}};n(Pu,"VideoDescriptionHeader");Pu.type="VideoDescriptionHeader";var cm=Pu;var Nu=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.creator_videos_button=d.parseItem(e.creatorVideosButton,k),this.creator_about_button=d.parseItem(e.creatorAboutButton,k),this.section_subtitle=new c(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new g(e.channelEndpoint)}};n(Nu,"VideoDescriptionInfocardsSection");Nu.type="VideoDescriptionInfocardsSection";var dm=Nu;var Au=class extends a{constructor(e){super(),this.carousel_lockups=d.parseArray(e.carouselLockups,Ah),this.section_title=new c(e.sectionTitle)}};n(Au,"VideoDescriptionMusicSection");Au.type="VideoDescriptionMusicSection";var Yn=Au;var Ru=class extends a{constructor(e){super(),this.items=d.parseArray(e.items,[cm,um,Yn,dm])}};n(Ru,"StructuredDescriptionContent");Ru.type="StructuredDescriptionContent";var bo=Ru;var Mu=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,am),this.content=d.parseItem(e.content,[ee,Ve,bo]),this.panel_identifier=e.panelIdentifier,this.target_id=e.targetId,this.visibility=e.visibility}};n(Mu,"EngagementPanelSectionList");Mu.type="EngagementPanelSectionList";var pm=Mu;var Vu=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new c(e.query).toString()}};n(Vu,"SearchRefinementCard");Vu.type="SearchRefinementCard";var yo=Vu;var Ou=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(Ou,"MacroMarkersListItem");Ou.type="MacroMarkersListItem";var fm=Ou;var Bu=class extends a{constructor(e){super(),this.game=d.parseItem(e.game)}};n(Bu,"GameCard");Bu.type="GameCard";var hm=Bu;var Du=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};n(Du,"ThumbnailOverlayTimeStatus");Du.type="ThumbnailOverlayTimeStatus";var wo=Du;var Lu=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new c(l.snippetText),hover_text:new c(l.snippetHoverText)}))),this.expandable_metadata=d.parseItem(e.expandableMetadata,mm),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=d.parseItem(e.richThumbnail)),this.author=new V(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=d.parseArray(e.badges,it),this.endpoint=new g(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:He(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=d.parseItem(e.menu,H),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(wo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Lu,"Video");Lu.type="Video";var jn=Lu;var Fu=class extends jn{constructor(e){super(e)}};n(Fu,"VideoCard");Fu.type="VideoCard";var _m=Fu;var Yu=class extends a{constructor(e){super(),this.cards=d.parseArray(e.cards,[yo,fm,hm,_m]),this.header=d.parseItem(e.header),this.previous_button=d.parseItem(e.previousButton,k),this.next_button=d.parseItem(e.nextButton,k)}};n(Yu,"HorizontalCardList");Yu.type="HorizontalCardList";var Un=Yu;var ju=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=d.parseItem(e.expandedContent,Un),this.expand_button=d.parseItem(e.expandButton,k),this.collapse_button=d.parseItem(e.collapseButton,k)}};n(ju,"ExpandableMetadata");ju.type="ExpandableMetadata";var mm=ju;var Uu=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=d.parseItem(e.content)}};n(Uu,"ExpandableTab");Uu.type="ExpandableTab";var Wn=Uu;var Wu=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Wu,"ExpandedShelfContents");Wu.type="ExpandedShelfContents";var eb=Wu;var Hu=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents,ve)}};n(Hu,"FeedFilterChipBar");Hu.type="FeedFilterChipBar";var vi=Hu;var Ju=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Ju,"FeedTabbedHeader");Ju.type="FeedTabbedHeader";var vm=Ju;var Gu=class extends a{constructor(e){super(),this.title=new c(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Gu,"GameDetails");Gu.type="GameDetails";var tb=Gu;var zu=class extends a{constructor(e){var i,o,s;super(),this.items=d.parseArray(e.items),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n(zu,"Grid");zu.type="Grid";var To=zu;var Ku=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton)}};n(Ku,"GridChannel");Ku.type="GridChannel";var gm=Ku;var $u=class extends a{constructor(e){super(),this.title=new c(e.title)}};n($u,"GridHeader");$u.type="GridHeader";var ib=$u;var qu=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new c(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(qu,"GridMix");qu.type="GridMix";var ob=qu;var Xu=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):o!=null&&o.text?new c(o.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges,it),this.metadata=new c(e.metadata),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays)}};n(Xu,"GridMovie");Xu.type="GridMovie";var nb=Xu;var Qu=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new V(e.shortBylineText,e.ownerBadges)),this.badges=d.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>y.fromResponse(o)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};n(Qu,"GridPlaylist");Qu.type="GridPlaylist";var xm=Qu;var Zu=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(Zu,"ShowCustomThumbnail");Zu.type="ShowCustomThumbnail";var bm=Zu;var el=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(el,"ThumbnailOverlayBottomPanel");el.type="ThumbnailOverlayBottomPanel";var ym=el;var tl=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=$.parseItem(e.thumbnailRenderer,bm),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=$.parseArray(e.thumbnailOverlays,ym),this.author=new V(e.shortBylineText,void 0)}};n(tl,"GridShow");tl.type="GridShow";var sb=tl;var il=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.rich_thumbnail=d.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):s!=null&&s.text?new c(s.text):null,this.author=e.shortBylineText&&new V(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=d.parseItem(e.menu,H),Reflect.has(e,"buttons")&&(this.buttons=d.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(il,"GridVideo");il.type="GridVideo";var wm=il;var ol=class extends a{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(ol,"GuideEntry");ol.type="GuideEntry";var Io=ol;var nl=class extends a{constructor(e){super(),this.expander_item=$.parseItem(e.expanderItem,Io),this.collapser_item=$.parseItem(e.collapserItem,Io),this.expandable_items=$.parseArray(e.expandableItems)}};n(nl,"GuideCollapsibleEntry");nl.type="GuideCollapsibleEntry";var rb=nl;var sl=class extends a{constructor(e){super(),this.header_entry=$.parseItem(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=$.parseArray(e.sectionItems)}};n(sl,"GuideCollapsibleSectionEntry");sl.type="GuideCollapsibleSectionEntry";var ab=sl;var rl=class extends Io{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(rl,"GuideDownloadsEntry");rl.type="GuideDownloadsEntry";var ub=rl;var al=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=$.parseArray(e.items)}};n(al,"GuideSection");al.type="GuideSection";var Hn=al;var ul=class extends Hn{};n(ul,"GuideSubscriptionsSection");ul.type="GuideSubscriptionsSection";var Tm=ul;var ll=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};n(ll,"HashtagHeader");ll.type="HashtagHeader";var Im=ll;var cl=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};n(cl,"HeroPlaylistThumbnail");cl.type="HeroPlaylistThumbnail";var lb=cl;var dl=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};n(dl,"Panel");dl.type="Panel";var pl=class extends a{constructor(e){super(),this.panels=ce(e.highlightsCarousel.panels.map(i=>new dl(i)))}};n(pl,"HighlightsCarousel");pl.type="HighlightsCarousel";var fl=pl;var hl=class extends a{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};n(hl,"SearchSuggestion");hl.type="SearchSuggestion";var Sm=hl;var ml=class extends Sm{constructor(e){super(e)}};n(ml,"HistorySuggestion");ml.type="HistorySuggestion";var cb=ml;var _l=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=d.parseArray(e.items)}get contents(){return this.items}};n(_l,"HorizontalList");_l.type="HorizontalList";var db=_l;var vl=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.previous_button=d.parseItem(e.previousButton,k),this.next_button=d.parseItem(e.nextButton,k)}get contents(){return this.items}};n(vl,"HorizontalMovieList");vl.type="HorizontalMovieList";var pb=vl;var gl=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};n(gl,"IconLink");gl.type="IconLink";var km=gl;var xl=class extends a{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),this.paragraphs=e.paragraphs.map(i=>new c(i)),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(xl,"InfoPanelContent");xl.type="InfoPanelContent";var Cm=xl;var bl=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.menu=d.parseItem(e.menu,H),this.content=d.parseItem(e.content,Cm),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(bl,"InfoPanelContainer");bl.type="InfoPanelContainer";var fb=bl;var yl=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=d.parseArray(e.badges,it),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=d.parseArray(e.buttons,[We,k]),this.auto_generated=new c(e.autoGenerated)}};n(yl,"InteractiveTabbedHeader");yl.type="InteractiveTabbedHeader";var Em=yl;var wl=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(wl,"ItemSectionHeader");wl.type="ItemSectionHeader";var Pm=wl;var Tl=class extends a{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};n(Tl,"ItemSectionTab");Tl.type="Tab";var Nm=Tl;var Il=class extends a{constructor(e){super(),this.title=new c(e.title),this.tabs=d.parseArray(e.tabs,Nm),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(Il,"ItemSectionTabbedHeader");Il.type="ItemSectionTabbedHeader";var Am=Il;var Sl=class extends a{constructor(e){var i,o,s;super(),this.header=d.parseItem(e.header,[Bn,Pm,Am]),this.contents=d.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(Sl,"ItemSection");Sl.type="ItemSection";var ge=Sl;var kl=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};n(kl,"LikeButton");kl.type="LikeButton";var hb=kl;var Cl=class extends a{constructor(e){var i,o;super(),this.header=d.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(Cl,"LiveChat");Cl.type="LiveChat";var Rm=Cl;var El=class extends a{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(El,"LiveChatBannerHeader");El.type="LiveChatBannerHeader";var Mm=El;var Pl=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Mm),this.contents=d.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Pl,"LiveChatBanner");Pl.type="LiveChatBanner";var Vm=Pl;var Nl=class extends a{constructor(e){super(),this.banner=d.parseItem(e.bannerRenderer,Vm)}};n(Nl,"AddBannerToLiveChatCommand");Nl.type="AddBannerToLiveChatCommand";var mb=Nl;var Al=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Al,"AddChatItemAction");Al.type="AddChatItemAction";var Om=Al;var Rl=class extends a{constructor(e){super(),this.item=d.parseItem(e.item),this.duration_sec=e.durationSec}};n(Rl,"AddLiveChatTickerItemAction");Rl.type="AddLiveChatTickerItemAction";var _b=Rl;var Ml=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Ml,"DimChatItemAction");Ml.type="DimChatItemAction";var vb=Ml;var Vl=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=d.parseArray(e.moderationButtons,k),this.auto_moderated_item=d.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Vl,"LiveChatAutoModMessage");Vl.type="LiveChatAutoModMessage";var gb=Vl;var Ol=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(Ol,"LiveChatBannerPoll");Ol.type="LiveChatBannerPoll";var xb=Ol;var Bl=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Bl,"LiveChatMembershipItem");Bl.type="LiveChatMembershipItem";var bb=Bl;var Dl=class extends a{constructor(e){super(),this.message=new c(e.message),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};n(Dl,"LiveChatPaidMessage");Dl.type="LiveChatPaidMessage";var yb=Dl;var Ll=class extends a{constructor(e){super(),this.id=e.id,this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Ll,"LiveChatPaidSticker");Ll.type="LiveChatPaidSticker";var wb=Ll;var Fl=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Fl,"LiveChatPlaceholderItem");Fl.type="LiveChatPlaceholderItem";var Tb=Fl;var Yl=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=d.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=d.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};n(Yl,"LiveChatProductItem");Yl.type="LiveChatProductItem";var Ib=Yl;var jl=class extends a{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(jl,"LiveChatRestrictedParticipation");jl.type="LiveChatRestrictedParticipation";var Sb=jl;var So=class extends a{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=d.parseArray(e.inlineActionButtons,k),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(So,"LiveChatMessageBase");So.type="LiveChatMessageBase";var Ul=class extends So{constructor(e){super(e),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Ul,"LiveChatTextMessage");Ul.type="LiveChatTextMessage";var kb=Ul;var Wl=class extends a{constructor(e){var i,o;super(),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=d.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};n(Wl,"LiveChatTickerPaidMessageItem");Wl.type="LiveChatTickerPaidMessageItem";var Bm=Wl;var Hl=class extends Bm{};n(Hl,"LiveChatTickerPaidStickerItem");Hl.type="LiveChatTickerPaidStickerItem";var Cb=Hl;var Jl=class extends a{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new V(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Jl,"LiveChatTickerSponsorItem");Jl.type="LiveChatTickerSponsorItem";var Eb=Jl;var Gl=class extends So{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=d.parseItem(e.actionButton)}};n(Gl,"LiveChatViewerEngagementMessage");Gl.type="LiveChatViewerEngagementMessage";var Pb=Gl;var zl=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=d.parseItem(e.contextMenuButton,k)}};n(zl,"PollHeader");zl.type="PollHeader";var Nb=zl;var Kl=class extends a{constructor(e){super(),this.id=e.id,this.contents=d.parse(e.contents),this.target_id=e.targetId}};n(Kl,"LiveChatActionPanel");Kl.type="LiveChatActionPanel";var Dm=Kl;var $l=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n($l,"MarkChatItemAsDeletedAction");$l.type="MarkChatItemAsDeletedAction";var Ab=$l;var ql=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(ql,"MarkChatItemsByAuthorAsDeletedAction");ql.type="MarkChatItemsByAuthorAsDeletedAction";var Rb=ql;var Xl=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Xl,"RemoveBannerForLiveChatCommand");Xl.type="RemoveBannerForLiveChatCommand";var Mb=Xl;var Ql=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Ql,"RemoveChatItemAction");Ql.type="RemoveChatItemAction";var Vb=Ql;var Zl=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Zl,"RemoveChatItemByAuthorAction");Zl.type="RemoveChatItemByAuthorAction";var Ob=Zl;var ec=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=d.parseItem(e.replacementItem)}};n(ec,"ReplaceChatItemAction");ec.type="ReplaceChatItemAction";var Bb=ec;var tc=class extends a{constructor(e){var i;super(),this.actions=d.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(tc,"ReplayChatItemAction");tc.type="ReplayChatItemAction";var Db=tc;var ic=class extends a{constructor(e){super(),this.panel_to_show=d.parseItem(e.panelToShow,Dm)}};n(ic,"ShowLiveChatActionPanelAction");ic.type="ShowLiveChatActionPanelAction";var Lb=ic;var oc=class extends a{constructor(e){super(),this.dialog=d.parseItem(e.dialog)}};n(oc,"ShowLiveChatDialogAction");oc.type="ShowLiveChatDialogAction";var Fb=oc;var nc=class extends a{constructor(e){super(),this.tooltip=d.parseItem(e.tooltip)}};n(nc,"ShowLiveChatTooltipCommand");nc.type="ShowLiveChatTooltipCommand";var Yb=nc;var sc=class extends a{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};n(sc,"UpdateDateTextAction");sc.type="UpdateDateTextAction";var Lm=sc;var rc=class extends a{constructor(e){super(),this.description=new c(e.description)}};n(rc,"UpdateDescriptionAction");rc.type="UpdateDescriptionAction";var Fm=rc;var ac=class extends a{constructor(e){super(),this.poll_to_update=d.parseItem(e.pollToUpdate)}};n(ac,"UpdateLiveChatPollAction");ac.type="UpdateLiveChatPollAction";var jb=ac;var uc=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(uc,"UpdateTitleAction");uc.type="UpdateTitleAction";var Ym=uc;var lc=class extends a{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};n(lc,"UpdateToggleButtonTextAction");lc.type="UpdateToggleButtonTextAction";var jm=lc;var cc=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.is_live=i.isLive}};n(cc,"UpdateViewershipAction");cc.type="UpdateViewershipAction";var Um=cc;var dc=class extends it{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};n(dc,"LiveChatAuthorBadge");dc.type="LiveChatAuthorBadge";var Ub=dc;var pc=class extends a{constructor(e){super(),this.confirm_button=d.parseItem(e.confirmButton,k),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};n(pc,"LiveChatDialog");pc.type="LiveChatDialog";var Wb=pc;var fc=class extends a{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=d.parseItem(e.sendButton,k),this.target_id=e.targetId}};n(fc,"LiveChatMessageInput");fc.type="LiveChatMessageInput";var Hb=fc;var hc=class extends k{constructor(e){super(e)}};n(hc,"MenuNavigationItem");hc.type="MenuNavigationItem";var Jb=hc;var mc=class extends k{constructor(e){super(e)}};n(mc,"MenuServiceItem");mc.type="MenuServiceItem";var Jn=mc;var _c=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};n(_c,"MenuServiceItemDownload");_c.type="MenuServiceItemDownload";var Gb=_c;var vc=class extends a{constructor(e){super(),this.header=d.parse(e.header),this.sections=d.parse(e.sections),this.style=e.style}};n(vc,"MultiPageMenu");vc.type="MultiPageMenu";var zb=vc;var gc=class extends a{constructor(e){super(),this.items=d.parse(e.items)}get contents(){return this.items}};n(gc,"MultiPageMenuNotificationSection");gc.type="MultiPageMenuNotificationSection";var Kb=gc;var xc=class extends a{constructor(e){super()}};n(xc,"MusicMenuItemDivider");xc.type="MusicMenuItemDivider";var Wm=xc;var bc=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=d.parseArray(e.options,[Mt,Wm])}};n(bc,"MusicMultiSelectMenu");bc.type="MusicMultiSelectMenu";var Hm=bc;var yc=class extends a{constructor(e){super(),this.title=new c(e.title),this.buttons=d.parse(e.buttons)}};n(yc,"SimpleMenuHeader");yc.type="SimpleMenuHeader";var Jm=yc;var wc=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};n(wc,"MerchandiseItem");wc.type="MerchandiseItem";var $b=wc;var Tc=class extends a{constructor(e){super(),this.title=e.title,this.menu=d.parseItem(e.actionButton),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Tc,"MerchandiseShelf");Tc.type="MerchandiseShelf";var Gm=Tc;var Ic=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};n(Ic,"MetadataRow");Ic.type="MetadataRow";var qb=Ic;var Sc=class extends a{constructor(e){super(),this.rows=d.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Sc,"MetadataRowContainer");Sc.type="MetadataRowContainer";var zm=Sc;var kc=class extends a{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};n(kc,"MetadataRowHeader");kc.type="MetadataRowHeader";var Xb=kc;var Cc=class extends a{constructor(e){super(),this.section_list=d.parseItem(e)}};n(Cc,"MetadataScreen");Cc.type="MetadataScreen";var Qb=Cc;var Ec=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Ec,"MicroformatData");Ec.type="MicroformatData";var ii=Ec;var Pc=class extends ti{constructor(e){super(e)}};n(Pc,"Mix");Pc.type="Mix";var Zb=Pc;var Nc=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new V(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:He(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=d.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=d.parseItem(e.menu,H)}};n(Nc,"Movie");Nc.type="Movie";var ey=Nc;var Ac=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new y(o)).sort((o,s)=>s.width-o.width)}};n(Ac,"MovingThumbnail");Ac.type="MovingThumbnail";var ty=Ac;var Rc=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Rc,"MusicCardShelfHeaderBasic");Rc.type="MusicCardShelfHeaderBasic";var Km=Rc;var Mc=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Mc,"MusicInlineBadge");Mc.type="MusicInlineBadge";var $m=Mc;var Vc=class extends a{constructor(e){var i,o;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Vc,"MusicPlayButton");Vc.type="MusicPlayButton";var qm=Vc;var Oc=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,qm),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Oc,"MusicItemThumbnailOverlay");Oc.type="MusicItemThumbnailOverlay";var Ui=Oc;var Bc=class extends a{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};n(Bc,"MusicThumbnail");Bc.type="MusicThumbnail";var oi=Bc;var Dc=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,oi),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=d.parseArray(e.buttons,k),this.menu=d.parseItem(e.menu,H),this.on_tap=new g(e.onTap),this.header=d.parseItem(e.header,Km),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=d.parseArray(e.subtitleBadges,$m),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Ui),Reflect.has(e,"contents")&&(this.contents=d.parseArray(e.contents))}};n(Dc,"MusicCardShelf");Dc.type="MusicCardShelf";var Xm=Dc;var Lc=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=d.parseItem(e.thumbnail,oi)),Reflect.has(e,"moreContentButton")&&(this.more_content=d.parseItem(e.moreContentButton,k)),Reflect.has(e,"endIcons")&&(this.end_icons=d.parseArray(e.endIcons,km))}};n(Lc,"MusicCarouselShelfBasicHeader");Lc.type="MusicCarouselShelfBasicHeader";var Qm=Lc;var Fc=class extends a{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new g(e.clickCommand)}};n(Fc,"MusicNavigationButton");Fc.type="MusicNavigationButton";var Gn=Fc;var Yc=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(Yc,"MusicResponsiveListItemFixedColumn");Yc.type="musicResponsiveListItemFlexColumnRenderer";var Zm=Yc;var jc=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};n(jc,"MusicResponsiveListItemFlexColumn");jc.type="MusicResponsiveListItemFlexColumn";var e_=jc;var ni,Uc,ny,sy,iy,oy,ry,ay,uy,ly,Wc=class extends a{constructor(e){var i,o,s,r,l,p;switch(super(),ni.add(this),Uc.set(this,void 0),this.flex_columns=d.parseArray(e.flexColumns,e_),this.fixed_columns=d.parseArray(e.fixedColumns,Zm),T(this,Uc,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),this.endpoint=e.navigationEndpoint?new g(e.navigationEndpoint):null,(p=(l=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,ni,"m",uy).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,ni,"m",ly).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,ni,"m",ry).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,ni,"m",ay).call(this);break;default:this.flex_columns[1]?u(this,ni,"m",sy).call(this):u(this,ni,"m",ny).call(this);break}e.index&&(this.index=new c(e.index)),this.thumbnail=d.parseItem(e.thumbnail,oi),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu,H),this.overlay=d.parseItem(e.overlay,Ui)}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Wc,"MusicResponsiveListItem");Uc=new WeakMap,ni=new WeakSet,ny=n(function(){this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),sy=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",u(this,ni,"m",oy).call(this)):(this.item_type="song",u(this,ni,"m",iy).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),iy=n(function(){var e,i,o,s,r,l,p,f,m,_,b,w,I,S,N;this.id=u(this,Uc,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().key("title").instanceof(c).toString();let E=((r=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(Y=>/^\d+$/.test(Y.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.key("title").instanceof(c))===null||p===void 0?void 0:p.toString());E&&(this.duration={text:E,seconds:He(E)});let M=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(Y=>qe(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")))||((b=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.key("title").instanceof(c).runs)===null||b===void 0?void 0:b.find(Y=>qe(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")));M&&qe(M)&&(this.album={id:(I=(w=M.endpoint)===null||w===void 0?void 0:w.payload)===null||I===void 0?void 0:I.browseId,name:M.text,endpoint:M.endpoint});let F=(N=(S=this.flex_columns.at(1))===null||S===void 0?void 0:S.key("title").instanceof(c).runs)===null||N===void 0?void 0:N.filter(Y=>qe(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("UC"));F&&(this.artists=F.map(Y=>{var ie,he;return{name:Y.text,channel_id:qe(Y)?(he=(ie=Y.endpoint)===null||ie===void 0?void 0:ie.payload)===null||he===void 0?void 0:he.browseId:void 0,endpoint:qe(Y)?Y.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),oy=n(function(){var e,i,o,s,r,l,p,f,m,_;this.id=u(this,Uc,"f").video_id,this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.find(I=>I.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let b=(r=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.key("title").instanceof(c).runs)===null||r===void 0?void 0:r.filter(I=>qe(I)&&I.endpoint&&I.endpoint.payload.browseId.startsWith("UC"));b&&(this.authors=b.map(I=>{var S,N;return{name:I.text,channel_id:qe(I)?(N=(S=I.endpoint)===null||S===void 0?void 0:S.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:qe(I)?I.endpoint:void 0}}));let w=((p=(l=this.flex_columns[1].key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||m===void 0?void 0:m.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);w&&(this.duration={text:w,seconds:He(w)})},"_MusicResponsiveListItem_parseVideo"),ry=n(function(){var e,i,o,s,r,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c),this.subscribers=((l=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),ay=n(function(){var e,i,o,s;this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c),this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),uy=n(function(){var e,i,o,s,r,l,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(b=>qe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&qe(_)&&(this.author={name:_.text,channel_id:(l=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.key("title").instanceof(c).runs)===null||f===void 0?void 0:f.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),ly=n(function(){var e,i,o,s,r,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||s===void 0?void 0:s.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(l=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.key("title").instanceof(c).runs)===null||l===void 0?void 0:l.find(b=>qe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&qe(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Wc.type="MusicResponsiveListItem";var Wi=Wc;var Hc=class extends a{constructor(e){var i,o,s,r,l,p,f,m,_,b,w,I,S,N,E,M,F,Y,ie,he,Ie,Ee;switch(super(),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new c(e.subtitle),this.badges=d.parse(e.subtitleBadges),(m=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((b=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||b===void 0?void 0:b.api_url)==="/next"?this.item_type="endpoint":!((w=this.subtitle.runs)===null||w===void 0)&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((S=(I=this.subtitle.runs)===null||I===void 0?void 0:I.find(K=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(K.text)))===null||S===void 0?void 0:S.text)||"";else if(this.item_type=="playlist"){let K=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(J=>J.text.match(/\d+ songs|song/));this.item_count=K?K.text:null}else if(this.item_type=="album"){let K=(E=this.subtitle.runs)===null||E===void 0?void 0:E.filter(J=>{var Z,Q;return(Q=(Z=J.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Q===void 0?void 0:Q.browseId.startsWith("UC")});K&&(this.artists=K.map(J=>{var Z,Q;return{name:J.text,channel_id:(Q=(Z=J.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Q===void 0?void 0:Q.browseId,endpoint:J.endpoint}})),this.year=(M=this.subtitle.runs)===null||M===void 0?void 0:M.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((Y=(F=this===null||this===void 0?void 0:this.subtitle.runs)===null||F===void 0?void 0:F.find(J=>J==null?void 0:J.text.match(/(.*?) views/)))===null||Y===void 0?void 0:Y.text)||"N/A";let K=(ie=this.subtitle.runs)===null||ie===void 0?void 0:ie.find(J=>{var Z,Q,Re;return(Re=(Q=(Z=J.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Q===void 0?void 0:Q.browseId)===null||Re===void 0?void 0:Re.startsWith("UC")});K&&(this.author={name:K==null?void 0:K.text,channel_id:(Ie=(he=K==null?void 0:K.endpoint)===null||he===void 0?void 0:he.payload)===null||Ie===void 0?void 0:Ie.browseId,endpoint:K==null?void 0:K.endpoint})}else if(this.item_type=="song"){let K=(Ee=this.subtitle.runs)===null||Ee===void 0?void 0:Ee.filter(J=>{var Z,Q;return(Q=(Z=J.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Q===void 0?void 0:Q.browseId.startsWith("UC")});K&&(this.artists=K.map(J=>{var Z,Q;return{name:J==null?void 0:J.text,channel_id:(Q=(Z=J==null?void 0:J.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Q===void 0?void 0:Q.browseId,endpoint:J==null?void 0:J.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=d.parseItem(e.thumbnailOverlay,Ui),this.menu=d.parseItem(e.menu,H)}};n(Hc,"MusicTwoRowItem");Hc.type="MusicTwoRowItem";var zn=Hc;var Jc=class extends a{constructor(e){super(),this.header=d.parseItem(e.header,Qm),this.contents=d.parseArray(e.contents,[zn,Wi,Gn]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Jc,"MusicCarouselShelf");Jc.type="MusicCarouselShelf";var Pe=Jc;var Gc=class extends a{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};n(Gc,"MusicDescriptionShelf");Gc.type="MusicDescriptionShelf";var ko=Gc;var zc=class extends a{constructor(e){var i,o,s,r,l,p,f,m,_;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(w=>/^[12][0-9]{3}$/.test(w.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=d.parseArray(e.subtitleBadges);let b=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(w=>{var I,S;return(S=(I=w==null?void 0:w.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId.startsWith("UC")});b&&(this.author={name:b.text,channel_id:(_=(m=b.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:b.endpoint}),this.menu=d.parseItem(e.menu)}};n(zc,"MusicDetailHeader");zc.type="MusicDetailHeader";var Co=zc;var Kc=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Kc,"MusicDownloadStateBadge");Kc.type="MusicDownloadStateBadge";var cy=Kc;var $c=class extends a{constructor(e){super(),this.header=d.parseItem(e.header)}};n($c,"MusicEditablePlaylistDetailHeader");$c.type="MusicEditablePlaylistDetailHeader";var t_=$c;var qc=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?d.parseItem(e,Fn):null}};n(qc,"MusicElementHeader");qc.type="MusicElementHeader";var Xc=qc;var Qc=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=d.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};n(Qc,"MusicHeader");Qc.type="MusicHeader";var Hi=Qc;var Zc=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=d.parseItem(e.thumbnail,oi)}};n(Zc,"MusicImmersiveHeader");Zc.type="MusicImmersiveHeader";var i_=Zc;var ed=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(ed,"ActionButton");ed.type="ActionButton";var td=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new ed(i))}};n(td,"Panel");td.type="Panel";var id=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new td(i))}};n(id,"MusicLargeCardItemCarousel");id.type="MusicLargeCardItemCarousel";var dy=id;var od=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=d.parseArray(e.contents,Wi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(od,"MusicPlaylistShelf");od.type="MusicPlaylistShelf";var Eo=od;var nd=class extends a{constructor(e){var i,o,s,r,l;super(),this.title=new c(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:He(new c(e.lengthText).toString())};let p=(i=new c(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,b,w;return(w=(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||w===void 0?void 0:w.startsWith("MPR")}),f=(o=new c(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var _,b,w;return(w=(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||w===void 0?void 0:w.startsWith("UC")});this.author=new c(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(l=new c(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,b;return{name:m.text,channel_id:(b=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId,endpoint:m.endpoint}})),this.badges=d.parseArray(e.badges),this.menu=d.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(nd,"PlaylistPanelVideo");nd.type="PlaylistPanelVideo";var gi=nd;var sd=class extends a{constructor(e){super(),this.primary=d.parseItem(e.primaryRenderer,gi),Reflect.has(e,"counterpart")&&(this.counterpart=ce(e.counterpart.map(i=>d.parseItem(i.counterpartRenderer,gi))||[]))}};n(sd,"PlaylistPanelVideoWrapper");sd.type="PlaylistPanelVideoWrapper";var o_=sd;var rd=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=d.parseArray(e.contents,[o_,gi,Yi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(rd,"PlaylistPanel");rd.type="PlaylistPanel";var si=rd;var ad=class extends a{constructor(e){super(),this.content=d.parseItem(e.content,si)}};n(ad,"MusicQueue");ad.type="MusicQueue";var Kn=ad;var ud=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents,Wi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=d.parseItem(e.bottomButton,k)),Reflect.has(e,"subheaders")&&(this.subheaders=d.parseArray(e.subheaders))}};n(ud,"MusicShelf");ud.type="MusicShelf";var we=ud;var ld=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=d.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=d.parseArray(e.endItems))}};n(ld,"MusicSideAlignedItem");ld.type="MusicSideAlignedItem";var n_=ld;var cd=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=d.parseItem(e.menu,Hm)}};n(cd,"MusicSortFilterButton");cd.type="MusicSortFilterButton";var dd=cd;var pd=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(pd,"MusicTastebuilderShelfThumbnail");pd.type="MusicTastebuilderShelfThumbnail";var s_=pd;var fd=class extends a{constructor(e){super(),this.thumbnail=d.parseItem(e.thumbnail,s_),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=d.parseItem(e.actionButton,k),this.is_visible=e.isVisible}};n(fd,"MusicTasteBuilderShelf");fd.type="MusicTasteBuilderShelf";var r_=fd;var hd=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=d.parseItem(e.menu,H),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(hd,"MusicVisualHeader");hd.type="MusicVisualHeader";var a_=hd;var md=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=d.parseItem(e.contextualMenu),this.read=e.read}};n(md,"Notification");md.type="Notification";var u_=md;var _d=class extends a{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(_d,"PageIntroduction");_d.type="PageIntroduction";var l_=_d;var vd=class extends a{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=d.parseItem(e.proceedButton,k),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(vd,"PlayerErrorMessage");vd.type="PlayerErrorMessage";var py=vd;var gd=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(gd,"PlayerLegacyDesktopYpcOffer");gd.type="PlayerLegacyDesktopYpcOffer";var fy=gd;var xd=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(xd,"YpcTrailer");xd.type="YpcTrailer";var c_=xd;var bd=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=$.parseItem(e.ypcTrailer,c_)}};n(bd,"PlayerLegacyDesktopYpcTrailer");bd.type="PlayerLegacyDesktopYpcTrailer";var yd=bd;var wd=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(wd,"PlayerMicroformat");wd.type="PlayerMicroformat";var Bt=wd;var Td=class extends a{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.author=new V(e.byline),this.cancel_button=d.parseItem(e.cancelButton,k),this.next_button=d.parseItem(e.nextButton,k),this.close_button=d.parseItem(e.closeButton,k)}};n(Td,"PlayerOverlayAutoplay");Td.type="PlayerOverlayAutoplay";var d_=Td;var Id=class extends a{constructor(e){super(),this.results=d.parseArray(e.results,[rm,sm]),this.title=new c(e.title).toString()}};n(Id,"WatchNextEndScreen");Id.type="WatchNextEndScreen";var p_=Id;var Sd=class extends a{constructor(e){super(),this.end_screen=d.parseItem(e.endScreen,p_),this.autoplay=d.parseItem(e.autoplay,d_),this.share_button=d.parseItem(e.shareButton,k),this.add_to_menu=d.parseItem(e.addToMenu,H),this.fullscreen_engagement=d.parseItem(e.fullscreenEngagement),this.actions=d.parseArray(e.actions),this.browser_media_session=d.parseItem(e.browserMediaSession),this.decorated_player_bar=d.parseItem(e.decoratedPlayerBarRenderer,im)}};n(Sd,"PlayerOverlay");Sd.type="PlayerOverlay";var Ji=Sd;var kd=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};n(kd,"PlaylistCustomThumbnail");kd.type="PlaylistCustomThumbnail";var f_=kd;var Cd=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=new V(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null),this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=d.parseItem(e.saveButton),this.shuffle_play_button=d.parseItem(e.shufflePlayButton),this.menu=d.parseItem(e.moreActionsMenu),this.banner=d.parseItem(e.playlistHeaderBanner)}};n(Cd,"PlaylistHeader");Cd.type="PlaylistHeader";var h_=Cd;var Ed=class extends a{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new g(e.action)}};n(Ed,"PlaylistInfoCardContent");Ed.type="PlaylistInfoCardContent";var hy=Ed;var Pd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Pd,"PlaylistMetadata");Pd.type="PlaylistMetadata";var m_=Pd;var Nd=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Nd,"PlaylistSidebar");Nd.type="PlaylistSidebar";var my=Nd;var Ad=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=d.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=d.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new c(e.description)}};n(Ad,"PlaylistSidebarPrimaryInfo");Ad.type="PlaylistSidebarPrimaryInfo";var __=Ad;var Rd=class extends a{constructor(e){super(),this.owner=d.parseItem(e.videoOwner),this.button=d.parseItem(e.button)}};n(Rd,"PlaylistSidebarSecondaryInfo");Rd.type="PlaylistSidebarSecondaryInfo";var v_=Rd;var Md=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new V(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=d.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=d.parseItem(e.menu,H),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(wo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(wo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Md,"PlaylistVideo");Md.type="PlaylistVideo";var g_=Md;var Vd=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=d.parseArray(e.contents)}};n(Vd,"PlaylistVideoList");Vd.type="PlaylistVideoList";var _y=Vd;var Od=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Od,"Poll");Od.type="Poll";var vy=Od;var Bd=class extends ji{constructor(e){super(e)}};n(Bd,"Post");Bd.type="Post";var x_=Bd;var Dd=class extends a{constructor(e){super(),this.images=d.parseArray(e.images,Ih)}};n(Dd,"PostMultiImage");Dd.type="PostMultiImage";var gy=Dd;var Ld=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Ld,"ProfileColumn");Ld.type="ProfileColumn";var xy=Ld;var Fd=class extends a{constructor(e){super(),this.items=d.parseArray(e.items)}get contents(){return this.items}};n(Fd,"ProfileColumnStats");Fd.type="ProfileColumnStats";var b_=Fd;var Yd=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};n(Yd,"ProfileColumnStatsEntry");Yd.type="ProfileColumnStatsEntry";var by=Yd;var jd=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};n(jd,"ProfileColumnUserInfo");jd.type="ProfileColumnUserInfo";var y_=jd;var Ud=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=d.parseItem(e.button,k),this.surface=e.surface}};n(Ud,"RecognitionShelf");Ud.type="RecognitionShelf";var yy=Ud;var Wd=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Wd,"ReelItem");Wd.type="ReelItem";var w_=Wd;var Hd=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};n(Hd,"ReelShelf");Hd.type="ReelShelf";var T_=Hd;var Jd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Jd,"RelatedChipCloud");Jd.type="RelatedChipCloud";var I_=Jd;var Gd=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.contents=d.parseArray(e.contents)}};n(Gd,"RichGrid");Gd.type="RichGrid";var Gi=Gd;var zd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(zd,"RichItem");zd.type="RichItem";var wy=zd;var Kd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Kd,"RichListHeader");Kd.type="RichListHeader";var Ty=Kd;var $d=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};n($d,"RichMetadata");$d.type="RichMetadata";var qd=$d;var Xd=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(Xd,"RichMetadataRow");Xd.type="RichMetadataRow";var Qd=Xd;var Zd=class extends a{constructor(e){super(),this.content=d.parseItem(e.content)}};n(Zd,"RichSection");Zd.type="RichSection";var Iy=Zd;var ep=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=d.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};n(ep,"RichShelf");ep.type="RichShelf";var S_=ep;var tp=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=d.parseItem(e.searchButton,k),this.clear_button=d.parseItem(e.clearButton,k),this.placeholder_text=new c(e.placeholderText)}};n(tp,"SearchBox");tp.type="SearchBox";var Sy=tp;var ip=class extends a{constructor(e){super(),this.label=new c(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(ip,"SearchFilter");ip.type="SearchFilter";var k_=ip;var op=class extends a{constructor(e){super(),this.title=new c(e.title),this.filters=$.parseArray(e.filters,k_)}};n(op,"SearchFilterGroup");op.type="SearchFilterGroup";var C_=op;var np=class extends a{constructor(e){super(),this.title=new c(e.title),this.groups=d.parseArray(e.groups,C_),this.button=d.parseItem(e.button,Ye)}};n(np,"SearchSubMenu");np.type="SearchSubMenu";var E_=np;var sp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(sp,"SearchSuggestionsSection");sp.type="SearchSuggestionsSection";var P_=sp;var rp=class extends a{constructor(e){super(),this.contents=d.parseArray(e.contents)}};n(rp,"SecondarySearchContainer");rp.type="SecondarySearchContainer";var ky=rp;var ap=class extends a{constructor(e){super(),this.like_button=d.parseItem(e.likeButton,[Ye,k]),this.dislike_button=d.parseItem(e.dislikeButton,[Ye,k])}};n(ap,"SegmentedLikeDislikeButton");ap.type="SegmentedLikeDislikeButton";var Po=ap;var up=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(up,"SettingBoolean");up.type="SettingBoolean";var Cy=up;var lp=class extends a{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(lp,"SettingsCheckbox");lp.type="SettingsCheckbox";var N_=lp;var cp=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};n(cp,"SettingsSwitch");cp.type="SettingsSwitch";var $n=cp;var dp=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=d.parseArray(e.options,[$n,En,Qh,N_,Oh]))}};n(dp,"SettingsOptions");dp.type="SettingsOptions";var qn=dp;var pp=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=d.parseArray(e.items,Dn)}get contents(){return this.items}};n(pp,"SettingsSidebar");pp.type="SettingsSidebar";var A_=pp;var fp=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=$.parseItem(e.actionMenu,H),this.original_post=$.parseItem(e.originalPost,ji),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=$.parseItem(e.expandButton,k),this.author=new V(e.displayName,void 0)}};n(fp,"SharedPost");fp.type="SharedPost";var R_=fp;var hp=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=d.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=d.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=d.parseItem(e.playAllButton,k))}};n(hp,"Shelf");hp.type="Shelf";var Xn=hp;var mp=class extends a{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};n(mp,"ShowingResultsFor");mp.type="ShowingResultsFor";var M_=mp;var _p=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new g(e.command)}};n(_p,"SimpleCardContent");_p.type="SimpleCardContent";var Ey=_p;var vp=class extends a{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};n(vp,"SimpleCardTeaser");vp.type="SimpleCardTeaser";var Py=vp;var gp=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};n(gp,"SimpleTextSection");gp.type="SimpleTextSection";var Ny=gp;var xp=class extends a{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};n(xp,"SingleActionEmergencySupport");xp.type="SingleActionEmergencySupport";var Ay=xp;var bp=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=d.parseItem(e.content,[ee,Kn,Gi])}};n(bp,"Tab");bp.type="Tab";var xe=bp;var yp=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,xe)}};n(yp,"SingleColumnBrowseResults");yp.type="SingleColumnBrowseResults";var ri=yp;var wp=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(wp,"SingleColumnMusicWatchNextResults");wp.type="SingleColumnMusicWatchNextResults";var Ry=wp;var Tp=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};n(Tp,"SingleHeroImage");Tp.type="SingleHeroImage";var My=Tp;var Ip=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=d.parseItem(e.subscribeButton,We)}};n(Ip,"SlimOwner");Ip.type="SlimOwner";var Vy=Ip;var Sp=class extends a{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=d.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};n(Sp,"SlimVideoMetadata");Sp.type="SlimVideoMetadata";var V_=Sp;var kp=class extends a{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};n(kp,"SubFeedOption");kp.type="SubFeedOption";var O_=kp;var Cp=class extends a{constructor(e){super(),this.title=new c(e.title),this.options=d.parseArray(e.options,O_)}};n(Cp,"SubFeedSelector");Cp.type="SubFeedSelector";var Oy=Cp;var Ep=class extends a{constructor(e){super(),this.contents=d.parse(e)}};n(Ep,"Tabbed");Ep.type="Tabbed";var By=Ep;var Pp=class extends a{constructor(e){super(),this.tabs=d.parseArray(e.tabs,xe)}};n(Pp,"TabbedSearchResults");Pp.type="TabbedSearchResults";var B_=Pp;var Np=class extends a{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};n(Np,"TextHeader");Np.type="TextHeader";var Dy=Np;var Ap=class extends a{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};n(Ap,"ThumbnailLandscapePortrait");Ap.type="ThumbnailLandscapePortrait";var Ly=Ap;var Rp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(Rp,"ThumbnailOverlayEndorsement");Rp.type="ThumbnailOverlayEndorsement";var Fy=Rp;var Mp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(Mp,"ThumbnailOverlayHoverText");Mp.type="ThumbnailOverlayHoverText";var Yy=Mp;var Vp=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};n(Vp,"ThumbnailOverlayInlineUnplayable");Vp.type="ThumbnailOverlayInlineUnplayable";var jy=Vp;var Op=class extends a{constructor(e){super(),this.text=new c(e.text)}};n(Op,"ThumbnailOverlayLoadingPreview");Op.type="ThumbnailOverlayLoadingPreview";var Uy=Op;var Bp=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};n(Bp,"ThumbnailOverlayNowPlaying");Bp.type="ThumbnailOverlayNowPlaying";var Wy=Bp;var Dp=class extends a{constructor(e){super(),this.hack=e.hack}};n(Dp,"ThumbnailOverlayPinking");Dp.type="ThumbnailOverlayPinking";var Hy=Dp;var Lp=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};n(Lp,"ThumbnailOverlayPlaybackStatus");Lp.type="ThumbnailOverlayPlaybackStatus";var Jy=Lp;var Fp=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Fp,"ThumbnailOverlayResumePlayback");Fp.type="ThumbnailOverlayResumePlayback";var Gy=Fp;var Yp=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};n(Yp,"ThumbnailOverlaySidePanel");Yp.type="ThumbnailOverlaySidePanel";var zy=Yp;var jp=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};n(jp,"ThumbnailOverlayToggleButton");jp.type="ThumbnailOverlayToggleButton";var Ky=jp;var Up=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};n(Up,"TimedMarkerDecoration");Up.type="TimedMarkerDecoration";var $y=Up;var Wp=class extends a{constructor(e){super(),this.title=new c(e.title)}};n(Wp,"TitleAndButtonListHeader");Wp.type="TitleAndButtonListHeader";var qy=Wp;var Hp=class extends a{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};n(Hp,"ToggleMenuServiceItem");Hp.type="ToggleMenuServiceItem";var Xy=Hp;var Jp=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Jp,"Tooltip");Jp.type="Tooltip";var Qy=Jp;var Gp=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=d.parseItem(e.subscribeButton,We),this.endpoint=new g(e.navigationEndpoint)}};n(Gp,"TopicChannelDetails");Gp.type="TopicChannelDetails";var Zy=Gp;var zp=class extends a{constructor(e){super(),this.tabs=d.parse(e.tabs),this.secondary_contents=d.parse(e.secondaryContents)}};n(zp,"TwoColumnBrowseResults");zp.type="TwoColumnBrowseResults";var zi=zp;var Kp=class extends a{constructor(e){super(),this.primary_contents=d.parse(e.primaryContents),this.secondary_contents=d.parse(e.secondaryContents)}};n(Kp,"TwoColumnSearchResults");Kp.type="TwoColumnSearchResults";var D_=Kp;var L_,P0,$p=class extends a{constructor(e){var i,o,s,r,l;super(),L_.add(this),this.results=d.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=d.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=d.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new c(p.shortBylineText):new V(p.longBylineText),contents:d.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:d.parseItem(p.menu,H)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>u(this,L_,"m",P0).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>u(this,L_,"m",P0).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n($p,"TwoColumnWatchNextResults");L_=new WeakSet,P0=n(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");$p.type="TwoColumnWatchNextResults";var Qn=$p;var qp=class extends a{constructor(e){super(),this.header=d.parseItem(e.header),this.call_to_action=d.parseItem(e.callToAction),this.sections=d.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};n(qp,"UniversalWatchCard");qp.type="UniversalWatchCard";var F_=qp;var Xp=class extends a{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=d.parseItem(e.actionButton,k),this.dismiss_button=d.parseItem(e.dismissButton,k),this.is_visible=e.isVisible}};n(Xp,"UpsellDialog");Xp.type="UpsellDialog";var ew=Xp;var Qp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};n(Qp,"VerticalList");Qp.type="VerticalList";var tw=Qp;var Zp=class extends a{constructor(e){super(),this.items=d.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};n(Zp,"VerticalWatchCardList");Zp.type="VerticalWatchCardList";var iw=Zp;var ef=class extends a{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new g(e.action)}};n(ef,"VideoInfoCardContent");ef.type="VideoInfoCardContent";var ow=ef;var tf=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new c(e.subscriberCountText),this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(tf,"VideoOwner");tf.type="VideoOwner";var Zn=tf;var of=class extends a{constructor(e){var i,o,s,r;super(),this.title=new c(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new c(e.superTitleLink)),this.view_count=new c((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new c((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=d.parseArray(e.badges,it),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=d.parseItem(e.videoActions,H)}};n(of,"VideoPrimaryInfo");of.type="VideoPrimaryInfo";var Y_=of;var N0,nw,nf=class extends a{constructor(e){super(),N0.add(this),this.owner=d.parseItem(e.owner,Zn),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=new c(u(this,N0,"m",nw).call(this,e.attributedDescription))),this.subscribe_button=d.parseItem(e.subscribeButton,[We,k]),this.metadata=d.parseItem(e.metadataRowContainer,zm),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(nf,"VideoSecondaryInfo");N0=new WeakSet,nw=n(function(e){let i=[],o=e.content,s=e.commandRuns,r=0;if(s){for(let l of s){let p=l.length,f=l.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(l,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let b of _)if(b.startIndex-2==f){m=b;break}}m?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:m}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}r=f+p}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return{runs:i}},"_VideoSecondaryInfo_convertAttributedDescriptionToRuns");nf.type="VideoSecondaryInfo";var sf=nf;var rf=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:He(e.lengthText.simpleText)},this.style=e.style}};n(rf,"WatchCardCompactVideo");rf.type="WatchCardCompactVideo";var j_=rf;var af=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=d.parseItem(e.callToActionButton),this.hero_image=d.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(af,"WatchCardHeroVideo");af.type="WatchCardHeroVideo";var sw=af;var uf=class extends a{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new V(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(uf,"WatchCardRichHeader");uf.type="WatchCardRichHeader";var rw=uf;var lf=class extends a{constructor(e){super(),this.lists=d.parseArray(e.lists)}};n(lf,"WatchCardSectionSequence");lf.type="WatchCardSectionSequence";var aw=lf;var cf=class extends zi{constructor(e){super(e)}};n(cf,"WatchNextTabbedResults");cf.type="WatchNextTabbedResults";var U_=cf;var df=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=d.parseItem(e.content,ee),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(df,"AnchoredSection");df.type="AnchoredSection";var W_=df;var pf=class extends a{constructor(e){var i,o;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};n(pf,"KidsCategoryTab");pf.type="KidsCategoryTab";var es=pf;var ff=class extends a{constructor(e){super(),this.category_tabs=d.parseArray(e.categoryTabs,es),this.privacy_button=d.parseItem(e.privacyButtonRenderer,k)}};n(ff,"KidsCategoriesHeader");ff.type="kidsCategoriesHeader";var H_=ff;var hf=class extends a{constructor(e){super(),this.anchors=d.parseArray(e.anchors,W_)}};n(hf,"KidsHomeScreen");hf.type="kidsHomeScreen";var J_=hf;var R0={};j(R0,{YTNodeGenerator:()=>Je});var be,cw,G_,ts,dw,pw,xi,A0,uw,lw,fw,Je=class{static isIgnoredKey(e){return typeof e=="string"&&u(this,be,"f",cw).has(e)}static mergeKeyInfo(e,i){let o=new Map,s=new Set(e.map(([I])=>I)),r=new Set(i.map(([I])=>I)),l=i.filter(([I])=>!s.has(I)),p=e.filter(([I])=>!r.has(I)),f=e.filter(([I])=>r.has(I)),m=new Map(i);for(let[I,S]of f){let N=m.get(I);if(!!N){if(S.type!==N.type){o.set(I,{type:"unknown",optional:!0});continue}switch(S.type){case"object":{if(N.type!=="object")continue;let{resolved_key_info:E}=this.mergeKeyInfo(S.keys,N.keys),M={type:"object",keys:E,optional:S.optional||N.optional};JSON.stringify(M)!==JSON.stringify(S)&&o.set(I,M)}break;case"renderer":{if(N.type!=="renderer")continue;let E=Object.assign(Object.assign({},S.renderers),N.renderers),M=S.optional||N.optional,F={type:"renderer",renderers:E,optional:M};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},S),{renderers:Object.keys(S.renderers)}))&&o.set(I,F)}break;case"renderer_list":{if(N.type!=="renderer_list")continue;let E=Object.assign(Object.assign({},S.renderers),N.renderers),M=S.optional||N.optional,F={type:"renderer_list",renderers:E,optional:M};JSON.stringify(Object.assign(Object.assign({},F),{renderers:Object.keys(F.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},S),{renderers:Object.keys(S.renderers)}))&&o.set(I,F)}break;case"misc":{if(N.type!=="misc")continue;switch(S.misc_type!==N.misc_type&&o.set(I,{type:"unknown",optional:!0}),S.misc_type){case"Author":{if(N.misc_type!=="Author")break;let E=S.params[1]||N.params[1],M=S.optional||N.optional,F={type:"misc",misc_type:"Author",optional:M,params:[N.params[0],E]};JSON.stringify(F)!==JSON.stringify(S)&&o.set(I,F)}break}}break;case"primative":{if(N.type!=="primative")continue;let E={type:"primative",typeof:Array.from(new Set([...N.typeof,...S.typeof])),optional:S.optional||N.optional};JSON.stringify(E)!==JSON.stringify(S)&&o.set(I,E)}break}}}for(let[I,S]of l)o.set(I,Object.assign(Object.assign({},S),{optional:!0}));for(let[I,S]of p)o.set(I,Object.assign(Object.assign({},S),{optional:!0}));let _=e.filter(([I])=>!o.has(I));return{resolved_key_info:[...new Map([..._,...o]).entries()],changed_keys:[...o.entries()]}}static createRuntimeClass(e,i){var o,s;u(this,be,"m",dw).call(this,e,i);let r=(o=n(class extends a{static set key_info(l){T(this,o,new Map(l),"f",s)}static get key_info(){return[...u(this,o,"f",s).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=Je.introspect(l),{resolved_key_info:m,changed_keys:_}=Je.mergeKeyInfo(r.key_info,p);_.length>0&&(r.key_info=m,u(Je,be,"m",pw).call(Je,e,r.key_info,_));for(let[w,I]of f)Je.generateRuntimeClass(w,I);for(let[w,I]of p){let S=u(Je,be,"m",ts).call(Je,w);I.type==="misc"&&I.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,Je.parse(w,I,l))}}},"_b"),kg(o,"node"),o.type=e,s={value:new Map},o);return r.key_info=i,Object.defineProperty(r,"name",{value:e,writable:!1}),r}static introspect(e){let i=u(this,be,"m",fw).call(this,e),o=new Map;for(let[,r]of i)if(r.type==="renderer"||r.type==="renderer_list")for(let l of r.renderers){let p=u(this,be,"f",G_)[l];p&&o.set(l,p)}let s=Array.from(o).filter(([r])=>!$.hasParser(r));return{key_info:i,unimplemented_dependencies:s}}static generateRuntimeClass(e,i){let{key_info:o,unimplemented_dependencies:s}=this.introspect(i),r=this.createRuntimeClass(e,o);$.addRuntimeParser(e,r);for(let[l,p]of s)this.generateRuntimeClass(l,p);return r}static generateTypescriptClass(e,i){let o=[],s=["super();"];for(let[r,l]of i){let p=u(this,be,"m",ts).call(this,r);l.type==="misc"&&l.misc_type==="NavigationEndpoint"&&(p="endpoint"),o.push(`${p}${l.optional?"?":""}: ${this.toTypeDeclaration(l)};`),s.push(`this.${p} = ${this.toParser(r,l)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${o.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}static toTypeDeclaration(e,i=0){switch(e.type){case"renderer":return`${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([o,s])=>`${" ".repeat((i+2)*2)}${u(this,be,"m",ts).call(this,o)}${s.optional?"?":""}: ${this.toTypeDeclaration(s,i+1)}`).join(`,
`)}
${" ".repeat((i+1)*2)}}`;case"misc":switch(e.misc_type){case"Thumbnail":return"Thumbnail[]";default:return e.misc_type}case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}static toParser(e,i,o=["data"],s=1){let r="undefined";switch(i.type){case"renderer":r=`Parser.parseItem(${o.join(".")}.${e}, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${o.join(".")}.${e}, true, [ ${i.renderers.map(l=>`YTNodes.${l}`).join(", ")} ])`;break;case"object":{let l=[...o,e];r=`{
${i.keys.map(([p,f])=>`${" ".repeat((s+2)*2)}${u(this,be,"m",ts).call(this,p)}: ${this.toParser(p,f,l,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}break;case"misc":switch(i.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${o.join(".")}.${e})`;break;case"Author":{let l=`new Author(${o.join(".")}.${i.params[0]}, ${i.params[1]?`${o.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${o.join(".")}, '${i.params[0]}') ? ${l} : undefined`:l}default:r=`new ${i.misc_type}(${o.join(".")}.${e})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${o.join(".")}.${e}`;break}return i.optional?`Reflect.has(${o.join(".")}, '${e}') ? ${r} : undefined`:r}static parse(e,i,o,s=["data"]){let r=!i.optional||u(this,be,"m",A0).call(this,{data:o},[...s,e]);switch(i.type){case"renderer":return r?$.parseItem(u(this,be,"m",xi).call(this,{data:o},[...s,e]),i.renderers.map(l=>$.getParserByName(l))):void 0;case"renderer_list":return r?$.parse(u(this,be,"m",xi).call(this,{data:o},[...s,e]),!0,i.renderers.map(l=>$.getParserByName(l))):void 0;case"object":{let l={},p=[...s,e];for(let[f,m]of i.keys)l[f]=r?this.parse(f,m,o,p):void 0;return l}case"misc":switch(i.misc_type){case"NavigationEndpoint":return r?new g(u(this,be,"m",xi).call(this,{data:o},[...s,e])):void 0;case"Text":return r?new c(u(this,be,"m",xi).call(this,{data:o},[...s,e])):void 0;case"Thumbnail":return r?y.fromResponse(u(this,be,"m",xi).call(this,{data:o},[...s,e])):void 0;case"Author":return!i.optional||u(this,be,"m",A0).call(this,{data:o},[...s,i.params[0]])?new V(u(this,be,"m",xi).call(this,{data:o},[...s,i.params[0]]),i.params[1]?u(this,be,"m",xi).call(this,{data:o},[...s,i.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return u(this,be,"m",xi).call(this,{data:o},[...s,e])}}static inferType(e,i){let o=!1;if(o=this.isRenderer(i))return u(this,be,"f",G_)[o]=i[Reflect.ownKeys(i)[0]],{type:"renderer",renderers:[o],optional:!1};if(o=this.isRendererList(i)){for(let[r,l]of Object.entries(o))u(this,be,"f",G_)[r]=l;return{type:"renderer_list",renderers:Object.keys(o),optional:!1}}if(o=this.isMiscType(e,i))return o;let s=typeof i;return s==="object"?{type:"object",keys:Object.entries(i).map(([r,l])=>[r,this.inferType(r,l)]),optional:!1}:{type:"primative",typeof:[s],optional:!1}}static isRendererList(e){return Array.isArray(e)&&e.every(s=>this.isRenderer(s))?Object.fromEntries(e.map(s=>{let r=Reflect.ownKeys(s)[0].toString();return[$.sanitizeClassName(r),s[r]]})):!1}static isMiscType(e,i){if((e.endsWith("Endpoint")||e.endsWith("Command")||e==="endpoint")&&typeof i=="object")return{type:"misc",endpoint:new g(i),optional:!1,misc_type:"NavigationEndpoint"};if(typeof i=="object"&&(Reflect.has(i,"simpleText")||Reflect.has(i,"runs"))){let o=new c(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:o.endpoint,text:o.toString()}}return typeof i=="object"&&Reflect.has(i,"thumbnails")&&Array.isArray(i.thumbnails)?{type:"misc",misc_type:"Thumbnail",optional:!1}:!1}static isRenderer(e){if(!(typeof e=="object"))return!1;let o=Reflect.ownKeys(e);return o.length===1&&o[0].toString().includes("Renderer")?$.sanitizeClassName(o[0].toString()):!1}};n(Je,"YTNodeGenerator");be=Je,ts=n(function(e){return e.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)},"_YTNodeGenerator_camelToSnake"),dw=n(function(e,i){console.warn(new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${this.generateTypescriptClass(e,i)}`))},"_YTNodeGenerator_logNewClass"),pw=n(function(e,i,o){console.warn(`${e} changed!
The following keys where altered: ${o.map(([s])=>u(this,be,"m",ts).call(this,s)).join(", ")}
The class has changed to:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logChangedKeys"),xi=n(function(e,i){let o=e;for(let s of i)o=o[s];return o},"_YTNodeGenerator_accessDataFromKeyPath"),A0=n(function(e,i){let o=e;for(let s of i)if(Reflect.has(o,s))o=o[s];else return!1;return!0},"_YTNodeGenerator_hasDataFromKeyPath"),uw=n(function(e){return Reflect.ownKeys(e).filter(s=>!this.isIgnoredKey(s)).filter(s=>typeof s=="string").map(s=>{let r=e[s],l=this.inferType(s,r);return[s,l]})},"_YTNodeGenerator_passOne"),lw=n(function(e){var i;let s=e.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)===null||m===void 0?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),r=new Set,l=s[0],p;if(l){r.add(l[0]);let m=e.map(([S])=>S).filter(S=>S.endsWith("Badges")||S==="badges"),b=(i=m.filter(S=>S.startsWith("owner")||S.startsWith("author"))[0])!==null&&i!==void 0?i:m[0],w=e.find(([S])=>S===b),I=w?w[1].type==="renderer_list"&&Reflect.has(w[1].renderers,"MetadataBadge"):!1;I&&b&&r.add(b),p={type:"misc",misc_type:"Author",optional:!1,params:[l[0],I?b:void 0]}}return p&&e.push(["author",p]),e.filter(([f])=>!r.has(f))},"_YTNodeGenerator_passTwo"),fw=n(function(e){let i=u(this,be,"m",uw).call(this,e);return u(this,be,"m",lw).call(this,i)},"_YTNodeGenerator_introspect");cw={value:new Set(["trackingParams","accessibility","accessibilityData"])};G_={value:{}};var W,M0,Ki,Dt,Lt,hw,Ft,mw,z_,V0,le=class{static setParserErrorHandler(e){T(this,W,e,"f",M0)}static parseResponse(e){var i,o,s;let r={};u(this,W,"m",Lt).call(this);let l=this.parse(e.contents),p=u(this,W,"m",Ft).call(this);l&&(r.contents=l,r.contents_memo=p),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let f=e.onResponseReceivedActions?this.parseRR(e.onResponseReceivedActions):null,m=u(this,W,"m",Ft).call(this);f&&(r.on_response_received_actions=f,r.on_response_received_actions_memo=m),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let _=e.onResponseReceivedEndpoints?this.parseRR(e.onResponseReceivedEndpoints):null,b=u(this,W,"m",Ft).call(this);_&&(r.on_response_received_endpoints=_,r.on_response_received_endpoints_memo=b),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let w=e.onResponseReceivedCommands?this.parseRR(e.onResponseReceivedCommands):null,I=u(this,W,"m",Ft).call(this);w&&(r.on_response_received_commands=w,r.on_response_received_commands_memo=I),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let S=e.continuationContents?this.parseLC(e.continuationContents):null,N=u(this,W,"m",Ft).call(this);S&&(r.continuation_contents=S,r.continuation_contents_memo=N),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let E=e.actions?this.parseActions(e.actions):null,M=u(this,W,"m",Ft).call(this);E&&(r.actions=E,r.actions_memo=M),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let F=e.liveChatItemContextMenuSupportedRenderers?this.parseItem(e.liveChatItemContextMenuSupportedRenderers):null,Y=u(this,W,"m",Ft).call(this);F&&(r.live_chat_item_context_menu_supported_renderers=F,r.live_chat_item_context_menu_supported_renderers_memo=Y),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let ie=e.header?this.parse(e.header):null,he=u(this,W,"m",Ft).call(this);ie&&(r.header=ie,r.header_memo=he),u(this,W,"m",Dt).call(this),u(this,W,"m",Lt).call(this);let Ie=e.sidebar?this.parseItem(e.sidebar):null,Ee=u(this,W,"m",Ft).call(this);Ie&&(r.sidebar=Ie,r.sidebar_memo=Ee),u(this,W,"m",Dt).call(this),this.applyMutations(p,(o=(i=e.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations);let Ae=e.continuation?this.parseC(e.continuation):null;Ae&&(r.continuation=Ae);let K=this.parse(e.metadata);K&&(r.metadata=K);let J=this.parseItem(e.microformat);J&&(r.microformat=J);let Z=this.parseItem(e.overlay);Z&&(r.overlay=Z);let Q=this.parseArray(e.alerts,_h);Q.length&&(r.alerts=Q);let Re=e.refinements;Re&&(r.refinements=Re);let lt=e.estimatedResults?parseInt(e.estimatedResults):null;lt&&(r.estimated_results=lt);let ct=this.parse(e.playerOverlays);ct&&(r.player_overlays=ct);let dt=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;dt&&(r.playback_tracking=dt);let ze=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed||!1,audio_only_playablility:this.parseItem(e.playabilityStatus.audioOnlyPlayability,ih),error_screen:this.parseItem(e.playabilityStatus.errorScreen)}:null;ze&&(r.playability_status=ze);let et=e.streamingData?{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:le.parseFormats(e.streamingData.formats),adaptive_formats:le.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null}:void 0;et&&(r.streaming_data=et);let tt=e.currentVideoEndpoint?new g(e.currentVideoEndpoint):null;tt&&(r.current_video_endpoint=tt);let _e=e.endpoint?new g(e.endpoint):null;_e&&(r.endpoint=_e);let De=this.parseItem(e.captions,lh);De&&(r.captions=De);let $t=e.videoDetails?new Fi(e.videoDetails):null;$t&&(r.video_details=$t);let qt=this.parseArray(e.annotations,uh);qt.length&&(r.annotations=qt);let Xt=this.parseItem(e.storyboards,[dh,ch]);Xt&&(r.storyboards=Xt);let Qt=this.parseItem(e.endscreen,ah);Qt&&(r.endscreen=Qt);let wt=this.parseItem(e.cards,rh);wt&&(r.cards=wt);let kn=(s=e.engagementPanels)===null||s===void 0?void 0:s.map(Rt=>this.parseItem(Rt,pm));kn&&(r.engagement_panels=kn),u(this,W,"m",Lt).call(this);let de=this.parse(e.items);return de&&(r.items=de,r.items_memo=u(this,W,"m",Ft).call(this)),u(this,W,"m",Dt).call(this),r}static parseItem(e,i){if(!e)return null;let o=Object.keys(e);if(!o.length)return null;let s=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(s))try{let l=this.hasParser(s)?this.getParserByName(s):Je.generateRuntimeClass(s,e[o[0]]);if(i){if(Array.isArray(i)){if(!i.some(f=>f.type===l.type))throw new pt(`Type mismatch, got ${s} but expected one of ${i.map(f=>f.type).join(", ")}`)}else if(l.type!==i.type)throw new pt(`Type mismatch, got ${s} but expected ${i.type}`)}let p=new l(e[o[0]]);return u(this,W,"m",hw).call(this,s,p),p}catch(r){return u(this,W,"f",M0).call(this,{classname:s,classdata:e[o[0]],err:r}),null}return null}static parseArray(e,i){if(Array.isArray(e)){let o=[];for(let s of e){let r=this.parseItem(s,i);r&&o.push(r)}return ce(o)}else if(!e)return ce([]);throw new pt("Expected array but got a single item")}static parse(e,i,o){if(!e)return null;if(Array.isArray(e)){let s=[];for(let l of e){let p=this.parseItem(l,o);p&&s.push(p)}let r=ce(s);return i?r:new ei(ce(s))}else if(i)throw new pt("Expected array but got a single item");return new ei(this.parseItem(e,o))}static parseC(e){return e.timedContinuationData?new is({continuation:e.timedContinuationData,type:"timed"}):null}static parseLC(e){return e.itemSectionContinuation?new No(e.itemSectionContinuation):e.sectionListContinuation?new ht(e.sectionListContinuation):e.liveChatContinuation?new Oo(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new Mo(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new bi(e.musicShelfContinuation):e.gridContinuation?new Vo(e.gridContinuation):e.playlistPanelContinuation?new vf(e.playlistPanelContinuation):null}static parseRR(e){return ce(e.map(i=>{if(i.navigateAction)return new Ao(i.navigateAction);if(i.reloadContinuationItemsCommand)return new Ro(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new _f(i.appendContinuationItemsAction)}).filter(i=>i))}static parseActions(e){return Array.isArray(e)?le.parse(e.map(i=>(delete i.clickTrackingParams,i))):new ei(this.parseItem(e))}static parseFormats(e){return(e==null?void 0:e.map(i=>new Li(i)))||[]}static applyMutations(e,i){let o=e.getType(Mt);if(o.length>0&&!i)console.warn(new v(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${O.shim.info.bugs_url}`));else{let s=[];for(let r of o){let l=i.find(f=>{var m,_;return((_=(m=f.payload)===null||m===void 0?void 0:m.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===r.form_item_entity_key}),p=l==null?void 0:l.payload.musicFormBooleanChoice;(p==null?void 0:p.selected)!==void 0&&(p==null?void 0:p.opaqueToken)?r.selected=p.selected:s.push(`'${r.title}'`)}s.length>0&&console.warn(new v(`Mutation data missing or invalid for ${s.length} out of ${o.length} MusicMultiSelectMenuItems. The titles of the failed items are: ${s.join(", ")}.
This is a bug, please report it at ${O.shim.info.bugs_url}`))}}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return this.ignore_list.has(e)}static getParserByName(e){let i=u(this,W,"f",z_).get(e);if(!i){let o=new Error(`Module not found: ${e}`);throw o.code="MODULE_NOT_FOUND",o}return i}static hasParser(e){return u(this,W,"f",z_).has(e)}static addRuntimeParser(e,i){u(this,W,"f",z_).set(e,i),u(this,W,"f",V0).set(e,i)}static getDynamicParsers(){return Object.fromEntries(u(this,W,"f",V0))}};n(le,"Parser");W=le,Dt=n(function(){T(le,W,null,"f",Ki)},"_Parser_clearMemo"),Lt=n(function(){T(le,W,new Vi,"f",Ki)},"_Parser_createMemo"),hw=n(function(e,i){if(!u(le,W,"f",Ki))return;let o=u(le,W,"f",Ki).get(e);if(!o)return u(le,W,"f",Ki).set(e,[i]);o.push(i)},"_Parser_addToMemo"),Ft=n(function(){if(!u(le,W,"f",Ki))throw new Error("Parser#getMemo() called before Parser#createMemo()");return u(le,W,"f",Ki)},"_Parser_getMemo"),mw=n(function({classname:e,classdata:i,err:o}){if(o.code=="MODULE_NOT_FOUND")return console.warn(new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url.split("#")[0]}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!`,i));console.warn(new v(`Something went wrong at ${e}!
This is a bug, please report it at ${O.shim.info.bugs_url}`,{stack:o.stack}))},"_Parser_printError");M0={value:u(le,W,"m",mw)};Ki={value:null};le.ignore_list=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]);z_={value:new Map(Object.entries(mf))};V0={value:new Map};var $=le,No=class extends a{constructor(e){var i,o,s;super(),this.contents=le.parseArray(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(No,"ItemSectionContinuation");No.type="itemSectionContinuation";var Ao=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};n(Ao,"NavigateAction");Ao.type="navigateAction";var _f=class extends a{constructor(e){super(),this.contents=le.parseArray(e.continuationItems)}};n(_f,"AppendContinuationItemsAction");_f.type="appendContinuationItemsAction";var Ro=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=le.parse(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(Ro,"ReloadContinuationItemsCommand");Ro.type="reloadContinuationItemsCommand";var ht=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=le.parse(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(ht,"SectionListContinuation");ht.type="sectionListContinuation";var Mo=class extends a{constructor(e){var i;super(),this.contents=le.parse(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Mo,"MusicPlaylistShelfContinuation");Mo.type="musicPlaylistShelfContinuation";var bi=class extends a{constructor(e){var i,o,s,r;super(),this.contents=le.parseArray(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(bi,"MusicShelfContinuation");bi.type="musicShelfContinuation";var Vo=class extends a{constructor(e){var i;super(),this.items=le.parse(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Vo,"GridContinuation");Vo.type="gridContinuation";var vf=class extends a{constructor(e){var i,o,s,r,l,p;super(),this.contents=le.parseArray(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(l=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(vf,"PlaylistPanelContinuation");vf.type="playlistPanelContinuation";var is=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(is,"Continuation");is.type="continuation";var Oo=class extends a{constructor(e){var i,o,s,r,l,p,f,m;super(),this.actions=le.parse((i=e.actions)===null||i===void 0?void 0:i.map(w=>(delete w.clickTrackingParams,w)),!0)||ce([]),this.action_panel=le.parseItem(e.actionPanel),this.item_list=le.parseItem(e.itemList,mh),this.header=le.parseItem(e.header,hh),this.participants_list=le.parseItem(e.participantsList,fh),this.popout_message=le.parseItem(e.popoutMessage,Ue),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let _,b;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(b="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(b="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(b="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new is({continuation:_,type:b}),this.viewer_name=e.viewerName}};n(Oo,"LiveChatContinuation");Oo.type="liveChatContinuation";var W0={};j(W0,{AccountInfo:()=>$_,Analytics:()=>X_,Channel:()=>Oe,ChannelListContinuation:()=>Lo,Comments:()=>Q_,FilteredChannelList:()=>qi,Guide:()=>Xi,HashtagFeed:()=>ui,History:()=>ls,HomeFeed:()=>Yt,ItemMenu:()=>iv,Library:()=>sv,LiveChat:()=>pv,NotificationsMenu:()=>fv,Playlist:()=>yi,Search:()=>hv,Settings:()=>mv,SmoothedQueue:()=>uv,TimeWatched:()=>vv,VideoInfo:()=>Af});var os,K_=class{constructor(e){if(os.set(this,void 0),T(this,os,d.parseResponse(e.data),"f"),!u(this,os,"f").contents)throw new v("Page contents not found");let i=u(this,os,"f").contents.array().as(bh).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return u(this,os,"f")}};n(K_,"AccountInfo");os=new WeakMap;var $_=K_;var gf,q_=class{constructor(e){var i;gf.set(this,void 0),T(this,gf,d.parseResponse(e.data),"f"),this.sections=(i=u(this,gf,"f").contents_memo)===null||i===void 0?void 0:i.getType(Fn).map(o=>o.model).flatMap(o=>o||[])}get page(){return u(this,gf,"f")}};n(q_,"Analytics");gf=new WeakMap;var X_=q_;var O0,ot,$i,xf,nt,_w,ne=class{constructor(e,i,o=!1){O0.add(this),ot.set(this,void 0),$i.set(this,void 0),xf.set(this,void 0),nt.set(this,void 0),u(this,O0,"m",_w).call(this,i)||o?T(this,ot,i,"f"):T(this,ot,d.parseResponse(i.data),"f");let s=B0(u(this,ot,"f").contents_memo,u(this,ot,"f").continuation_contents_memo,u(this,ot,"f").on_response_received_commands_memo,u(this,ot,"f").on_response_received_endpoints_memo,u(this,ot,"f").on_response_received_actions_memo,u(this,ot,"f").sidebar_memo,u(this,ot,"f").header_memo);if(!s)throw new v("No memo found in feed");T(this,nt,s,"f"),T(this,xf,e,"f")}static getVideosFromMemo(e){return e.getType(jn,wm,w_,An,g_,gi,j_)}static getPlaylistsFromMemo(e){return e.getType(ti,xm)}get videos(){return ne.getVideosFromMemo(u(this,nt,"f"))}get posts(){return u(this,nt,"f").getType(ji,x_,R_)}get channels(){return u(this,nt,"f").getType(Rh,gm)}get playlists(){return ne.getPlaylistsFromMemo(u(this,nt,"f"))}get memo(){return u(this,nt,"f")}get page_contents(){var e;let i=(e=u(this,nt,"f").getType(xe))===null||e===void 0?void 0:e.first().content,o=u(this,nt,"f").getType(Ro).first(),s=u(this,nt,"f").getType(yh).first();return i||o||s}get shelves(){return u(this,nt,"f").getType(Xn,S_,T_)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=u(this,ot,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=u(this,ot,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(zi,D_))return o.secondary_contents}get actions(){return u(this,xf,"f")}get page(){return u(this,ot,"f")}get has_continuation(){return(u(this,nt,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return x(this,void 0,void 0,function*(){if(u(this,$i,"f")){if(u(this,$i,"f").length>1)throw new v("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,$i,"f").length===0)throw new v("There are no continuations");return yield u(this,$i,"f")[0].endpoint.call(u(this,xf,"f"),{parse:!0})}if(T(this,$i,u(this,nt,"f").getType(Ve),"f"),u(this,$i,"f"))return this.getContinuationData()})}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new ne(this.actions,e,!0)})}};n(ne,"Feed");ot=new WeakMap,$i=new WeakMap,xf=new WeakMap,nt=new WeakMap,O0=new WeakSet,_w=n(function(e){return!("data"in e)},"_Feed_isParsed");var Bo,Do,mt=class extends ne{constructor(e,i,o=!1){var s;super(e,i,o),Bo.set(this,void 0),Do.set(this,void 0),T(this,Do,e,"f"),T(this,Bo,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(xe),"f")}get tabs(){var e,i;return(i=(e=u(this,Bo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return x(this,void 0,void 0,function*(){let o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(u(this,Do,"f"));return new mt(u(this,Do,"f"),s,!1)})}getTabByURL(e){var i;return x(this,void 0,void 0,function*(){let o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.find(r=>{var l;return((l=r.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(u(this,Do,"f"));return new mt(u(this,Do,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=u(this,Bo,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(xe))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(mt,"TabbedFeed");Bo=new WeakMap,Do=new WeakMap;var ns,It=class extends ne{constructor(e,i,o=!1){super(e,i,o),ns.set(this,void 0)}get filter_chips(){var e,i;if(u(this,ns,"f"))return u(this,ns,"f")||[];if(((e=this.memo.getType(vi))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(vi))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return T(this,ns,this.memo.getType(ve),"f"),u(this,ns,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new v("Invalid filter");if(!o)throw new v("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("Failed to get filtered feed");return new ne(this.actions,s,!0)})}};n(It,"FilterableFeed");ns=new WeakMap;var Oe=class extends mt{constructor(e,i,o=!1){var s,r,l,p,f,m;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(Nn,Ph,Em);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(Vh),b=(p=this.page.microformat)===null||p===void 0?void 0:p.as(ii);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new ss(w.text.toString())}if(!_&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),b||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(We).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().key("tabs").parsed().array().filterType(xe,Wn).get({selected:!0})}applyFilter(e){var i;return x(this,void 0,void 0,function*(){let o,s=this.memo.getType(vi).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof ve&&(o=e);if(!o)throw new v("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("No page returned",{filter:o});return new qi(this.actions,r,!0)})}applySort(e){var i,o;return x(this,void 0,void 0,function*(){let s=this.memo.getType(mi).first();if(!s)throw new v("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let l=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Oe(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){let l=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(ee).sub_menu)===null||s===void 0?void 0:s.as(Aa);if(!l)throw new v("Sub menu not found");let p=l.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Oe(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(vi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(ve).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(mi).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(ee).sub_menu)===null||o===void 0?void 0:o.as(Aa);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Oe(this.actions,e.page,!0)})}getVideos(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Oe(this.actions,e.page,!0)})}getShorts(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Oe(this.actions,e.page,!0)})}getLiveStreams(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Oe(this.actions,e.page,!0)})}getPlaylists(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Oe(this.actions,e.page,!0)})}getCommunity(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Oe(this.actions,e.page,!0)})}getChannels(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new Oe(this.actions,e.page,!0)})}getAbout(){var e;return x(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(Mh))===null||e===void 0?void 0:e[0]})}search(e){var i,o;return x(this,void 0,void 0,function*(){let s=(i=this.memo.getType(Wn))===null||i===void 0?void 0:i[0];if(!s)throw new v("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Oe(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(Wn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new Lo(this.actions,i,!0)})}};n(Oe,"Channel");var Lo=class extends ne{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new Lo(this.actions,i,!0)})}};n(Lo,"ChannelListContinuation");var qi=class extends It{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(ve).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new qi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(vi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(ve)),new qi(this.actions,i,!0)})}};n(qi,"FilteredChannelList");var rs,ai,as,Fo=class{constructor(e,i,o=!1){var s,r,l;rs.set(this,void 0),ai.set(this,void 0),as.set(this,void 0),T(this,rs,o?i:d.parseResponse(i),"f"),T(this,ai,e,"f");let p=u(this,rs,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType(Bn);let _=((r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.filterType(Xh))||[];this.contents=ce(_.map(b=>{var w;return(w=b.comment)===null||w===void 0||w.setActions(u(this,ai,"f")),b.setActions(u(this,ai,"f")),b})),T(this,as,(l=m==null?void 0:m.contents)===null||l===void 0?void 0:l.firstOfType(Ve),"f")}applySort(e){var i,o,s,r;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!l)throw new v("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(u(this,ai,"f"),{parse:!0});return new Fo(u(this,ai,"f"),p,!0)})}createComment(e){var i;return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(qh).submit_button;if(!o)throw new v("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new v("Button does not have an endpoint.");return yield o.endpoint.call(u(this,ai,"f"),{commentText:e})})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,as,"f"))throw new v("Continuation not found");let e=yield u(this,as,"f").endpoint.call(u(this,ai,"f"),{parse:!0}),i=Object.assign({},u(this,rs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Fo(u(this,ai,"f"),i,!0)})}get has_continuation(){return!!u(this,as,"f")}get page(){return u(this,rs,"f")}};n(Fo,"Comments");rs=new WeakMap,ai=new WeakMap,as=new WeakMap;var Q_=Fo;var bf,Xi=class{constructor(e){bf.set(this,void 0),T(this,bf,$.parseResponse(e),"f"),this.contents=u(this,bf,"f").items.array().as(Hn,Tm)}get page(){return u(this,bf,"f")}};n(Xi,"Guide");bf=new WeakMap;var us=class extends ne{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ge),this.feed_actions=this.memo.getType(kh).first()}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new us(this.actions,e,!0)})}};n(us,"History");var ls=us;var Yt=class extends It{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(vm).first(),this.contents=this.memo.getType(Gi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Yt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return x(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Yt(this.actions,o.page,!0)})}};n(Yt,"HomeFeed");var ui=class extends It{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let o=this.page.contents_memo.getType(xe).first();if(!o.content)throw new v("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(Im)),this.contents=o.content.as(Gi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ui(this.actions,o.page)})}};n(ui,"HashtagFeed");var Z_,ev,yf,tv=class{constructor(e,i){Z_.set(this,void 0),ev.set(this,void 0),yf.set(this,void 0),T(this,Z_,e,"f"),T(this,ev,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(H))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,yf,o.as(H).items,"f")}selectItem(e){return x(this,void 0,void 0,function*(){let i;if(e instanceof k){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,yf,"f").find(r=>r.is(Jn)?r.as(Jn).icon_type===e:!1);if(!s||!s.is(Jn))throw new v(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(u(this,ev,"f"),{parse:!0})})}items(){return u(this,yf,"f")}page(){return u(this,Z_,"f")}};n(tv,"ItemMenu");Z_=new WeakMap,ev=new WeakMap,yf=new WeakMap;var iv=tv;var wf,ov,cs=class extends ne{constructor(e,i,o=!1){var s,r,l,p;super(e,i,o),wf.add(this);let f=this.memo.getType(h_).first(),m=this.memo.getType(__).first(),_=this.memo.getType(v_).first();if(!m&&!_)throw new v("This playlist does not exist");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(m_)),{author:(l=(r=_==null?void 0:_.owner)===null||r===void 0?void 0:r.as(Zn).author)!==null&&l!==void 0?l:f==null?void 0:f.author,thumbnails:(p=m==null?void 0:m.thumbnail_renderer)===null||p===void 0?void 0:p.as(Ln,f_).thumbnail,total_items:u(this,wf,"m",ov).call(this,0,m),views:u(this,wf,"m",ov).call(this,1,m),last_updated:u(this,wf,"m",ov).call(this,2,m),can_share:f==null?void 0:f.can_share,can_delete:f==null?void 0:f.can_delete,is_editable:f==null?void 0:f.is_editable,privacy:f==null?void 0:f.privacy}),this.menu=m==null?void 0:m.menu,this.endpoint=m==null?void 0:m.endpoint,this.messages=this.memo.getType(Ue)}get items(){return this.videos}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new cs(this.actions,e,!0)})}};n(cs,"Playlist");wf=new WeakSet,ov=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var yi=cs;var D0,vw,nv=class extends ne{constructor(e,i){if(super(e,i),D0.add(this),!this.page.contents_memo)throw new v("Page contents not found");let o=this.page.contents_memo.getType(b_).first(),s=this.page.contents_memo.getType(y_).first();this.profile={stats:o,user_info:s};let r=this.page.contents_memo.getType(Xn);this.sections=r.map(l=>{var p;return{type:l.icon_type,title:l.title,contents:((p=l.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>u(this,D0,"m",vw).call(this,l)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(nv,"Library");D0=new WeakSet,vw=n(function(e){var i;return x(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(H).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(H).top_level_buttons.firstOfType(k);if(!o)throw new v("Did not find target button.");let s=yield o.as(k).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new yi(this.actions,s,!0);case"WATCH_HISTORY":return new ls(this.actions,s,!0);case"CONTENT_CUT":return new ne(this.actions,s,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var sv=nv;var ds,wi=class extends EventTarget{constructor(){super(),ds.set(this,new Map)}emit(e,...i){let o=new O.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof O.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");u(this,ds,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof O.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");u(this,ds,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=u(this,ds,"f").get(i);o&&(this.removeEventListener(e,o),u(this,ds,"f").delete(i))}};n(wi,"EventEmitterLike");ds=new WeakMap;var Ti,Qi,Yo,St,jt,st;function e1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(e1,"flattenQueue");var rv=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(rv,"DelayQueue");var av=class{constructor(){Ti.set(this,void 0),Qi.set(this,void 0),Yo.set(this,void 0),St.set(this,void 0),jt.set(this,void 0),st.set(this,void 0),T(this,Ti,null,"f"),T(this,Qi,null,"f"),T(this,Yo,null,"f"),T(this,St,[],"f"),T(this,jt,null,"f"),T(this,st,new rv,"f")}enqueueActionGroup(e){if(u(this,Ti,"f")!==null){let i=Date.now()-u(this,Ti,"f");u(this,st,"f").back.push(i),5<u(this,st,"f").front.length+u(this,st,"f").back.length&&(u(this,st,"f").front.length||(u(this,st,"f").front=u(this,st,"f").back,u(this,st,"f").front.reverse(),u(this,st,"f").back=[]),u(this,st,"f").front.pop()),T(this,Qi,Math.max(...u(this,st,"f").getValues()),"f")}T(this,Ti,Date.now(),"f"),u(this,St,"f").push(e),u(this,jt,"f")===null&&T(this,jt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,jt,null,"f"),u(this,St,"f").length){let e=1e4;u(this,Qi,"f")!==null&&u(this,Ti,"f")!==null&&(e=u(this,Qi,"f")-Date.now()+u(this,Ti,"f")),e=u(this,St,"f").length<e/80?1:Math.ceil(u(this,St,"f").length/(e/80));let i=e1(u(this,St,"f").splice(0,e));u(this,Yo,"f")&&u(this,Yo,"f").call(this,i),u(this,St,"f")!==null&&(e==1?(e=u(this,Qi,"f")/u(this,St,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,jt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,jt,"f")!==null&&(clearTimeout(u(this,jt,"f")),T(this,jt,null,"f")),T(this,St,[],"f")}set callback(e){T(this,Yo,e,"f")}get callback(){return u(this,Yo,"f")}get action_queue(){return u(this,St,"f")}get estimated_update_interval(){return u(this,Qi,"f")}get last_update_time(){return u(this,Ti,"f")}get next_update_id(){return u(this,jt,"f")}get poll_response_delay_queue(){return u(this,st,"f")}};n(av,"SmoothedQueue");Ti=new WeakMap,Qi=new WeakMap,Yo=new WeakMap,St=new WeakMap,jt=new WeakMap,st=new WeakMap;var uv=av;var Le,Ii,Sf,lv,Uo,Tf,If,L0,cv,gw,jo,dv=class extends wi{constructor(e){var i,o;super(),Le.add(this),Ii.set(this,void 0),Sf.set(this,void 0),lv.set(this,void 0),Uo.set(this,void 0),Tf.set(this,void 0),If.set(this,0),this.running=!1,this.is_replay=!1,T(this,Sf,e.basic_info.id,"f"),T(this,lv,e.basic_info.channel_id,"f"),T(this,Ii,e.actions,"f"),T(this,Uo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new uv,this.smoothed_queue.callback=s=>x(this,void 0,void 0,function*(){s.length?s.length<10?yield u(this,Le,"m",cv).call(this,s):this.is_replay?(u(this,Le,"m",cv).call(this,s),yield u(this,Le,"m",jo).call(this,2e3)):u(this,Le,"m",cv).call(this,s):yield u(this,Le,"m",jo).call(this,2e3),this.running&&u(this,Le,"m",L0).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,Le,"m",L0).call(this),u(this,Le,"m",gw).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Ii,"f").execute("/live_chat/send_message",{params:ye.encodeMessageParams(u(this,lv,"f"),u(this,Sf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:O.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(Om)})}applyFilter(e){var i,o,s,r,l,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let m=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=m==null?void 0:m.at(0))===null||r===void 0)&&r.selected)return;T(this,Uo,(l=m==null?void 0:m.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;T(this,Uo,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return x(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(u(this,Ii,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new iv(i,u(this,Ii,"f"))})}selectButton(e){return x(this,void 0,void 0,function*(){return yield e.endpoint.call(u(this,Ii,"f"),{parse:!0})})}};n(dv,"LiveChat");Ii=new WeakMap,Sf=new WeakMap,lv=new WeakMap,Uo=new WeakMap,Tf=new WeakMap,If=new WeakMap,Le=new WeakSet,L0=n(function t(){x(this,void 0,void 0,function*(){var e,i;try{let o=yield u(this,Ii,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Uo,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new v("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof Oo)){this.stop(),this.emit("end");return}T(this,Uo,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&u(this,Le,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,If,0,"f")}catch(o){this.emit("error",o),T(this,If,(i=u(this,If,"f"),e=i++,i),"f"),e<10?(yield u(this,Le,"m",jo).call(this,2e3),u(this,Le,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),cv=n(function(e){return x(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield u(this,Le,"m",jo).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),gw=n(function t(){x(this,void 0,void 0,function*(){var e,i,o,s,r,l,p,f,m,_,b;try{let w={videoId:u(this,Sf,"f")};u(this,Tf,"f")&&(w.continuation=u(this,Tf,"f"));let I=yield u(this,Ii,"f").execute("/updated_metadata",w),S=d.parseResponse(I.data);T(this,Tf,(e=S.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=S.actions)===null||i===void 0?void 0:i.array().firstOfType(Ym))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=S.actions)===null||s===void 0?void 0:s.array().firstOfType(Fm))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((l=S.actions)===null||l===void 0?void 0:l.array().firstOfType(Um))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=S.actions)===null||f===void 0?void 0:f.array().firstOfType(jm))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=S.actions)===null||_===void 0?void 0:_.array().firstOfType(Lm))||((b=this.metadata)===null||b===void 0?void 0:b.date)},this.emit("metadata-update",this.metadata),yield u(this,Le,"m",jo).call(this,5e3),this.running&&u(this,Le,"m",t).call(this)}catch(w){yield u(this,Le,"m",jo).call(this,2e3),this.running&&u(this,Le,"m",t).call(this)}})},"_LiveChat_pollMetadata"),jo=n(function(e){return x(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var pv=dv;var Wo,kf,ps=class{constructor(e,i){Wo.set(this,void 0),kf.set(this,void 0),T(this,kf,e,"f"),T(this,Wo,d.parseResponse(i.data),"f"),this.header=u(this,Wo,"f").actions_memo.getType(Jm).first(),this.contents=u(this,Wo,"f").actions_memo.getType(u_)}getContinuation(){return x(this,void 0,void 0,function*(){let e=u(this,Wo,"f").actions_memo.getType(Ve).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(u(this,kf,"f"),{parse:!1});return new ps(u(this,kf,"f"),i)})}get page(){return u(this,Wo,"f")}};n(ps,"NotificationsMenu");Wo=new WeakMap,kf=new WeakMap;var fv=ps;var Ho=class extends ne{constructor(e,i,o=!1){var s,r,l,p,f,m;super(e,i,o);let _=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(ee).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new v("No contents found in search response");this.results=(l=_.find(b=>b.is(ge)&&b.contents&&b.contents.length>0))===null||l===void 0?void 0:l.as(ge).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(E_).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(F_).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Un)}selectRefinementCard(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(yo),!s)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new v("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new Ho(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(yo).map(i=>i.query))||[]}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Ho(this.actions,e,!0)})}};n(Ho,"Search");var hv=Ho;var Jo,Cf,fs=class{constructor(e,i){var o,s,r,l;if(Jo.set(this,void 0),Cf.set(this,void 0),T(this,Cf,e,"f"),T(this,Jo,d.parseResponse(i.data),"f"),this.sidebar=(o=u(this,Jo,"f").sidebar)===null||o===void 0?void 0:o.as(A_),!u(this,Jo,"f").contents)throw new v("Page contents not found");let p=u(this,Jo,"f").contents.item().as(zi).tabs.array().as(xe).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(ee).contents.as(ge);this.introduction=(l=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(l_),this.sections=f==null?void 0:f.map(m=>{var _;return{title:((_=m.header)===null||_===void 0?void 0:_.title.toString())||null,contents:m.contents}})}selectSidebarItem(e){return x(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Dn))i=e;else throw new v("Invalid item",{target_item:e});let o=yield i.endpoint.call(u(this,Cf,"f"),{parse:!1});return new fs(u(this,Cf,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(qn).options;if(r){for(let l of r)if(l.is($n)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(qn).options&&(e=e.concat(o.as(qn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Jo,"f")}};n(fs,"Settings");Jo=new WeakMap,Cf=new WeakMap;var mv=fs;var hs,_v=class{constructor(e){var i;if(hs.set(this,void 0),T(this,hs,d.parseResponse(e.data),"f"),!u(this,hs,"f").contents)throw new v("Page contents not found");let o=u(this,hs,"f").contents.item().as(ri).tabs.get({selected:!0});if(!o)throw new v("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(ee).contents.as(ge)}get page(){return u(this,hs,"f")}};n(_v,"TimeWatched");hs=new WeakMap;var vv=_v;var U0={};j(U0,{Feed:()=>ne,FilterableFeed:()=>It,MediaInfo:()=>kt,TabbedFeed:()=>mt});var ke,Xe,yw,xw,F0,Y0,bw,Ef=class{static download(e,i,o,s,r,l){return x(this,void 0,void 0,function*(){if((o==null?void 0:o.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((o==null?void 0:o.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),f=this.chooseFormat(p,s),m=f.decipher(r);if(p.type==="video+audio"&&!e.range){let E=yield i.session.http.fetch_function(`${m}&cpn=${l}`,{method:"GET",headers:xr,redirect:"follow"});if(!E.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let M=E.body;if(!M)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});return M}let _=1048576*10,b=e.range?e.range.start:0,w=e.range?e.range.end:_,I=!1,S;return new O.shim.ReadableStream({start(){},pull:E=>x(this,void 0,void 0,function*(){if(I){E.close();return}return(w>=(f.content_length?f.content_length:0)||e.range)&&(I=!0),new Promise((M,F)=>x(this,void 0,void 0,function*(){var Y,ie,he,Ie;try{S=new AbortController;let J=yield i.session.http.fetch_function(`${m}&cpn=${l}&range=${b}-${w||""}`,{method:"GET",headers:Object.assign({},xr),signal:S.signal}),Z=J.body;if(!Z)throw new v("Could not get ReadableStream from fetch Response.",{video:this,error_type:"FETCH_FAILED",response:J});try{for(var Ee=!0,Ae=Eg(j0(Z)),K;K=yield Ae.next(),Y=K.done,!Y;){Ie=K.value,Ee=!1;try{let Q=Ie;E.enqueue(Q)}finally{Ee=!0}}}catch(Q){ie={error:Q}}finally{try{!Ee&&!Y&&(he=Ae.return)&&(yield he.call(Ae))}finally{if(ie)throw ie.error}}b=w+1,w+=_,M();return}catch(J){F(J)}}))}),cancel(E){return x(this,void 0,void 0,function*(){S.abort(E)})}},{highWaterMark:1,size(E){return E.byteLength}})})}static chooseFormat(e,i){if(!i)throw new v("Streaming data not available");let o=[...i.formats||[],...i.adaptive_formats||[]],s=e.type?e.type.includes("audio"):!0,r=e.type?e.type.includes("video"):!0,l=e.language||"original",p=e.quality||"best",f=-1,m=["best","bestefficiency"].includes(p),_=p!=="best",b=o.filter(w=>s&&!w.has_audio||r&&!w.has_video||e.format!=="any"&&!w.mime_type.includes(e.format||"mp4")||!m&&w.quality_label!==p?!1:(f<w.width&&(f=w.width),!0));if(!b.length)throw new v("No matching formats found",{options:e});if(m&&r&&(b=b.filter(w=>w.width===f)),s&&!r){let w=b.filter(I=>l!=="original"?!I.has_video&&I.language===l:!I.has_video&&I.is_original);w.length>0&&(b=w)}return _?b.sort((w,I)=>w.bitrate-I.bitrate):b.sort((w,I)=>I.bitrate-w.bitrate),b[0]}static toDash(e,i=p=>p,o,s,r,l){return x(this,void 0,void 0,function*(){if(!e)throw new v("Streaming data not available");let p;if(o?p=e.adaptive_formats.filter(w=>!o(w)):p=e.adaptive_formats,!p.length)throw new v("No adaptive formats found");let f=p[0].approx_duration_ms/1e3,m=new O.shim.DOMParser().parseFromString('<?xml version="1.0" encoding="utf-8"?><MPD />',"application/xml"),_=m.querySelector("MPD"),b=m.createElement("Period");return _.replaceWith(u(this,ke,"m",Xe).call(this,m,"MPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${f}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},[b])),yield u(this,ke,"m",yw).call(this,m,b,p,i,s,r,l),O.shim.serializeDOM(m)})}};n(Ef,"FormatUtils");ke=Ef,Xe=n(function(e,i,o,s=[]){let r=e.createElement(i);for(let[l,p]of Object.entries(o))p&&r.setAttribute(l,p);for(let l of s)typeof l>"u"||r.appendChild(l);return r},"_FormatUtils_el"),yw=n(function(e,i,o,s,r,l,p){var f,m,_;return x(this,void 0,void 0,function*(){let b=[],w=[[]];o.forEach(S=>{if((!S.index_range||!S.init_range)&&!S.is_type_otf)return;let N=S.mime_type,E=b.indexOf(N);E>-1?w[E].push(S):(b.push(N),w.push([]),w[b.length-1].push(S))});let I=0;for(let S=0;S<b.length;S++)if(w[S][0].has_audio&&w[S][0].audio_track){let N=[],E=[[]];w[S].forEach(M=>{var F,Y;let ie=N.indexOf((F=M.audio_track)===null||F===void 0?void 0:F.id);ie>-1?E[ie].push(M):(N.push((Y=M.audio_track)===null||Y===void 0?void 0:Y.id),E.push([]),E[N.length-1].push(M))});for(let M=0;M<N.length;M++){let F=E[M][0],Y=[],ie;!((f=F.audio_track)===null||f===void 0)&&f.audio_is_default?ie="main":F.is_dubbed?ie="dub":F.is_descriptive?ie="description":ie="alternate",Y.push(u(this,ke,"m",Xe).call(this,e,"Role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:ie}),u(this,ke,"m",Xe).call(this,e,"Label",{id:I.toString()},[e.createTextNode((m=F.audio_track)===null||m===void 0?void 0:m.display_name)]));let he=u(this,ke,"m",Xe).call(this,e,"AdaptationSet",{id:`${I++}`,mimeType:b[S].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true",lang:F.language,label:(_=F.audio_track)===null||_===void 0?void 0:_.display_name},Y);i.appendChild(he);for(let Ie of E[M])yield u(this,ke,"m",F0).call(this,e,he,Ie,s,r,l,p)}}else{let N=u(this,ke,"m",Xe).call(this,e,"AdaptationSet",{id:`${I++}`,mimeType:b[S].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true"});i.appendChild(N);for(let E of w[S])E.has_video?yield u(this,ke,"m",xw).call(this,e,N,E,s,r,l,p):yield u(this,ke,"m",F0).call(this,e,N,E,s,r,l,p)}})},"_FormatUtils_generateAdaptationSet"),xw=n(function(e,i,o,s,r,l,p){var f,m,_,b,w,I;return x(this,void 0,void 0,function*(){let S=rt(o.mime_type,'codecs="','"'),N=new URL(o.decipher(l));N.searchParams.set("cpn",r||"");let E=u(this,ke,"m",Xe).call(this,e,"Representation",{id:(f=o.itag)===null||f===void 0?void 0:f.toString(),codecs:S,bandwidth:(m=o.bitrate)===null||m===void 0?void 0:m.toString(),width:(_=o.width)===null||_===void 0?void 0:_.toString(),height:(b=o.height)===null||b===void 0?void 0:b.toString(),maxPlayoutRate:"1",frameRate:(w=o.fps)===null||w===void 0?void 0:w.toString()});i.appendChild(E),yield u(this,ke,"m",Y0).call(this,e,E,o,(I=s(N))===null||I===void 0?void 0:I.toString(),p)})},"_FormatUtils_generateRepresentationVideo"),F0=n(function(e,i,o,s,r,l,p){var f,m,_,b,w,I;return x(this,void 0,void 0,function*(){let S=rt(o.mime_type,'codecs="','"'),N=new URL(o.decipher(l));N.searchParams.set("cpn",r||"");let E;o.audio_track?E=`${(f=o.itag)===null||f===void 0?void 0:f.toString()}-${o.audio_track.id}`:E=(m=o.itag)===null||m===void 0?void 0:m.toString();let M=u(this,ke,"m",Xe).call(this,e,"Representation",{id:E,codecs:S,bandwidth:(_=o.bitrate)===null||_===void 0?void 0:_.toString(),audioSamplingRate:(b=o.audio_sample_rate)===null||b===void 0?void 0:b.toString()},[u(this,ke,"m",Xe).call(this,e,"AudioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:((w=o.audio_channels)===null||w===void 0?void 0:w.toString())||"2"})]);i.appendChild(M),yield u(this,ke,"m",Y0).call(this,e,M,o,(I=s(N))===null||I===void 0?void 0:I.toString(),p)})},"_FormatUtils_generateRepresentationAudio"),Y0=n(function(e,i,o,s,r){return x(this,void 0,void 0,function*(){if(o.is_type_otf){if(!r)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:o});let{resolved_url:l,segment_durations:p}=yield u(this,ke,"m",bw).call(this,s,r),f=[];for(let m of p){let _;typeof m.repeat_count>"u"?_={d:m.duration.toString()}:_={d:m.duration.toString(),r:m.repeat_count.toString()},f.push(u(this,ke,"m",Xe).call(this,e,"S",_))}i.appendChild(u(this,ke,"m",Xe).call(this,e,"SegmentTemplate",{startNumber:"1",timescale:"1000",initialization:`${l}&sq=0`,media:`${l}&sq=$Number$`},[u(this,ke,"m",Xe).call(this,e,"SegmentTimeline",{},f)]))}else{if(!o.index_range||!o.init_range)throw new v("Index and init ranges not available",{format:o});i.appendChild(u(this,ke,"m",Xe).call(this,e,"BaseURL",{},[e.createTextNode(s)])),i.appendChild(u(this,ke,"m",Xe).call(this,e,"SegmentBase",{indexRange:`${o.index_range.start}-${o.index_range.end}`},[u(this,ke,"m",Xe).call(this,e,"Initialization",{range:`${o.init_range.start}-${o.init_range.end}`})]))}})},"_FormatUtils_generateSegmentInformation"),bw=n(function(e,i){var o;return x(this,void 0,void 0,function*(){let s=yield i.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:xr,redirect:"follow"}),r=s.url.replace("&rn=0","").replace("&sq=0",""),l=yield s.text(),p=(o=rt(l,"Segment-Durations-Ms:",`\r
`))===null||o===void 0?void 0:o.split(",");if(!p)throw new v("Failed to extract the segment durations from this OTF stream",{url:e});let f=[];for(let m of p){let _=m.trim();if(_.length===0)continue;let b,w=rt(_,"(r=",")");w&&(b=parseInt(w)),f.push({duration:parseInt(_),repeat_count:b})}return{resolved_url:r,segment_durations:f}})},"_FormatUtils_getOTFSegmentInformation");var Pf=Ef;var gv,Si,ms,Nf,kt=class{constructor(e,i,o){var s,r;gv.set(this,void 0),Si.set(this,void 0),ms.set(this,void 0),Nf.set(this,void 0),T(this,Si,i,"f");let l=d.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?d.parseResponse(e[1].data):void 0;if(T(this,gv,[l,p],"f"),T(this,ms,o,"f"),((r=l.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new v("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,T(this,Nf,l.playback_tracking,"f")}toDash(e,i){return x(this,void 0,void 0,function*(){return Pf.toDash(this.streaming_data,e,i,u(this,ms,"f"),u(this,Si,"f").session.player,u(this,Si,"f"))})}chooseFormat(e){return Pf.chooseFormat(e,this.streaming_data)}download(e={}){return x(this,void 0,void 0,function*(){return Pf.download(e,u(this,Si,"f"),this.playability_status,this.streaming_data,u(this,Si,"f").session.player,this.cpn)})}addToWatchHistory(e=X.WEB.NAME,i=X.WEB.VERSION,o="https://www."){return x(this,void 0,void 0,function*(){if(!u(this,Nf,"f"))throw new v("Playback tracking not available");let s={cpn:u(this,ms,"f"),fmt:251,rtn:0,rt:0},r=u(this,Nf,"f").videostats_playback_url.replace("https://s.",o);return yield u(this,Si,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return u(this,Si,"f")}get cpn(){return u(this,ms,"f")}get page(){return u(this,gv,"f")}};n(kt,"MediaInfo");gv=new WeakMap,Si=new WeakMap,ms=new WeakMap,Nf=new WeakMap;var Zi,_s=class extends kt{constructor(e,i,o){var s,r,l,p,f,m,_,b,w,I,S,N,E,M,F,Y,ie,he,Ie,Ee,Ae,K,J,Z,Q,Re,lt,ct,dt,ze,et,tt,_e,De,$t,qt,Xt,Qt,wt,kn;super(e,i,o),Zi.set(this,void 0);let[de,Rt]=this.page;if(de.microformat&&!(!((s=de.microformat)===null||s===void 0)&&s.is(Bt,ii)))throw new v("Invalid microformat",de.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},de.video_details),{embed:!((r=de.microformat)===null||r===void 0)&&r.is(Bt)?(l=de.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=de.microformat)===null||p===void 0)&&p.is(Bt)?(f=de.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=de.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=de.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((b=de.microformat)===null||b===void 0)&&b.is(Bt)?(w=de.microformat)===null||w===void 0?void 0:w.category:null,has_ypc_metadata:!((I=de.microformat)===null||I===void 0)&&I.is(Bt)?(S=de.microformat)===null||S===void 0?void 0:S.has_ypc_metadata:null,start_timestamp:!((N=de.microformat)===null||N===void 0)&&N.is(Bt)?de.microformat.start_timestamp:null,view_count:((E=de.microformat)===null||E===void 0?void 0:E.is(Bt))&&isNaN((M=de.video_details)===null||M===void 0?void 0:M.view_count)?de.microformat.view_count:(F=de.video_details)===null||F===void 0?void 0:F.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=de.annotations,this.storyboards=de.storyboards,this.endscreen=de.endscreen,this.captions=de.captions,this.cards=de.cards;let Ke=(Y=Rt==null?void 0:Rt.contents)===null||Y===void 0?void 0:Y.item().as(Qn),Cn=Ke==null?void 0:Ke.results,eh=Ke==null?void 0:Ke.secondary_results;if(Cn&&eh){if(((ie=de.microformat)===null||ie===void 0?void 0:ie.is(Bt))&&((he=de.microformat)===null||he===void 0?void 0:he.category)==="Gaming"){let fi=(Ae=(Ee=(Ie=Cn.firstOfType(sf))===null||Ie===void 0?void 0:Ie.metadata)===null||Ee===void 0?void 0:Ee.rows)===null||Ae===void 0?void 0:Ae.firstOfType(Qd);fi!=null&&fi.is(Qd)&&(this.game_info={title:(J=(K=fi==null?void 0:fi.contents)===null||K===void 0?void 0:K.firstOfType(qd))===null||J===void 0?void 0:J.title,release_year:(Q=(Z=fi==null?void 0:fi.contents)===null||Z===void 0?void 0:Z.firstOfType(qd))===null||Q===void 0?void 0:Q.subtitle})}this.primary_info=Cn.firstOfType(Y_),this.secondary_info=Cn.firstOfType(sf),this.merchandise=Cn.firstOfType(Gm),this.related_chip_cloud=(Re=eh.firstOfType(I_))===null||Re===void 0?void 0:Re.content.as(Vt),Ke!=null&&Ke.playlist&&(this.playlist=Ke.playlist),this.watch_next_feed=((lt=eh.firstOfType(ge))===null||lt===void 0?void 0:lt.contents)||eh,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((ct=this.watch_next_feed.at(-1))===null||ct===void 0?void 0:ct.is(Ve))&&T(this,Zi,(dt=this.watch_next_feed.pop())===null||dt===void 0?void 0:dt.as(Ve),"f"),this.player_overlays=(ze=Rt==null?void 0:Rt.player_overlays)===null||ze===void 0?void 0:ze.item().as(Ji),Ke!=null&&Ke.autoplay&&(this.autoplay=Ke.autoplay);let $e=(tt=(et=this.primary_info)===null||et===void 0?void 0:et.menu)===null||tt===void 0?void 0:tt.top_level_buttons.firstOfType(Po);((_e=$e==null?void 0:$e.like_button)===null||_e===void 0?void 0:_e.is(Ye))&&((De=$e==null?void 0:$e.dislike_button)===null||De===void 0?void 0:De.is(Ye))&&(this.basic_info.like_count=($t=$e==null?void 0:$e.like_button)===null||$t===void 0?void 0:$t.like_count,this.basic_info.is_liked=(qt=$e==null?void 0:$e.like_button)===null||qt===void 0?void 0:qt.is_toggled,this.basic_info.is_disliked=(Xt=$e==null?void 0:$e.dislike_button)===null||Xt===void 0?void 0:Xt.is_toggled);let g0=(Qt=Cn.get({target_id:"comments-entry-point"}))===null||Qt===void 0?void 0:Qt.as(ge);this.comments_entry_point_header=(wt=g0==null?void 0:g0.contents)===null||wt===void 0?void 0:wt.firstOfType($h),this.livechat=(kn=Rt==null?void 0:Rt.contents_memo)===null||kn===void 0?void 0:kn.getType(Rm).first()}}selectFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new v("Invalid filter",{available_filters:this.filters});l=m}else if(e!=null&&e.is(ve))l=e;else throw new v("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(s=l.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){if(!u(this,Zi,"f"))throw new v("Watch next feed continuation not found");let l=yield(e=u(this,Zi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||s===void 0)&&s.is(Ve)?T(this,Zi,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(Ve),"f"):T(this,Zi,void 0,"f"),this})}like(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Po),s=o==null?void 0:o.like_button;if(!s)throw new v("Like button not found",{video_id:this.basic_info.id});if(!s.is(Ye))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Po),s=o==null?void 0:o.dislike_button;if(!s)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Ye))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,i;return x(this,void 0,void 0,function*(){let o,s=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Po),r=s==null?void 0:s.like_button,l=s==null?void 0:s.dislike_button;if(!(r!=null&&r.is(Ye))||!(l!=null&&l.is(Ye)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:l!=null&&l.is_toggled&&(o=l),!o)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new pv(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(yd).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new _s([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!u(this,Zi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(yd))}get music_tracks(){var e,i,o,s,r,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(bo)});if(p!==void 0&&p.length>0){let f=(r=(s=(o=p[0].content)===null||o===void 0?void 0:o.as(bo))===null||s===void 0?void 0:s.items)===null||r===void 0?void 0:r.filterType(Yn);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(m=>{var _,b,w,I,S,N,E,M,F,Y,ie,he,Ie,Ee,Ae,K,J,Z,Q;let Re,lt,ct,dt,ze,et;Re=(b=(_=m.video_lockup)===null||_===void 0?void 0:_.title)===null||b===void 0?void 0:b.toString(),ze=(w=m.video_lockup)===null||w===void 0?void 0:w.endpoint.payload.videoId;for(let tt=0;tt<m.info_rows.length;tt++){let _e=m.info_rows[tt];if(_e.info_row_expand_status_key===void 0)if(Re===void 0){if(Re=((I=_e.default_metadata)===null||I===void 0?void 0:I.toString())||((S=_e.expanded_metadata)===null||S===void 0?void 0:S.toString()),ze===void 0){let De=((N=_e.default_metadata)===null||N===void 0?void 0:N.endpoint)||((E=_e.expanded_metadata)===null||E===void 0?void 0:E.endpoint);ze=(M=De==null?void 0:De.payload)===null||M===void 0?void 0:M.videoId}}else ct=((F=_e.default_metadata)===null||F===void 0?void 0:F.toString())||((Y=_e.expanded_metadata)===null||Y===void 0?void 0:Y.toString());else{if(((ie=_e.info_row_expand_status_key)===null||ie===void 0?void 0:ie.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(lt=((he=_e.default_metadata)===null||he===void 0?void 0:he.toString())||((Ie=_e.expanded_metadata)===null||Ie===void 0?void 0:Ie.toString()),et===void 0)){let De=((Ee=_e.default_metadata)===null||Ee===void 0?void 0:Ee.endpoint)||((Ae=_e.expanded_metadata)===null||Ae===void 0?void 0:Ae.endpoint);et=(K=De==null?void 0:De.payload)===null||K===void 0?void 0:K.browseId}((J=_e.info_row_expand_status_key)===null||J===void 0?void 0:J.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(dt=((Z=_e.default_metadata)===null||Z===void 0?void 0:Z.toString())||((Q=_e.expanded_metadata)===null||Q===void 0?void 0:Q.toString()))}}return{song:Re,artist:lt,album:ct,license:dt,videoId:ze,channelId:et}})}return[]}};n(_s,"VideoInfo");Zi=new WeakMap;var Af=_s;var J0={};j(J0,{Album:()=>bv,Artist:()=>Tv,Explore:()=>Sv,HomeFeed:()=>kv,Library:()=>Cv,LibraryContinuation:()=>$o,Playlist:()=>Ts,Recap:()=>Pv,Search:()=>Ut,TrackInfo:()=>Df});var ki,xv=class{constructor(e){var i,o,s;if(ki.set(this,void 0),T(this,ki,d.parseResponse(e.data),"f"),this.header=(i=u(this,ki,"f").header)===null||i===void 0?void 0:i.item().as(Co),this.url=((o=u(this,ki,"f").microformat)===null||o===void 0?void 0:o.as(ii).url_canonical)||null,!u(this,ki,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=u(this,ki,"f").contents_memo.getType(we))===null||s===void 0?void 0:s.first().contents,this.sections=u(this,ki,"f").contents_memo.getType(Pe)||[]}get page(){return u(this,ki,"f")}};n(xv,"Album");ki=new WeakMap;var bv=xv;var vs,yv,wv=class{constructor(e,i){var o,s,r;vs.set(this,void 0),yv.set(this,void 0),T(this,vs,d.parseResponse(e.data),"f"),T(this,yv,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(i_,a_,Hi);let l=((s=u(this,vs,"f").contents_memo)===null||s===void 0?void 0:s.getType(we))||[],p=((r=u(this,vs,"f").contents_memo)===null||r===void 0?void 0:r.getType(Pe))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return x(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new v("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new v("Could not find target shelf (Songs).");if(!s.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(u(this,yv,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Eo))===null||i===void 0?void 0:i.first()})}get page(){return u(this,vs,"f")}};n(wv,"Artist");vs=new WeakMap,yv=new WeakMap;var Tv=wv;var Rf,Iv=class{constructor(e){var i,o,s;Rf.set(this,void 0),T(this,Rf,d.parseResponse(e.data),"f");let r=(i=u(this,Rf,"f").contents)===null||i===void 0?void 0:i.item().as(ri).tabs.get({selected:!0});if(!r)throw new v("Could not find target tab.");let l=(o=r.content)===null||o===void 0?void 0:o.as(ee);if(!l)throw new v("Target tab did not have any content.");this.top_buttons=((s=l.contents.firstOfType(To))===null||s===void 0?void 0:s.items.as(Gn))||[],this.sections=l.contents.filterType(Pe)}get page(){return u(this,Rf,"f")}};n(Iv,"Explore");Rf=new WeakMap;var Sv=Iv;var eo,Go,zo,Ko=class{constructor(e,i){var o,s,r,l,p,f;eo.set(this,void 0),Go.set(this,void 0),zo.set(this,void 0),T(this,Go,i,"f"),T(this,eo,d.parseResponse(e.data),"f");let m=(o=u(this,eo,"f").contents)===null||o===void 0?void 0:o.item().as(ri).tabs.get({selected:!0});if(!m)throw new v("Could not find Home tab.");if(m.key("content").isNull()){if(!u(this,eo,"f").continuation_contents)throw new v("Continuation did not have any content.");T(this,zo,u(this,eo,"f").continuation_contents.as(ht).continuation,"f"),this.sections=(s=u(this,eo,"f").continuation_contents.as(ht).contents)===null||s===void 0?void 0:s.as(Pe);return}this.header=(l=(r=m.content)===null||r===void 0?void 0:r.as(ee).header)===null||l===void 0?void 0:l.as(Vt),T(this,zo,(p=m.content)===null||p===void 0?void 0:p.as(ee).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(ee).contents.as(Pe,r_)}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,zo,"f"))throw new v("Continuation not found.");let e=yield u(this,Go,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,zo,"f")});return new Ko(e,u(this,Go,"f"))})}applyFilter(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ve).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ve)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,Go,"f"),{client:"YTMUSIC"});return new Ko(r,u(this,Go,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ve).map(o=>o.text))||[]}get has_continuation(){return!!u(this,zo,"f")}get page(){return u(this,eo,"f")}};n(Ko,"HomeFeed");eo=new WeakMap,Go=new WeakMap,zo=new WeakMap;var kv=Ko;var li,to,gs,io,Mf,xs,bs=class{constructor(e,i){var o,s,r,l,p;li.set(this,void 0),to.set(this,void 0),gs.set(this,void 0),T(this,li,d.parseResponse(e.data),"f"),T(this,to,i,"f");let f=(o=u(this,li,"f").contents_memo)===null||o===void 0?void 0:o.getType(ee).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(n_),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(To,we),T(this,gs,(p=(l=this.contents)===null||l===void 0?void 0:l.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,s,r,l,p,f,m,_,b;return x(this,void 0,void 0,function*(){let w;if(typeof e=="string"){let E=(i=u(this,li,"f").contents_memo)===null||i===void 0?void 0:i.getType(dd).first(),M=(o=E==null?void 0:E.menu)===null||o===void 0?void 0:o.options.filter(F=>F instanceof Mt);if(w=M==null?void 0:M.find(F=>F.title===e),!w)throw new v(`Sort option "${e}" not found`,{available_filters:M.map(F=>F.title)})}else e instanceof Mt&&(w=e);if(!w)throw new v("Invalid sort option");if(w.selected)return this;let I=(p=(l=(r=(s=w.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||l===void 0?void 0:l.find(E=>E.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!I)throw new v("Failed to find sort option command");let S=yield u(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:I.continuation.reloadContinuationData.continuation,parse:!0}),N=(m=(f=u(this,li,"f").contents_memo)===null||f===void 0?void 0:f.getType(Mt))===null||m===void 0?void 0:m.find(E=>E.selected);return N&&(N.selected=!1),w.selected=!0,this.contents=(b=(_=S.continuation_contents)===null||_===void 0?void 0:_.as(ht).contents)===null||b===void 0?void 0:b.as(To,we),this})}applyFilter(e){var i,o,s,r;return x(this,void 0,void 0,function*(){let l,p=(i=u(this,li,"f").contents_memo)===null||i===void 0?void 0:i.getType(Vt).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof ve&&(l=e);if(!l)throw new v("Invalid filter",e);let m=yield new g((r=(s=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(u(this,to,"f"),{client:"YTMUSIC"});return new bs(m,u(this,to,"f"))})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,gs,"f"))throw new v("No continuation available");let e=yield u(this,to,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,gs,"f")});return new $o(e,u(this,to,"f"))})}get has_continuation(){return!!u(this,gs,"f")}get sort_options(){var e,i;let o=(e=u(this,li,"f").contents_memo)===null||e===void 0?void 0:e.getType(dd).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof Mt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=u(this,li,"f").contents_memo)===null||e===void 0?void 0:e.getType(Vt))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return u(this,li,"f")}};n(bs,"Library");li=new WeakMap,to=new WeakMap,gs=new WeakMap;var $o=class{constructor(e,i){var o,s;if(io.set(this,void 0),Mf.set(this,void 0),xs.set(this,void 0),T(this,io,d.parseResponse(e.data),"f"),T(this,Mf,i,"f"),!u(this,io,"f").continuation_contents)throw new v("No continuation contents found");this.contents=u(this,io,"f").continuation_contents.as(bi,Vo),T(this,xs,!((o=u(this,io,"f").continuation_contents)===null||o===void 0)&&o.key("continuation").isNull()?null:(s=u(this,io,"f").continuation_contents)===null||s===void 0?void 0:s.key("continuation").string(),"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,xs,"f"))throw new v("No continuation available");let e=yield u(this,Mf,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,xs,"f")});return new $o(e,u(this,Mf,"f"))})}get has_continuation(){return!!u(this,xs,"f")}get page(){return u(this,io,"f")}};n($o,"LibraryContinuation");io=new WeakMap,Mf=new WeakMap,xs=new WeakMap;var Cv=bs;var H0,_t,Xo,qo,ys,Vf,ww,ws=class{constructor(e,i){var o,s,r,l,p,f,m;if(H0.add(this),_t.set(this,void 0),Xo.set(this,void 0),qo.set(this,void 0),ys.set(this,void 0),Vf.set(this,void 0),T(this,Xo,i,"f"),T(this,_t,d.parseResponse(e.data),"f"),T(this,ys,null,"f"),T(this,Vf,null,"f"),u(this,_t,"f").continuation_contents){let _=(o=u(this,_t,"f").continuation_contents)===null||o===void 0?void 0:o.as(Mo);this.items=_.contents,T(this,qo,_.continuation,"f")}else((s=u(this,_t,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(r=u(this,_t,"f").header)===null||r===void 0?void 0:r.item().as(t_).header)===null||l===void 0?void 0:l.as(Co):this.header=(p=u(this,_t,"f").header)===null||p===void 0?void 0:p.item().as(Co),this.items=((f=u(this,_t,"f").contents_memo)===null||f===void 0?void 0:f.getType(Eo).first().contents)||null,T(this,qo,((m=u(this,_t,"f").contents_memo)===null||m===void 0?void 0:m.getType(Eo).first().continuation)||null,"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,qo,"f"))throw new v("Continuation not found.");let e=yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,qo,"f")});return new ws(e,u(this,Xo,"f"))})}getRelated(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){let l=(i=(e=u(this,_t,"f").contents_memo)===null||e===void 0?void 0:e.getType(ee))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ht),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Pe,we),_=(r=m==null?void 0:m.matchCondition(b=>b.is(Pe)))===null||r===void 0?void 0:r.as(Pe);if(_)return _;l=f==null?void 0:f.continuation}throw new v("Target section not found.")})}getSuggestions(e=!0){return x(this,void 0,void 0,function*(){let s=yield e||!u(this,ys,"f")?u(this,H0,"m",ww).call(this):Promise.resolve(null);return s&&(T(this,ys,s.items,"f"),T(this,Vf,s.continuation,"f")),(s==null?void 0:s.items)||u(this,ys,"f")})}get page(){return u(this,_t,"f")}get has_continuation(){return!!u(this,qo,"f")}};n(ws,"Playlist");_t=new WeakMap,Xo=new WeakMap,qo=new WeakMap,ys=new WeakMap,Vf=new WeakMap,H0=new WeakSet,ww=n(function(){var e,i,o,s,r;return x(this,void 0,void 0,function*(){let l=u(this,Vf,"f")||((i=(e=u(this,_t,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(ee).continuation);if(l){let f=(o=(yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ht),m=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Pe,we),_=(r=m==null?void 0:m.matchCondition(b=>b.is(we)))===null||r===void 0?void 0:r.as(we);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var Ts=ws;var oo,Of,Ev=class{constructor(e,i){var o,s,r,l,p,f,m;oo.set(this,void 0),Of.set(this,void 0),T(this,oo,d.parseResponse(e.data),"f"),T(this,Of,i,"f");let _=(o=u(this,oo,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(Xc)?(l=(r=(s=u(this,oo,"f").header)===null||s===void 0?void 0:s.item().as(Xc).element)===null||r===void 0?void 0:r.model)===null||l===void 0?void 0:l.as(fl):(p=u(this,oo,"f").header)===null||p===void 0?void 0:p.item().as(Hi);let b=(f=u(this,oo,"f").contents)===null||f===void 0?void 0:f.item().as(ri).tabs.firstOfType(xe);if(!b)throw new v("Target tab not found");this.sections=(m=b.content)===null||m===void 0?void 0:m.as(ee).contents.as(ge,Pe,Ue)}getPlaylist(){return x(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(fl))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(u(this,Of,"f"),{client:"YTMUSIC"});return new Ts(i,u(this,Of,"f"))})}get page(){return u(this,oo,"f")}};n(Ev,"Recap");oo=new WeakMap,Of=new WeakMap;var Pv=Ev;var ci,Ci,Is,Bf,Ss,Ut=class{constructor(e,i,o){var s,r,l;if(ci.set(this,void 0),Ci.set(this,void 0),Is.set(this,void 0),T(this,Ci,i,"f"),T(this,ci,d.parseResponse(e.data),"f"),!u(this,ci,"f").contents||!u(this,ci,"f").contents_memo)throw new v("Response did not contain any contents.");let p=u(this,ci,"f").contents.item().as(B_).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(ee);if(!f)throw new v("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(Vt),this.contents=f.contents.as(we,Xm,ge),o&&T(this,Is,(l=this.contents.firstOfType(we))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return x(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(u(this,Ci,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new Ut(i,u(this,Ci,"f"),!0)})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Is,"f"))throw new v("Continuation not found.");let e=yield u(this,Ci,"f").execute("/search",{continuation:u(this,Is,"f"),client:"YTMUSIC"});return new ks(u(this,Ci,"f"),e)})}applyFilter(e){var i,o;return x(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ve).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ve)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(u(this,Ci,"f"),{client:"YTMUSIC"});return new Ut(r,u(this,Ci,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ve).map(o=>o.text))||[]}get has_continuation(){return!!u(this,Is,"f")}get did_you_mean(){var e;return(e=u(this,ci,"f").contents_memo)===null||e===void 0?void 0:e.getType(om).first()}get showing_results_for(){var e;return(e=u(this,ci,"f").contents_memo)===null||e===void 0?void 0:e.getType(M_).first()}get message(){var e;return(e=u(this,ci,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ue).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(we))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we)}get page(){return u(this,ci,"f")}};n(Ut,"Search");ci=new WeakMap,Ci=new WeakMap,Is=new WeakMap;var ks=class{constructor(e,i){var o,s;Bf.set(this,void 0),Ss.set(this,void 0),T(this,Bf,e,"f"),T(this,Ss,d.parseResponse(i.data),"f"),this.header=(o=u(this,Ss,"f").header)===null||o===void 0?void 0:o.item().as(Hi),this.contents=(s=u(this,Ss,"f").continuation_contents)===null||s===void 0?void 0:s.as(bi)}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield u(this,Bf,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new ks(u(this,Bf,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return u(this,Ss,"f")}};n(ks,"SearchContinuation");Bf=new WeakMap,Ss=new WeakMap;var Nv=class extends kt{constructor(e,i,o){var s,r,l,p,f,m,_,b,w;super(e,i,o);let[I,S]=this.page;if(!(!((s=I.microformat)===null||s===void 0)&&s.is(ii)))throw new v("Invalid microformat",I.microformat);if(this.basic_info=Object.assign(Object.assign({},I.video_details),{description:(r=I.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(l=I.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=I.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=I.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=I.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=I.storyboards,this.endscreen=I.endscreen,S){let N=(b=(_=S.contents_memo)===null||_===void 0?void 0:_.getType(U_))===null||b===void 0?void 0:b[0];this.tabs=N==null?void 0:N.tabs.array().as(xe),this.current_video_endpoint=S.current_video_endpoint,this.player_overlays=(w=S.player_overlays)===null||w===void 0?void 0:w.item().as(Ji)}}getTab(e){var i,o;return x(this,void 0,void 0,function*(){if(!this.tabs)throw new v("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().key("type").string())==="Message")return r.contents.item().as(Ue);if(!r.contents)throw new v("Page contents was empty",r);return r.contents.item().as(ee).contents})}getUpNext(e=!0){var i,o;return x(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new v("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(si);if(!r.playlist_id&&e){let l=r.contents.firstOfType(Yi);if(!l)throw new v("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(o=p.contents_memo.getType(si))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return x(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return x(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(ko)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,X.YTMUSIC.NAME,X.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(Nv,"TrackInfo");var Df=Nv;var G0={};j(G0,{Channel:()=>Av,HomeFeed:()=>Rv,Search:()=>Vv,VideoInfo:()=>Bv});var Cs=class extends ne{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(Nn),this.contents=this.memo.getType(ge).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(No))}getContinuation(){var e;return x(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Cs(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Cs,"Channel");var Av=Cs;var Es=class extends ne{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(H_),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(J_)}selectCategoryTab(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(es)&&(o=e),!o)throw new v(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new Es(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Es,"HomeFeed");var Rv=Es;var Mv=class extends ne{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ge).first();if(!o)throw new v("No item section found in search response.");this.contents=o.contents}};n(Mv,"Search");var Vv=Mv;var Ov=class extends kt{constructor(e,i,o){var s,r,l,p,f;super(e,i,o);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let b=(s=_==null?void 0:_.contents)===null||s===void 0?void 0:s.item().as(Qn),w=b==null?void 0:b.results,I=b==null?void 0:b.secondary_results;w&&I&&(this.slim_video_metadata=(l=(r=w.firstOfType(ge))===null||r===void 0?void 0:r.contents)===null||l===void 0?void 0:l.firstOfType(V_),this.watch_next_feed=((p=I.firstOfType(ge))===null||p===void 0?void 0:p.contents)||I,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Ji))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(Ov,"VideoInfo");var Bv=Ov;var d=$;var vt,V=class{constructor(e,i,o,s){var r,l,p,f,m,_,b,w,I,S,N,E,M,F,Y,ie,he,Ie,Ee,Ae,K,J,Z,Q,Re,lt,ct,dt,ze,et,tt,_e,De,$t,qt,Xt,Qt;vt.set(this,void 0),T(this,vt,new c(e),"f"),this.id=s||((m=(f=(p=(l=(r=u(this,vt,"f"))===null||r===void 0?void 0:r.runs)===null||l===void 0?void 0:l[0])===null||p===void 0?void 0:p.endpoint)===null||f===void 0?void 0:f.payload)===null||m===void 0?void 0:m.browseId)||((w=(b=(_=u(this,vt,"f"))===null||_===void 0?void 0:_.endpoint)===null||b===void 0?void 0:b.payload)===null||w===void 0?void 0:w.browseId)||"N/A",this.name=((I=u(this,vt,"f"))===null||I===void 0?void 0:I.text)||"N/A",this.thumbnails=o?y.fromResponse(o):[],this.endpoint=((E=(N=(S=u(this,vt,"f"))===null||S===void 0?void 0:S.runs)===null||N===void 0?void 0:N[0])===null||E===void 0?void 0:E.endpoint)||((M=u(this,vt,"f"))===null||M===void 0?void 0:M.endpoint),this.badges=Array.isArray(i)?d.parseArray(i):ce([]),this.is_moderator=(F=this.badges)===null||F===void 0?void 0:F.some(wt=>wt.icon_type=="MODERATOR"),this.is_verified=(Y=this.badges)===null||Y===void 0?void 0:Y.some(wt=>wt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(ie=this.badges)===null||ie===void 0?void 0:ie.some(wt=>wt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((K=(Ae=(Ee=(Ie=(he=u(this,vt,"f"))===null||he===void 0?void 0:he.runs)===null||Ie===void 0?void 0:Ie[0])===null||Ee===void 0?void 0:Ee.endpoint)===null||Ae===void 0?void 0:Ae.metadata)===null||K===void 0?void 0:K.api_url)==="/browse"&&`${me.YT_BASE}${((lt=(Re=(Q=(Z=(J=u(this,vt,"f"))===null||J===void 0?void 0:J.runs)===null||Z===void 0?void 0:Z[0])===null||Q===void 0?void 0:Q.endpoint)===null||Re===void 0?void 0:Re.payload)===null||lt===void 0?void 0:lt.canonicalBaseUrl)||`/u/${(tt=(et=(ze=(dt=(ct=u(this,vt,"f"))===null||ct===void 0?void 0:ct.runs)===null||dt===void 0?void 0:dt[0])===null||ze===void 0?void 0:ze.endpoint)===null||et===void 0?void 0:et.payload)===null||tt===void 0?void 0:tt.browseId}`}`||`${me.YT_BASE}${(($t=(De=(_e=u(this,vt,"f"))===null||_e===void 0?void 0:_e.endpoint)===null||De===void 0?void 0:De.payload)===null||$t===void 0?void 0:$t.canonicalBaseUrl)||`/u/${(Qt=(Xt=(qt=u(this,vt,"f"))===null||qt===void 0?void 0:qt.endpoint)===null||Xt===void 0?void 0:Xt.payload)===null||Qt===void 0?void 0:Qt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(V,"Author");vt=new WeakMap;var Tw={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Dv,Lv,O=class{static load(e){T(O,Dv,e,"f",Lv)}static get shim(){if(!u(O,Dv,"f",Lv))throw new Error("Platform is not loaded");return u(O,Dv,"f",Lv)}};n(O,"Platform");Dv=O;Lv={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=O.shim.info.version}};n(v,"InnertubeError");var pt=class extends v{};n(pt,"ParsingError");var Qo=class extends v{};n(Qo,"MissingParamError");var di=class extends v{};n(di,"OAuthError");var gt=class extends Error{};n(gt,"PlayerError");var Ps=class extends Error{};n(Ps,"SessionError");var ss=class extends Error{};n(ss,"ChannelError");function th(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof c;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(th,"deepCompare");function rt(t,e,i){let o=new RegExp(`${K0(e)}(.*?)${K0(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(rt,"getStringBetweenStrings");function K0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(K0,"escapeStringRegexp");function Zo(t){let e=Tw[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Zo,"getRandomUserAgent");function $0(t){return x(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield O.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n($0,"generateSidAuth");function Ct(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Ct,"generateRandomString");function He(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(He,"timeToSeconds");function B0(...t){let e=new Vi;for(let i of t)if(!!i)for(let o of i)e.set(...o);return e}n(B0,"concatMemos");function se(t){for(let[e,i]of Object.entries(t))if(!i)throw new Qo(`${e} is missing`)}n(se,"throwIfMissing");function t1(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(t1,"hasKeys");function j0(t){return Cg(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield fo(i.read());if(o)return yield fo(void 0);yield yield fo(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(j0,"streamToIterable");var i1=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),O.shim.fetch(t,e)},"debugFetch");function Tt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(Tt,"u8ToBase64");function E0(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(E0,"base64ToU8");function qe(t){return!("emoji"in t)}n(qe,"isTextRun");function X0(t){return x(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let l=0;l<s.length;++l)r.push(e[s[l]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(X0,"sha1Hash");var Fv={name:"youtubei.js",version:"5.2.1",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/build-parser-map.cjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":`npx cpy ./src ./deno && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'linkedom';" "'https://esm.sh/linkedom';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r && npx replace "new Jinter.default" "new Jinter" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.0.0",linkedom:"^0.14.12",tslib:"^2.5.0",undici:"^5.19.1"},devDependencies:{"@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Ff={};j(Ff,{ArrayExpression:()=>Ns,ArrowFunctionExpression:()=>As,AssignmentExpression:()=>Rs,BinaryExpression:()=>Ms,BlockStatement:()=>Vs,BreakStatement:()=>Os,CallExpression:()=>Bs,ConditionalExpression:()=>Ls,ContinueStatement:()=>Fs,ExpressionStatement:()=>Ys,ForStatement:()=>js,FunctionDeclaration:()=>Us,FunctionExpression:()=>Ws,Identifier:()=>Hs,IfStatement:()=>Js,Literal:()=>Gs,LogicalExpression:()=>zs,MemberExpression:()=>Ks,NewExpression:()=>$s,ObjectExpression:()=>qs,Property:()=>Xs,ReturnStatement:()=>Qs,SequenceExpression:()=>Zs,SwitchCase:()=>er,SwitchStatement:()=>tr,ThisExpression:()=>ir,ThrowStatement:()=>or,TryStatement:()=>nr,UnaryExpression:()=>sr,UpdateExpression:()=>rr,VariableDeclaration:()=>ar,WhileStatement:()=>ur});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var Ns=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Ns,"ArrayExpression");var Q0={};j(Q0,{namedFunction:()=>en});var en=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var As=class extends R{run(){let{params:e,body:i}=this.node;return en("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(As,"ArrowFunctionExpression");var Rs=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Rs,"AssignmentExpression");var Ms=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Ms,"BinaryExpression");var Vs=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Vs,"BlockStatement");var Os=class extends R{run(){return"break"}};n(Os,"BreakStatement");var Iw=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Yv,Z0,Bs=class extends R{constructor(){super(...arguments),Yv.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="proceed")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="proceed")return r}if(this.node.callee.type==="MemberExpression"){if(Ds.has(this.node,this.visitor))return Ds.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof r[l]!="function"&&Iw(this,Yv,"m",Z0).call(this),r[l].toString().includes("[native code]")?r[l](...p):r[l](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&Iw(this,Yv,"m",Z0).call(this),o(s)}};n(Bs,"CallExpression");Yv=new WeakSet,Z0=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Ds=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Ds,"Builtins");Ds.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Ls=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Ls,"ConditionalExpression");var Fs=class extends R{run(){return"continue"}};n(Fs,"ContinueStatement");var Ys=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(Ys,"ExpressionStatement");var js=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(js,"ForStatement");var Us=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=en(o,r=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(Us,"FunctionDeclaration");var Ws=class extends R{run(){let{params:e,body:i}=this.node;return en("anonymous function",s=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,s[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};n(Ws,"FunctionExpression");var Hs=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Hs,"Identifier");var Js=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Js,"IfStatement");var Gs=class extends R{run(){return this.node.value}};n(Gs,"Literal");var zs=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(zs,"LogicalExpression");var Ks=class extends R{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="proceed")return l}return s==null?void 0:s[r]}}};n(Ks,"MemberExpression");var $s=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n($s,"NewExpression");var qs=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(qs,"ObjectExpression");var eg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Lf,Sw,kw,Cw,Xs=class extends R{constructor(){super(...arguments),Lf.add(this)}run(){switch(this.node.kind){case"init":return eg(this,Lf,"m",Sw).call(this);case"get":return eg(this,Lf,"m",kw).call(this);case"set":return eg(this,Lf,"m",Cw).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Xs,"Property");Lf=new WeakSet,Sw=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),kw=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),Cw=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Qs=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(Qs,"ReturnStatement");var Zs=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(Zs,"SequenceExpression");var er=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(er,"SwitchCase");var tr=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(tr,"SwitchStatement");var ir=class extends R{run(){return this.visitor.scope.get("_this")}};n(ir,"ThisExpression");var or=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(or,"ThrowStatement");var nr=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(nr,"TryStatement");var sr=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(sr,"UnaryExpression");var rr=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(rr,"UpdateExpression");var ar=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(ar,"VariableDeclaration");var ur=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(ur,"WhileStatement");var n1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},tg,Ew,lr=class{constructor(e){tg.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=n1(this,tg,"m",Ew).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(lr,"Visitor");tg=new WeakSet,Ew=n(function(e){let i=Ff[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var s1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],Mw=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],r1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Vw="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",ig={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},og="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a1={5:og,"5module":og+" export import",6:og+" const class extends export import super"},u1=/^in(stanceof)?$/,l1=new RegExp("["+Vw+"]"),c1=new RegExp("["+Vw+r1+"]");function sg(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}}n(sg,"isInAstralSet");function Pi(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&l1.test(String.fromCharCode(t)):e===!1?!1:sg(t,Mw)}n(Pi,"isIdentifierStart");function cr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&c1.test(String.fromCharCode(t)):e===!1?!1:sg(t,Mw)||sg(t,s1)}n(cr,"isIdentifierChar");var re=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function Et(t,e){return new re(t,{beforeExpr:!0,binop:e})}n(Et,"binop");var Pt={beforeExpr:!0},at={startsExpr:!0},ug={};function oe(t,e){return e===void 0&&(e={}),e.keyword=t,ug[t]=new re(t,e)}n(oe,"kw");var h={num:new re("num",at),regexp:new re("regexp",at),string:new re("string",at),name:new re("name",at),privateId:new re("privateId",at),eof:new re("eof"),bracketL:new re("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new re("]"),braceL:new re("{",{beforeExpr:!0,startsExpr:!0}),braceR:new re("}"),parenL:new re("(",{beforeExpr:!0,startsExpr:!0}),parenR:new re(")"),comma:new re(",",Pt),semi:new re(";",Pt),colon:new re(":",Pt),dot:new re("."),question:new re("?",Pt),questionDot:new re("?."),arrow:new re("=>",Pt),template:new re("template"),invalidTemplate:new re("invalidTemplate"),ellipsis:new re("...",Pt),backQuote:new re("`",at),dollarBraceL:new re("${",{beforeExpr:!0,startsExpr:!0}),eq:new re("=",{beforeExpr:!0,isAssign:!0}),assign:new re("_=",{beforeExpr:!0,isAssign:!0}),incDec:new re("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new re("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Et("||",1),logicalAND:Et("&&",2),bitwiseOR:Et("|",3),bitwiseXOR:Et("^",4),bitwiseAND:Et("&",5),equality:Et("==/!=/===/!==",6),relational:Et("</>/<=/>=",7),bitShift:Et("<</>>/>>>",8),plusMin:new re("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Et("%",10),star:Et("*",10),slash:Et("/",10),starstar:new re("**",{beforeExpr:!0}),coalesce:Et("??",1),_break:oe("break"),_case:oe("case",Pt),_catch:oe("catch"),_continue:oe("continue"),_debugger:oe("debugger"),_default:oe("default",Pt),_do:oe("do",{isLoop:!0,beforeExpr:!0}),_else:oe("else",Pt),_finally:oe("finally"),_for:oe("for",{isLoop:!0}),_function:oe("function",at),_if:oe("if"),_return:oe("return",Pt),_switch:oe("switch"),_throw:oe("throw",Pt),_try:oe("try"),_var:oe("var"),_const:oe("const"),_while:oe("while",{isLoop:!0}),_with:oe("with"),_new:oe("new",{beforeExpr:!0,startsExpr:!0}),_this:oe("this",at),_super:oe("super",at),_class:oe("class",at),_extends:oe("extends",Pt),_export:oe("export"),_import:oe("import",at),_null:oe("null",at),_true:oe("true",at),_false:oe("false",at),_in:oe("in",{beforeExpr:!0,binop:7}),_instanceof:oe("instanceof",{beforeExpr:!0,binop:7}),_typeof:oe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:oe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:oe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},At=/\r\n?|\n|\u2028|\u2029/,d1=new RegExp(At.source,"g");function dr(t){return t===10||t===13||t===8232||t===8233}n(dr,"isNewLine");function Ow(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(dr(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(Ow,"nextLineBreak");var Bw=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Nt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Dw=Object.prototype,p1=Dw.hasOwnProperty,f1=Dw.toString,Wf=Object.hasOwn||function(t,e){return p1.call(t,e)},Pw=Array.isArray||function(t){return f1.call(t)==="[object Array]"};function tn(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(tn,"wordsRegexp");function no(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(no,"codePointToString");var h1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,jf=n(function(e,i){this.line=e,this.column=i},"Position");jf.prototype.offset=n(function(e){return new jf(this.line,this.column+e)},"offset");var Jv=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Lw(t,e){for(var i=1,o=0;;){var s=Ow(t,o,e);if(s<0)return new jf(i,e-o);++i,o=s}}n(Lw,"getLineInfo");var rg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Nw=!1;function m1(t){var e={};for(var i in rg)e[i]=t&&Wf(t,i)?t[i]:rg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Nw&&typeof console=="object"&&console.warn&&(Nw=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),t.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),Pw(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return Pw(e.onComment)&&(e.onComment=_1(e,e.onComment)),e}n(m1,"getOptions");function _1(t,e){return function(i,o,s,r,l,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new Jv(this,l,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(_1,"pushComment");var Uf=1,pr=2,lg=4,Fw=8,Yw=16,jw=32,cg=64,Uw=128,Hf=256,dg=Uf|pr|Hf;function pg(t,e){return pr|(t?lg:0)|(e?Fw:0)}n(pg,"functionFlags");var Uv=0,fg=1,Ei=2,Ww=3,Hw=4,Jw=5,Be=n(function(e,i,o){this.options=e=m1(e),this.sourceFile=e.sourceFile,this.keywords=tn(a1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=ig[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=tn(s);var r=(s?s+" ":"")+ig.strict;this.reservedWordsStrict=tn(r),this.reservedWordsStrictBind=tn(r+" "+ig.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(At).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Uf),this.regexpState=null,this.privateNameStack=[]},"Parser"),pi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Be.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");pi.inFunction.get=function(){return(this.currentVarScope().flags&pr)>0};pi.inGenerator.get=function(){return(this.currentVarScope().flags&Fw)>0&&!this.currentVarScope().inClassFieldInit};pi.inAsync.get=function(){return(this.currentVarScope().flags&lg)>0&&!this.currentVarScope().inClassFieldInit};pi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Hf)return!1;if(e.flags&pr)return(e.flags&lg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};pi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&cg)>0||i||this.options.allowSuperOutsideMethod};pi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Uw)>0};pi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};pi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(pr|Hf))>0||i};pi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Hf)>0};Be.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Be.parse=n(function(e,i){return new this(i,e).parse()},"parse");Be.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Be.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Be.prototype,pi);var Qe=Be.prototype,v1=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Qe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Nt.lastIndex=t,t+=Nt.exec(this.input)[0].length;var e=v1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Nt.lastIndex=t+e[0].length;var i=Nt.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||At.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Nt.lastIndex=t,t+=Nt.exec(this.input)[0].length,this.input[t]===";"&&t++}};Qe.eat=function(t){return this.type===t?(this.next(),!0):!1};Qe.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Qe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Qe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Qe.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||At.test(this.input.slice(this.lastTokEnd,this.start))};Qe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Qe.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Qe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Qe.expect=function(t){this.eat(t)||this.unexpected()};Qe.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Gv=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Qe.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Qe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};Qe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Qe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var U=Be.prototype;U.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var hg={kind:"loop"},g1={kind:"switch"};U.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Nt.lastIndex=this.pos;var e=Nt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92||o>55295&&o<56320)return!0;if(t)return!1;if(o===123)return!0;if(Pi(o,!0)){for(var s=i+1;cr(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!u1.test(r))return!0}return!1};U.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Nt.lastIndex=this.pos;var t=Nt.exec(this.input),e=this.pos+t[0].length,i;return!At.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(cr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};U.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=h._var,r="let"),o){case h._break:case h._continue:return this.parseBreakContinueStatement(s,o.keyword);case h._debugger:return this.parseDebuggerStatement(s);case h._do:return this.parseDoStatement(s);case h._for:return this.parseForStatement(s);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(s,!0);case h._if:return this.parseIfStatement(s);case h._return:return this.parseReturnStatement(s);case h._switch:return this.parseSwitchStatement(s);case h._throw:return this.parseThrowStatement(s);case h._try:return this.parseTryStatement(s);case h._const:case h._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case h._while:return this.parseWhileStatement(s);case h._with:return this.parseWithStatement(s);case h.braceL:return this.parseBlock(!0,s);case h.semi:return this.parseEmptyStatement(s);case h._export:case h._import:if(this.options.ecmaVersion>10&&o===h._import){Nt.lastIndex=this.pos;var l=Nt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===h._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var m=this.value,_=this.parseExpression();return o===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(s,m,_,t):this.parseExpressionStatement(s,_)}};U.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};U.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};U.parseDoStatement=function(t){return this.next(),this.labels.push(hg),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};U.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hg),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),l=!1,p=new Gv,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};U.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Yf|(i?0:ag),!1,e)};U.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};U.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};U.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(g1),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var o=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};U.parseThrowStatement=function(t){return this.next(),At.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var x1=[];U.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();if(this.next(),this.eat(h.parenL)){e.param=this.parseBindingAtom();var i=e.param.type==="Identifier";this.enterScope(i?jw:0),this.checkLValPattern(e.param,i?Hw:Ei),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};U.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};U.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(hg),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};U.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};U.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};U.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var l=r[s];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};U.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};U.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};U.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};U.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};U.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(h.eq)?o.init=this.parseMaybeAssign(e):i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(h.comma))break}return t};U.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?fg:Ei,!1)};var Yf=1,ag=2,Gw=4;U.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===h.star&&e&ag&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Yf&&(t.id=e&Gw&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&ag)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?fg:Ei:Ww));var r=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(pg(t.async,t.generator)),e&Yf||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&Yf?"FunctionDeclaration":"FunctionExpression")};U.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};U.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(s.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raise(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&b1(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};U.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(h.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||s||r){var m=!i.static&&Wv(i,"constructor"),_=m&&t;m&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":l,this.parseClassMethod(i,s,r,_)}else this.parseClassField(i);return i};U.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};U.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};U.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&Wv(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};U.parseClassField=function(t){if(Wv(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Wv(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};U.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Hf|cg);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};U.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ei,!1)):(e===!0&&this.unexpected(),t.id=null)};U.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(!1):null};U.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};U.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var l=i[r];Wf(e,l.name)||(s?s.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function b1(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n(b1,"isPrivateNameConflicted");function Wv(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Wv,"checkKeyName");U.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===h._function||(i=this.isAsyncFunction())){var o=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(o,Yf|Gw,!1,i)}else if(this.type===h._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,l=t.specifiers;r<l.length;r+=1){var p=l[r];this.checkUnreserved(p.local),this.checkLocalExport(p.local),p.local.type==="Literal"&&this.raise(p.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};U.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Wf(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};U.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};U.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};U.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};U.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(t,o.exported,o.exported.start),e.push(this.finishNode(o,"ExportSpecifier"))}return e};U.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=x1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};U.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,Ei),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(h.comma))return t}if(this.type===h.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,Ei),t.push(this.finishNode(o,"ImportNamespaceSpecifier")),t}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var s=this.startNode();s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,Ei),t.push(this.finishNode(s,"ImportSpecifier"))}return t};U.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return h1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};U.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};U.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Ht=Be.prototype;Ht.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Ht.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Ht.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Ht.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Ht.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Ht.parseBindingList=function(t,e,i){for(var o=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(h.comma),e&&this.type===h.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),o.push(r),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var l=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(l),o.push(l)}}return o};Ht.parseBindingListItem=function(t){return t};Ht.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Ht.checkLValSimple=function(t,e,i){e===void 0&&(e=Uv);var o=e!==Uv;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ei&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Wf(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Jw&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Ht.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Uv),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Ht.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Uv),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Wt=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),Te={b_stat:new Wt("{",!1),b_expr:new Wt("{",!0),b_tmpl:new Wt("${",!1),p_stat:new Wt("(",!1),p_expr:new Wt("(",!0),q_tmpl:new Wt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Wt("function",!1),f_expr:new Wt("function",!0),f_expr_gen:new Wt("function",!0,!1,null,!0),f_gen:new Wt("function",!1,!1,null,!0)},fr=Be.prototype;fr.initialContext=function(){return[Te.b_stat]};fr.curContext=function(){return this.context[this.context.length-1]};fr.braceIsBlock=function(t){var e=this.curContext();return e===Te.f_expr||e===Te.f_stat?!0:t===h.colon&&(e===Te.b_stat||e===Te.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?At.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===Te.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};fr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};fr.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};fr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Te.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Te.b_stat:Te.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(Te.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?Te.p_stat:Te.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==Te.p_stat)&&!(t===h._return&&At.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===Te.b_stat)?this.context.push(Te.f_expr):this.context.push(Te.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===Te.q_tmpl?this.context.pop():this.context.push(Te.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===Te.f_expr?this.context[e]=Te.f_expr_gen:this.context[e]=Te.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var q=Be.prototype;q.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var l=e[s];if(l){var p;r==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[s]={init:!1,get:!1,set:!1};l[r]=!0}};q.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===h.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};q.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,l=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Gv,o=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),m};q.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(h.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};q.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};q.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==h._in)&&r>o){var l=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(r=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),m,_,r,s),w=this.buildBinary(e,i,t,b,f,l||p);return(l&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,o,s)}return t};q.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=s,l.right=o,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};q.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&zw(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(s,r);m.operator=this.value,m.prefix=!1,m.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function zw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&zw(t.expression)}n(zw,"isPrivateFieldAccess");q.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};q.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,r,l,s);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};q.parseSubscript=function(t,e,i,o,s,r,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(h.parenL)){var b=new Gv,w=this.yieldPos,I=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,b);if(s&&!f&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=I,this.awaitIdentPos=S,this.parseArrowExpression(this.startNodeAt(e,i),N,!0,l);this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var E=this.startNodeAt(e,i);E.callee=t,E.arguments=N,p&&(E.optional=f),t=this.finishNode(E,"CallExpression")}else if(this.type===h.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(e,i);M.tag=t,M.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(M,"TaggedTemplateExpression")}return t};q.parseExprAtom=function(t,e){this.type===h.slash&&this.readRegexp();var i,o=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(i,"Super");case h._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case h.name:var s=this.start,r=this.startLoc,l=this.containsEsc,p=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&p.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(Te.f_expr),this.parseFunction(this.startNodeAt(s,r),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,r),[p],!1,e);if(this.options.ecmaVersion>=8&&p.name==="async"&&this.type===h.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return p=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,r),[p],!0,e)}return p;case h.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return i=this.startNode(),i.value=this.type===h._null?null:this.type===h._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case h.parenL:var m=this.start,_=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),_;case h.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case h.braceL:return this.overrideContext(Te.b_expr),this.parseObj(!1,t);case h._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};q.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};q.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};q.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};q.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};q.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};q.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],m=!0,_=!1,b=new Gv,w=this.yieldPos,I=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){S=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var N=this.lastTokEnd,E=this.lastTokEndLoc;if(this.expect(h.parenR),t&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=I,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,f.length>1?(s=this.startNodeAt(l,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",N,E)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(i,o);return M.expression=s,this.finishNode(M,"ParenthesizedExpression")}else return s};q.parseParenItem=function(t){return t};q.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var y1=[];q.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc,r=this.type===h._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),o,s,!0,!1),r&&t.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=y1,this.finishNode(t,"NewExpression")};q.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};q.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};q.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!At.test(this.input.slice(this.lastTokEnd,this.start))};q.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(o)o=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};q.parseProperty=function(t,e){var i=this.startNode(),o,s,r,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(o=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i,e)):s=!1,this.parsePropertyValue(i,t,o,s,r,l,e,p),this.finishNode(i,"Property")};q.parsePropertyValue=function(t,e,i,o,s,r,l,p){if((i||o)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o);else if(!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(i||o)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var f=t.kind==="get"?0:1;if(t.value.params.length!==f){var m=t.value.start;t.kind==="get"?this.raiseRecoverable(m,"getter should have no params"):this.raiseRecoverable(m,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};q.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};q.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};q.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(pg(e,o.generator)|cg|(i?Uw:0)),this.expect(h.parenL),o.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};q.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(pg(i,!1)|Yw),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};q.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==h.braceL,r=this.strict,l=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Jw),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};q.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};q.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,fg,e?null:i)}};q.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(o),o&&this.type===h.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),s.push(l)}return s};q.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};q.parseIdent=function(t,e){var i=this.startNode();return this.type===h.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};q.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};q.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};q.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Hv=Be.prototype;Hv.raise=function(t,e){var i=Lw(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Hv.raiseRecoverable=Hv.raise;Hv.curPosition=function(){if(this.options.locations)return new jf(this.curLine,this.pos-this.lineStart)};var so=Be.prototype,w1=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");so.enterScope=function(t){this.scopeStack.push(new w1(t))};so.exitScope=function(){this.scopeStack.pop()};so.treatFunctionsAsVarInScope=function(t){return t.flags&pr||!this.inModule&&t.flags&Uf};so.declareName=function(t,e,i){var o=!1;if(e===Ei){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&Uf&&delete this.undefinedExports[t]}else if(e===Hw){var r=this.currentScope();r.lexical.push(t)}else if(e===Ww){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&jw&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Uf&&delete this.undefinedExports[t],f.flags&dg)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};so.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};so.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};so.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&dg)return e}};so.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&dg&&!(e.flags&Yw))return e}};var zv=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Jv(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Jf=Be.prototype;Jf.startNode=function(){return new zv(this,this.start,this.startLoc)};Jf.startNodeAt=function(t,e){return new zv(this,t,e)};function Kw(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(Kw,"finishNodeAt");Jf.finishNode=function(t,e){return Kw.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Jf.finishNodeAt=function(t,e,i,o){return Kw.call(this,t,e,i,o)};Jf.copyNode=function(t){var e=new zv(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var $w="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",qw=$w+" Extended_Pictographic",Xw=qw,Qw=Xw+" EBase EComp EMod EPres ExtPict",T1=Qw,I1={9:$w,10:qw,11:Xw,12:Qw,13:T1},Aw="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Zw="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",eT=Zw+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",tT=eT+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",iT=tT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",S1=iT+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",k1={9:Zw,10:eT,11:tT,12:iT,13:S1},oT={};function C1(t){var e=oT[t]={binary:tn(I1[t]+" "+Aw),nonBinary:{General_Category:tn(Aw),Script:tn(k1[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(C1,"buildUnicodeData");for(jv=0,ng=[9,10,11,12,13];jv<ng.length;jv+=1)Rw=ng[jv],C1(Rw);var Rw,jv,ng,D=Be.prototype,Ni=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=oT[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Ni.prototype.reset=n(function(e,i,o){var s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},"reset");Ni.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Ni.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");Ni.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");Ni.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Ni.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Ni.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Ni.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=0;o<i.length;o++){var s=i.charAt(o);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(s,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return nT(e)?(t.lastIntValue=e,t.advance(),!0):!1};function nT(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(nT,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!nT(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=no(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=no(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),E1(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function E1(t){return Pi(t,!0)||t===36||t===95}n(E1,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),P1(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function P1(t){return cr(t,!0)||t===36||t===95||t===8204||t===8205}n(P1,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!Kv(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return sT(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function sT(t){return t>=65&&t<=90||t>=97&&t<=122}n(sT,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(s-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&N1(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function N1(t){return t>=0&&t<=1114111}n(N1,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(A1(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function A1(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(A1,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Wf(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";rT(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function rT(t){return sT(t)||t===95}n(rT,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";R1(e=t.current());)t.lastStringValue+=no(e),t.advance();return t.lastStringValue!==""};function R1(t){return rT(t)||Kv(t)}n(R1,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};D.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||lT(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_eatClassControlLetter=function(t){var e=t.current();return Kv(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Kv(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Kv(t){return t>=48&&t<=57}n(Kv,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;aT(i=t.current());)t.lastIntValue=16*t.lastIntValue+uT(i),t.advance();return t.pos!==e};function aT(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(aT,"isHexDigit");function uT(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(uT,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return lT(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function lT(t){return t>=48&&t<=55}n(lT,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!aT(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+uT(s),t.advance()}return!0};var mg=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Jv(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),te=Be.prototype;te.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new mg(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};te.getToken=function(){return this.next(),new mg(this)};typeof Symbol<"u"&&(te[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});te.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};te.readToken=function(t){return Pi(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};te.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};te.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=Ow(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};te.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!dr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};te.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Bw.test(String.fromCharCode(t)))++this.pos;else break e}}};te.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};te.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};te.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};te.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(o,i)};te.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};te.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};te.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||At.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};te.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};te.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};te.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};te.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Pi(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+no(e)+"'")};te.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+no(t)+"'")};te.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};te.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(At.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new Ni(this));p.reset(i,s,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,l)}catch(m){}return this.finishToken(h.regexp,{pattern:s,flags:l,value:f})};te.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),b=void 0;if(o&&_===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?b=_-97+10:_>=65?b=_-65+10:_>=48&&_<=57?b=_-48:b=1/0,b>=t)break;p=_,l=l*t+b}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function M1(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(M1,"stringToNumber");function cT(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(cT,"stringToBigInt");te.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=cT(this.input.slice(e,this.pos)),++this.pos):Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};te.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=cT(this.input.slice(e,this.pos));return++this.pos,Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Pi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=M1(this.input.slice(e,this.pos),i);return this.finishToken(h.num,r)};te.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};te.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(dr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var dT={};te.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===dT)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};te.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw dT;this.raise(t,e)};te.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(dr(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};te.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};te.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return no(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;return this.invalidStringToken(i,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return dr(e)?"":String.fromCharCode(e)}};te.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};te.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(cr(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Pi:cr)(l,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=no(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};te.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=ug[t]),this.finishToken(e,t)};var V1="8.8.1";Be.acorn={Parser:Be,version:V1,defaultOptions:rg,Position:jf,SourceLocation:Jv,getLineInfo:Lw,Node:zv,TokenType:re,tokTypes:h,keywordTypes:ug,TokContext:Wt,tokContexts:Te,isIdentifierChar:cr,isIdentifierStart:Pi,Token:mg,isNewLine:dr,lineBreak:At,lineBreakG:d1,nonASCIIwhitespace:Bw};function pT(t,e){return Be.parse(t,e)}n(pT,"parse");var O1=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},B1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},$v,on=class{constructor(e){$v.set(this,void 0);let i=pT(e,{ecmaVersion:2020});O1(this,$v,i.body,"f"),this.visitor=new lr(B1(this,$v,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,s)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=console[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,s)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=Math[r];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,s)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),l=o.arguments.map(f=>s.visitNode(f)),p=String[r];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(on,"Jinter");$v=new WeakMap;function _g(t,e){let i=new on(t);for(let[o,s]of Object.entries(e))i.scope.set(o,s);return i.interpret()}n(_g,"evaluate");var Gf,nn,fT,hT,mT,sn=class{constructor(e){Gf.add(this),nn.set(this,void 0),T(this,nn,e,"f")}get session(){return u(this,nn,"f")}stats(e,i,o){return x(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))s.searchParams.set(l,o[l]);return yield u(this,nn,"f").http.fetch(s)})}execute(e,i){var o,s;return x(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&u(this,Gf,"m",mT).call(this,r.browseId)&&!u(this,nn,"f").logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield u(this,nn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=d.parseResponse(yield p.json());if(u(this,Gf,"m",hT).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(Ao);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return u(this,Gf,"m",fT).call(this,p)})}};n(sn,"Actions");nn=new WeakMap,Gf=new WeakSet,fT=n(function(e){return x(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),hT=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),mT=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var hr,mr,zf,Kf,ut=class{constructor(e,i,o,s){hr.set(this,void 0),mr.set(this,void 0),zf.set(this,void 0),Kf.set(this,void 0),T(this,hr,o,"f"),T(this,mr,i,"f"),T(this,zf,e,"f"),T(this,Kf,s,"f")}static create(e,i=O.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/iframe_api",me.YT_BASE),s=yield i(o);if(s.status!==200)throw new gt("Failed to request player id");let r=yield s.text(),l=rt(r,"player\\/","\\/");if(!l)throw new gt("Failed to get player id");if(e){let I=yield ut.fromCache(e,l);if(I)return I}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,me.YT_BASE),f=yield i(p,{headers:{"user-agent":Zo("desktop")}});if(!f.ok)throw new gt(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),b=this.extractSigSourceCode(m),w=this.extractNSigSourceCode(m);return yield ut.fromSource(e,_,b,w,l)})}decipher(e,i,o){if(e=e||i||o,!e)throw new gt("No valid URL to decipher");let s=new URLSearchParams(e),r=new URL(s.get("url")||e);if(i||o){let f=O.shim.eval(u(this,mr,"f"),{sig:s.get("s")});if(typeof f!="string")throw new gt("Failed to decipher signature");let m=s.get("sp");m?r.searchParams.set(m,f):r.searchParams.set("signature",f)}let l=r.searchParams.get("n");if(l){let f=O.shim.eval(u(this,hr,"f"),{nsig:l});if(typeof f!="string")throw new gt("Failed to decipher nsig");f.startsWith("enhanced_except_")&&console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`),r.searchParams.set("n",f)}switch(r.searchParams.get("c")){case"WEB":r.searchParams.set("cver",X.WEB.VERSION);break;case"WEB_REMIX":r.searchParams.set("cver",X.YTMUSIC.VERSION);break;case"WEB_KIDS":r.searchParams.set("cver",X.WEB_KIDS.VERSION);break;case"ANDROID":r.searchParams.set("cver",X.ANDROID.VERSION);break;case"ANDROID_MUSIC":r.searchParams.set("cver",X.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":r.searchParams.set("cver",X.TV_EMBEDDED.VERSION);break}return r.toString()}static fromCache(e,i){return x(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==ut.LIBRARY_VERSION)return null;let l=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),_=new TextDecoder,b=_.decode(f),w=_.decode(m);return new ut(l,b,w,i)})}static fromSource(e,i,o,s,r){return x(this,void 0,void 0,function*(){let l=new ut(i,o,s,r);return yield l.cache(e),l})}cache(e){return x(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(u(this,mr,"f")),s=i.encode(u(this,hr,"f")),r=new ArrayBuffer(12+o.byteLength+s.byteLength),l=new DataView(r);l.setUint32(0,ut.LIBRARY_VERSION,!0),l.setUint32(4,u(this,zf,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(u(this,Kf,"f"),new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(rt(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=rt(e,'function(a){a=a.split("")','return a.join("")}'),l=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=rt(e,`var ${l}={`,"};");return(!p||!r)&&console.warn(new gt("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${rt(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new gt("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${u(this,Kf,"f")}/player_ias.vflset/en_US/base.js`,me.YT_BASE).toString()}get sts(){return u(this,zf,"f")}get nsig_sc(){return u(this,hr,"f")}get sig_sc(){return u(this,mr,"f")}static get LIBRARY_VERSION(){return 2}};n(ut,"Player");hr=new WeakMap,mr=new WeakMap,zf=new WeakMap,Kf=new WeakMap;var vg,Jt,_r,$f,_T,rn=class{constructor(e,i,o){vg.add(this),Jt.set(this,void 0),_r.set(this,void 0),$f.set(this,void 0),T(this,Jt,e,"f"),T(this,_r,i,"f"),T(this,$f,o||O.shim.fetch,"f")}get fetch_function(){return u(this,$f,"f")}fetch(e,i){return x(this,void 0,void 0,function*(){let o=me.API.PRODUCTION_1+u(this,Jt,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),l=(i==null?void 0:i.headers)||(e instanceof O.shim.Request?e.headers:new O.shim.Headers)||new O.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof O.shim.Request?e.body:void 0),f=new O.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",u(this,Jt,"f").context.client.visitorData||""),f.set("X-Origin",r.origin),f.set("X-Youtube-Client-Version",u(this,Jt,"f").context.client.clientVersion||""),O.shim.server&&(f.set("User-Agent",Zo("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",u(this,Jt,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,b=!1,w=s===o||s===me.YT_UPLOAD;if(m==="application/json"&&w&&typeof p=="string"){let N=JSON.parse(p),E=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(u(this,Jt,"f").context))});u(this,vg,"m",_T).call(this,E.context,E.client),f.set("x-youtube-client-version",E.context.client.clientVersion),delete E.client,O.shim.server&&(E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC")&&f.set("User-Agent",X.ANDROID.USER_AGENT),b=E.context.client.clientName==="WEB_KIDS",_=JSON.stringify(E)}if(u(this,Jt,"f").logged_in&&w&&!b){let N=u(this,Jt,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),r.searchParams.delete("key")),u(this,_r,"f")){let E=rt(u(this,_r,"f"),"PAPISID=",";");E&&(f.set("authorization",yield $0(E)),f.set("x-goog-authuser",u(this,Jt,"f").account_index.toString())),f.set("cookie",u(this,_r,"f"))}}let I=new O.shim.Request(r,e instanceof O.shim.Request?e:i),S=yield u(this,$f,"f").call(this,I,{body:_,headers:f,credentials:"include",redirect:e instanceof O.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(S.ok)return S;throw new v(`Request to ${S.url} failed with status ${S.status}`,yield S.text())})}};n(rn,"HTTPClient");Jt=new WeakMap,_r=new WeakMap,$f=new WeakMap,vg=new WeakSet,_T=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=X.ANDROID.SDK_VERSION,e.client.userAgent=X.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"YTMUSIC":e.client.clientVersion=X.YTMUSIC.VERSION,e.client.clientName=X.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=X.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=X.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=X.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=X.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=X.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=X.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=X.TV_EMBEDDED.NAME,e.client.clientVersion=X.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:me.YT_BASE};break;case"YTKIDS":e.client.clientVersion=X.WEB_KIDS.VERSION,e.client.clientName=X.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Ai,an,Ne,Se,qv,gT,xg,vT,xT,gg,un=class{constructor(e){Ai.add(this),an.set(this,void 0),Ne.set(this,void 0),Se.set(this,void 0),qv.set(this,5),T(this,Ne,e,"f")}init(e){return x(this,void 0,void 0,function*(){T(this,Se,e,"f"),this.validateCredentials()?this.has_access_token_expired||u(this,Ne,"f").emit("auth",{credentials:u(this,Se,"f"),status:"SUCCESS"}):(yield u(this,Ai,"m",gT).call(this))||(yield u(this,Ai,"m",xg).call(this))})}cacheCredentials(){var e;return x(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(u(this,Se,"f")));yield(e=u(this,Ne,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return x(this,void 0,void 0,function*(){yield(e=u(this,Ne,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return x(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield u(this,Ai,"m",xT).call(this))})}revokeCredentials(){return x(this,void 0,void 0,function*(){if(!!u(this,Se,"f"))return yield this.removeCache(),u(this,Ne,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(u(this,Se,"f").access_token)}`,me.YT_BASE),{method:"post"})})}get credentials(){return u(this,Se,"f")}get has_access_token_expired(){let e=u(this,Se,"f")?new Date(u(this,Se,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return u(this,Se,"f")&&Reflect.has(u(this,Se,"f"),"access_token")&&Reflect.has(u(this,Se,"f"),"refresh_token")&&Reflect.has(u(this,Se,"f"),"expires")||!1}};n(un,"OAuth");an=new WeakMap,Ne=new WeakMap,Se=new WeakMap,qv=new WeakMap,Ai=new WeakSet,gT=n(function(){var e;return x(this,void 0,void 0,function*(){let i=yield(e=u(this,Ne,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return T(this,Se,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),u(this,Ne,"f").emit("auth",{credentials:u(this,Se,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),xg=n(function(){return x(this,void 0,void 0,function*(){T(this,an,yield u(this,Ai,"m",gg).call(this),"f");let e={client_id:u(this,an,"f").client_id,scope:Oi.SCOPE,device_id:O.shim.uuidv4(),device_model:Oi.MODEL_NAME},o=yield(yield u(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/device/code",me.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();u(this,Ne,"f").emit("auth-pending",o),T(this,qv,o.interval,"f"),u(this,Ai,"m",vT).call(this,o.device_code)})},"_OAuth_getUserCode"),vT=n(function(e){let i=setInterval(()=>x(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},u(this,an,"f")),{code:e,grant_type:Oi.GRANT_TYPE});try{let r=yield(yield u(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",me.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":u(this,Ne,"f").emit("auth-error",new di("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,Ne,"f").emit("auth-error",new di("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),u(this,Ai,"m",xg).call(this);break;default:break}return}let l=new Date(new Date().getTime()+r.expires_in*1e3);T(this,Se,{access_token:r.access_token,refresh_token:r.refresh_token,expires:l},"f"),u(this,Ne,"f").emit("auth",{credentials:u(this,Se,"f"),status:"SUCCESS"}),clearInterval(i)}catch(s){return clearInterval(i),u(this,Ne,"f").emit("auth-error",new di("Could not obtain user code.",{status:"FAILED",error:s}))}}),u(this,qv,"f")*1e3)},"_OAuth_startPolling"),xT=n(function(){return x(this,void 0,void 0,function*(){if(!u(this,Se,"f"))return;T(this,an,yield u(this,Ai,"m",gg).call(this),"f");let e=Object.assign(Object.assign({},u(this,an,"f")),{refresh_token:u(this,Se,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield u(this,Ne,"f").http.fetch_function(new URL("/o/oauth2/token",me.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),s=new Date(new Date().getTime()+o.expires_in*1e3);T(this,Se,{access_token:o.access_token,refresh_token:o.refresh_token||u(this,Se,"f").refresh_token,expires:s},"f"),u(this,Ne,"f").emit("update-credentials",{credentials:u(this,Se,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),gg=n(function(){var e;return x(this,void 0,void 0,function*(){let o=yield(yield u(this,Ne,"f").http.fetch_function(new URL("/tv",me.YT_BASE),{headers:Oi.HEADERS})).text(),s=(e=Oi.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!s)throw new di("Could not obtain script url.",{status:"FAILED"});let l=(yield(yield u(this,Ne,"f").http.fetch(s,{baseURL:me.YT_BASE})).text()).replace(/\n/g,"").match(Oi.REGEX.CLIENT_IDENTITY),p=l==null?void 0:l.groups;if(!p)throw new di("Could not obtain client identity.",{status:"FAILED"});return p})},"_OAuth_getClientIdentity");var bg,Xv,Qv,ln,Zv,e0,bT,yT,t0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(t0=t0||(t0={}));var Gt=class extends wi{constructor(e,i,o,s,r,l,p,f){super(),Xv.set(this,void 0),Qv.set(this,void 0),ln.set(this,void 0),Zv.set(this,void 0),e0.set(this,void 0),T(this,ln,e,"f"),T(this,Zv,s,"f"),T(this,Qv,i,"f"),T(this,Xv,o,"f"),T(this,e0,r,"f"),this.http=new rn(this,l,p),this.actions=new sn(this),this.oauth=new un(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return x(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:s,account_index:r}=yield Gt.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch);return new Gt(i,o,s,r,e.retrieve_player===!1?void 0:yield ut.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,s="",r=!1,l=!1,p="desktop",f=t0.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=O.shim.fetch){return x(this,void 0,void 0,function*(){let b;return l?b=u(this,bg,"m",yT).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s}):b=yield u(this,bg,"m",bT).call(this,{lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s},_),Object.assign(Object.assign({},b),{account_index:o})})}signIn(e){return x(this,void 0,void 0,function*(){return new Promise((i,o)=>x(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",s),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",s);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return x(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return u(this,Qv,"f")}get api_version(){return u(this,Xv,"f")}get client_version(){return u(this,ln,"f").client.clientVersion}get client_name(){return u(this,ln,"f").client.clientName}get account_index(){return u(this,Zv,"f")}get context(){return u(this,ln,"f")}get player(){return u(this,e0,"f")}get lang(){return u(this,ln,"f").client.hl}};n(Gt,"Session");bg=Gt,Xv=new WeakMap,Qv=new WeakMap,ln=new WeakMap,Zv=new WeakMap,e0=new WeakMap,bT=n(function(e,i=O.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",me.YT_BASE),s=Ct(11);e.visitor_data&&(s=ye.decodeVisitorData(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Zo("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!r.ok)throw new Ps(`Failed to retrieve session data: ${r.status}`);let l=yield r.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],m=`v${f[0][0][6]}`,[[_],b]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:me.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:b,api_version:m}})},"_Session_retrieveSessionData"),yT=n(function(e){let i=Ct(11);return e.visitor_data&&(i=ye.decodeVisitorData(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:ye.encodeVisitorData(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:X.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:me.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1}},api_key:X.WEB.API_KEY,api_version:X.WEB.API_VERSION}},"_Session_generateSessionData");var wg={};j(wg,{Kids:()=>ro,Music:()=>ao,Studio:()=>uo});var yg={};j(yg,{Account:()=>pn,Browse:()=>o0,BrowseEndpoint:()=>L,Channel:()=>Ri,Comment:()=>r0,GetNotificationMenuEndpoint:()=>cn,GuideEndpoint:()=>vr,Like:()=>a0,Music:()=>u0,NextEndpoint:()=>Ce,Notification:()=>l0,PlayerEndpoint:()=>Ze,Playlist:()=>c0,ResolveURLEndpoint:()=>dn,SearchEndpoint:()=>xt,Subscription:()=>d0,Upload:()=>p0});var L={};j(L,{PATH:()=>D1,build:()=>L1});var D1="/browse";function L1(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(L1,"build");var cn={};j(cn,{PATH:()=>F1,build:()=>Y1});var F1="/notification/get_notification_menu";function Y1(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(Y1,"build");var vr={};j(vr,{PATH:()=>j1});var j1="/guide";var Ce={};j(Ce,{PATH:()=>U1,build:()=>W1});var U1="/next";function W1(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(W1,"build");var Ze={};j(Ze,{PATH:()=>H1,build:()=>J1});var H1="/player";function J1(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:"2AMBCgIQBg"})}n(J1,"build");var dn={};j(dn,{PATH:()=>G1,build:()=>z1});var G1="/navigation/resolve_url";function z1(t){return Object.assign({url:t.url})}n(z1,"build");var xt={};j(xt,{PATH:()=>K1,build:()=>$1});var K1="/search";function $1(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n($1,"build");var pn={};j(pn,{AccountListEndpoint:()=>i0});var i0={};j(i0,{PATH:()=>q1,build:()=>X1});var q1="/account/accounts_list";function X1(){return{client:"ANDROID"}}n(X1,"build");var o0={};j(o0,{EditPlaylistEndpoint:()=>zt});var zt={};j(zt,{PATH:()=>Q1,build:()=>Z1});var Q1="/browse/edit_playlist";function Z1(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor}))}}n(Z1,"build");var Ri={};j(Ri,{EditDescriptionEndpoint:()=>s0,EditNameEndpoint:()=>n0});var n0={};j(n0,{PATH:()=>eI,build:()=>tI});var eI="/channel/edit_name";function tI(t){return{givenName:t.given_name,client:"ANDROID"}}n(tI,"build");var s0={};j(s0,{PATH:()=>iI,build:()=>oI});var iI="/channel/edit_description";function oI(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(oI,"build");var r0={};j(r0,{CreateCommentEndpoint:()=>hn,PerformCommentActionEndpoint:()=>fn});var fn={};j(fn,{PATH:()=>nI,build:()=>sI});var nI="/comment/perform_comment_action";function sI(t){return Object.assign({actions:t.actions},{client:t.client})}n(sI,"build");var hn={};j(hn,{PATH:()=>rI,build:()=>aI});var rI="/comment/create_comment";function aI(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(aI,"build");var a0={};j(a0,{DislikeEndpoint:()=>_n,LikeEndpoint:()=>mn,RemoveLikeEndpoint:()=>vn});var mn={};j(mn,{PATH:()=>uI,build:()=>lI});var uI="/like/like";function lI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(lI,"build");var _n={};j(_n,{PATH:()=>cI,build:()=>dI});var cI="/like/dislike";function dI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(dI,"build");var vn={};j(vn,{PATH:()=>pI,build:()=>fI});var pI="/like/removelike";function fI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(fI,"build");var u0={};j(u0,{GetSearchSuggestionsEndpoint:()=>gn});var gn={};j(gn,{PATH:()=>hI,build:()=>mI});var hI="/music/get_search_suggestions";function mI(t){return{input:t.input,client:"YTMUSIC"}}n(mI,"build");var l0={};j(l0,{GetUnseenCountEndpoint:()=>gr,ModifyChannelPreferenceEndpoint:()=>xn});var gr={};j(gr,{PATH:()=>_I});var _I="/notification/get_unseen_count";var xn={};j(xn,{PATH:()=>vI,build:()=>gI});var vI="/notification/modify_channel_preference";function gI(t){return Object.assign({params:t.params},{client:t.client})}n(gI,"build");var c0={};j(c0,{CreateEndpoint:()=>bn,DeleteEndpoint:()=>yn});var bn={};j(bn,{PATH:()=>xI,build:()=>bI});var xI="/playlist/create";function bI(t){return{title:t.title,ids:t.ids}}n(bI,"build");var yn={};j(yn,{PATH:()=>yI,build:()=>wI});var yI="/playlist/delete";function wI(t){return{playlistId:t.playlist_id}}n(wI,"build");var d0={};j(d0,{SubscribeEndpoint:()=>wn,UnsubscribeEndpoint:()=>Tn});var wn={};j(wn,{PATH:()=>TI,build:()=>II});var TI="/subscription/subscribe";function II(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(II,"build");var Tn={};j(Tn,{PATH:()=>SI,build:()=>kI});var SI="/subscription/unsubscribe";function kI(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(kI,"build");var p0={};j(p0,{CreateVideoEndpoint:()=>In});var In={};j(In,{PATH:()=>CI,build:()=>EI});var CI="/upload/createvideo";function EI(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(EI,"build");var bt,ro=class{constructor(e){bt.set(this,void 0),T(this,bt,e,"f")}search(e){return x(this,void 0,void 0,function*(){let i=yield u(this,bt,"f").actions.execute(xt.PATH,xt.build({client:"YTKIDS",query:e}));return new Vv(u(this,bt,"f").actions,i)})}getInfo(e){var i;return x(this,void 0,void 0,function*(){let o=Ze.build({sts:(i=u(this,bt,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ce.build({video_id:e,client:"YTKIDS"}),r=u(this,bt,"f").actions.execute(Ze.PATH,o),l=u(this,bt,"f").actions.execute(Ce.PATH,s),p=yield Promise.all([r,l]),f=Ct(16);return new Bv(p,u(this,bt,"f").actions,f)})}getChannel(e){return x(this,void 0,void 0,function*(){let i=yield u(this,bt,"f").actions.execute(L.PATH,L.build({browse_id:e,client:"YTKIDS"}));return new Av(u(this,bt,"f").actions,i)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,bt,"f").actions.execute(L.PATH,L.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new Rv(u(this,bt,"f").actions,e)})}};n(ro,"Kids");bt=new WeakMap;var f0,qf,pe,wT,TT,ao=class{constructor(e){f0.add(this),qf.set(this,void 0),pe.set(this,void 0),T(this,qf,e,"f"),T(this,pe,e.actions,"f")}getInfo(e){if(e instanceof zn)return u(this,f0,"m",TT).call(this,e);if(typeof e=="string")return u(this,f0,"m",wT).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return x(this,void 0,void 0,function*(){se({query:e});let o=yield u(this,pe,"f").execute(xt.PATH,xt.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?ye.encodeMusicSearchFilters(i):void 0}));return new Ut(o,u(this,pe,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,pe,"f").execute(L.PATH,L.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new kv(e,u(this,pe,"f"))})}getExplore(){return x(this,void 0,void 0,function*(){let e=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Sv(e)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Cv(e,u(this,pe,"f"))})}getArtist(e){return x(this,void 0,void 0,function*(){if(se({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new Tv(i,u(this,pe,"f"))})}getAlbum(e){return x(this,void 0,void 0,function*(){if(se({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new bv(i)})}getPlaylist(e){return x(this,void 0,void 0,function*(){se({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC",browse_id:e}));return new Ts(i,u(this,pe,"f"))})}getUpNext(e,i=!0){var o,s,r;return x(this,void 0,void 0,function*(){se({video_id:e});let p=(o=(yield u(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(xe),f=p==null?void 0:p.first();if(!f)throw new v("Could not find target tab.");let m=(s=f.content)===null||s===void 0?void 0:s.as(Kn);if(!m||!m.content)throw new v("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(si);if(!_.playlist_id&&i){let b=_.contents.firstOfType(Yi);if(!b)throw new v("Automix item not found");let w=yield(r=b.playlist_video)===null||r===void 0?void 0:r.endpoint.call(u(this,pe,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!w||!w.contents_memo)throw new v("Could not fetch automix");return w.contents_memo.getType(si).first()}return _})}getRelated(e){var i;return x(this,void 0,void 0,function*(){se({video_id:e});let s=(i=(yield u(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new v("Could not find target tab.");let l=yield r.endpoint.call(u(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);return l.contents.item().as(ee).contents.as(Pe,ko)})}getLyrics(e){var i;return x(this,void 0,void 0,function*(){se({video_id:e});let s=(i=(yield u(this,pe,"f").execute(Ce.PATH,Object.assign(Object.assign({},Ce.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(xe),r=s==null?void 0:s.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new v("Could not find target tab.");let l=yield r.endpoint.call(u(this,pe,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new v("Unexpected response",l);if(l.contents.item().key("type").string()==="Message")throw new v(l.contents.item().as(Ue).text.toString(),e);return l.contents.item().as(ee).contents.firstOfType(ko)})}getRecap(){return x(this,void 0,void 0,function*(){let e=yield u(this,pe,"f").execute(L.PATH,L.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Pv(e,u(this,pe,"f"))})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){let i=yield u(this,pe,"f").execute(gn.PATH,Object.assign(Object.assign({},gn.build({input:e})),{parse:!0}));if(!i.contents_memo)throw new v("Unexpected response",i);return i.contents_memo.getType(P_).first().contents})}};n(ao,"Music");qf=new WeakMap,pe=new WeakMap,f0=new WeakSet,wT=n(function(e){var i;return x(this,void 0,void 0,function*(){let o=Ze.build({video_id:e,sts:(i=u(this,qf,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ce.build({video_id:e,client:"YTMUSIC"}),r=u(this,pe,"f").execute(Ze.PATH,o),l=u(this,pe,"f").execute(Ce.PATH,s),p=yield Promise.all([r,l]),f=Ct(16);return new Df(p,u(this,pe,"f"),f)})},"_Music_fetchInfoFromVideoId"),TT=n(function(e){var i;return x(this,void 0,void 0,function*(){if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(u(this,pe,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=u(this,qf,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(u(this,pe,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=Ct(16),l=yield Promise.all([o,s]);return new Df(l,u(this,pe,"f"),r)})},"_Music_fetchInfoFromListItem");var Xf,Kt,IT,ST,kT,uo=class{constructor(e){Xf.add(this),Kt.set(this,void 0),T(this,Kt,e,"f")}setThumbnail(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new Qo("One or more parameters are missing.");let o=ye.encodeCustomThumbnailPayload(e,i);return yield u(this,Kt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=ye.encodeVideoMetadataPayload(e,i);return yield u(this,Kt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return x(this,void 0,void 0,function*(){if(!u(this,Kt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=yield u(this,Xf,"m",IT).call(this),s=yield u(this,Xf,"m",ST).call(this,o.upload_url,e);if(s.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield u(this,Xf,"m",kT).call(this,o,s,i)})}};n(uo,"Studio");Kt=new WeakMap,Xf=new WeakSet,IT=n(function(){return x(this,void 0,void 0,function*(){let e=`innertube_android:${O.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${O.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield u(this,Kt,"f").http.fetch("/upload/youtubei",{baseURL:me.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),ST=n(function(e,i){return x(this,void 0,void 0,function*(){let o=yield u(this,Kt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new v("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),kT=n(function(e,i,o){return x(this,void 0,void 0,function*(){return yield u(this,Kt,"f").actions.execute(In.PATH,In.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Tg={};j(Tg,{AccountManager:()=>lo,InteractionManager:()=>po,PlaylistManager:()=>co});var yt,lo=class{constructor(e){yt.set(this,void 0),T(this,yt,e,"f"),this.channel={editName:i=>{if(!u(this,yt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return u(this,yt,"f").execute(Ri.EditNameEndpoint.PATH,Ri.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!u(this,yt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return u(this,yt,"f").execute(Ri.EditDescriptionEndpoint.PATH,Ri.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return x(this,void 0,void 0,function*(){if(!u(this,yt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield u(this,yt,"f").execute(pn.AccountListEndpoint.PATH,pn.AccountListEndpoint.build());return new $_(e)})}getTimeWatched(){return x(this,void 0,void 0,function*(){let e=yield u(this,yt,"f").execute(L.PATH,L.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new vv(e)})}getSettings(){return x(this,void 0,void 0,function*(){let e=yield u(this,yt,"f").execute(L.PATH,L.build({browse_id:"SPaccount_overview"}));return new mv(u(this,yt,"f"),e)})}getAnalytics(){var e;return x(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield u(this,yt,"f").execute(L.PATH,L.build({browse_id:"FEanalytics_screen",params:ye.encodeChannelAnalyticsParams((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new X_(o)})}};n(lo,"AccountManager");yt=new WeakMap;var je,co=class{constructor(e){je.set(this,void 0),T(this,je,e,"f")}create(e,i){return x(this,void 0,void 0,function*(){if(se({title:e,video_ids:i}),!u(this,je,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield u(this,je,"f").execute(bn.PATH,bn.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return x(this,void 0,void 0,function*(){if(se({playlist_id:e}),!u(this,je,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield u(this,je,"f").execute(yn.PATH,yn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return x(this,void 0,void 0,function*(){if(se({playlist_id:e,video_ids:i}),!u(this,je,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield u(this,je,"f").execute(zt.PATH,zt.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return x(this,void 0,void 0,function*(){if(se({playlist_id:e,video_ids:i}),!u(this,je,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield u(this,je,"f").execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:`VL${e}`})),{parse:!0})),s=new yi(u(this,je,"f"),o,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},l=n(f=>x(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(s),!r.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield u(this,je,"f").execute(zt.PATH,zt.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return x(this,void 0,void 0,function*(){if(se({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!u(this,je,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let s=yield u(this,je,"f").execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:`VL${e}`})),{parse:!0})),r=new yi(u(this,je,"f"),s,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,m=n(b=>x(this,void 0,void 0,function*(){let w=b.videos.find(S=>i===S.key("id").string()),I=b.videos.find(S=>o===S.key("id").string());if(p=p||(w==null?void 0:w.key("set_video_id").string()),f=f||(I==null?void 0:I.key("set_video_id").string()),!p||!f){let S=yield b.getContinuation();return m(S)}}),"getSetVideoIds");yield m(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield u(this,je,"f").execute(zt.PATH,zt.build(l));return{playlist_id:e,action_result:_.data.actions}})}};n(co,"PlaylistManager");je=new WeakMap;var Fe,po=class{constructor(e){Fe.set(this,void 0),T(this,Fe,e,"f")}like(e){return x(this,void 0,void 0,function*(){if(se({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(mn.PATH,mn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return x(this,void 0,void 0,function*(){if(se({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(_n.PATH,_n.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return x(this,void 0,void 0,function*(){if(se({video_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(vn.PATH,vn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return x(this,void 0,void 0,function*(){if(se({channel_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(wn.PATH,wn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return x(this,void 0,void 0,function*(){if(se({channel_id:e}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(Tn.PATH,Tn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return x(this,void 0,void 0,function*(){if(se({video_id:e,text:i}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Fe,"f").execute(hn.PATH,hn.build({comment_text:i,create_comment_params:ye.encodeCommentParams(e),client:"ANDROID"}))})}translate(e,i,o={}){return x(this,void 0,void 0,function*(){se({text:e,target_language:i});let s=ye.encodeCommentActionParams(22,Object.assign({text:e,target_language:i},o)),r=yield u(this,Fe,"f").execute(fn.PATH,fn.build({client:"ANDROID",actions:[s]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return x(this,void 0,void 0,function*(){if(se({channel_id:e,type:i}),!u(this,Fe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield u(this,Fe,"f").execute(xn.PATH,xn.build({client:"WEB",params:ye.encodeNotificationPref(e,o[i.toUpperCase()])}))})}};n(po,"InteractionManager");Fe=new WeakMap;var Ge,Mi=class{constructor(e){Ge.set(this,void 0),T(this,Ge,e,"f")}static create(e={}){return x(this,void 0,void 0,function*(){return new Mi(yield Gt.create(e))})}getInfo(e,i){var o,s,r,l,p;return x(this,void 0,void 0,function*(){se({target:e});let f;if(e instanceof g)f=Ce.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ce.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let m=Ze.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=u(this,Ge,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Ze.PATH,m),b=this.actions.execute(Ce.PATH,f),w=yield Promise.all([_,b]),I=Ct(16);return new Af(w,this.actions,I)})}getBasicInfo(e,i){var o;return x(this,void 0,void 0,function*(){se({video_id:e});let s=yield this.actions.execute(Ze.PATH,Ze.build({video_id:e,client:i,sts:(o=u(this,Ge,"f").player)===null||o===void 0?void 0:o.sts})),r=Ct(16);return new Af([s],this.actions,r)})}search(e,i={}){return x(this,void 0,void 0,function*(){se({query:e});let o=yield this.actions.execute(xt.PATH,xt.build({query:e,params:i?ye.encodeSearchFilters(i):void 0}));return new hv(this.actions,o)})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){se({query:e});let i=new URL(`${me.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",u(this,Ge,"f").context.client.hl),i.searchParams.set("gl",u(this,Ge,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield u(this,Ge,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return x(this,void 0,void 0,function*(){se({video_id:e});let o=yield this.actions.execute(Ce.PATH,Ce.build({continuation:ye.encodeCommentsSectionParams(e,{sort_by:i||"TOP_COMMENTS"})}));return new Q_(this.actions,o.data)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FEwhat_to_watch"}));return new Yt(this.actions,e)})}getGuide(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(vr.PATH);return new Xi(e.data)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FElibrary"}));return new sv(this.actions,e)})}getHistory(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,L.build({browse_id:"FEhistory"}));return new ls(this.actions,e)})}getTrending(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:"FEtrending"})),{parse:!0}));return new mt(this.actions,e)})}getSubscriptionsFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(L.PATH,Object.assign(Object.assign({},L.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new ne(this.actions,e)})}getChannel(e){return x(this,void 0,void 0,function*(){se({id:e});let i=yield this.actions.execute(L.PATH,L.build({browse_id:e}));return new Oe(this.actions,i)})}getNotifications(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute(cn.PATH,cn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new fv(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,s;return x(this,void 0,void 0,function*(){let r=yield this.actions.execute(gr.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylist(e){return x(this,void 0,void 0,function*(){se({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(L.PATH,L.build({browse_id:e}));return new yi(this.actions,i)})}getHashtag(e){return x(this,void 0,void 0,function*(){se({hashtag:e});let i=yield this.actions.execute(L.PATH,L.build({browse_id:"FEhashtag",params:ye.encodeHashtag(e)}));return new ui(this.actions,i)})}getStreamingData(e,i={}){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return x(this,void 0,void 0,function*(){return(yield this.actions.execute(dn.PATH,Object.assign(Object.assign({},dn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new ao(u(this,Ge,"f"))}get studio(){return new uo(u(this,Ge,"f"))}get kids(){return new ro(u(this,Ge,"f"))}get account(){return new lo(u(this,Ge,"f").actions)}get playlist(){return new co(u(this,Ge,"f").actions)}get interact(){return new po(u(this,Ge,"f").actions)}get actions(){return u(this,Ge,"f").actions}get session(){return u(this,Ge,"f")}};n(Mi,"Innertube");Ge=new WeakMap;var CT={};var Sn,Qf=class{constructor(e,i){Sn.set(this,void 0),T(this,Sn,new O.shim.Cache(e,i),"f")}get cache_dir(){return u(this,Sn,"f").cache_dir}get(e){return u(this,Sn,"f").get(e)}set(e,i){return u(this,Sn,"f").set(e,i)}remove(e){return u(this,Sn,"f").remove(e)}};n(Qf,"UniversalCache");Sn=new WeakMap;var ET=Mi;var Zf,h0,m0,_0,v0=class{constructor(e=!1,i){Zf.add(this),h0.set(this,void 0),m0.set(this,void 0),T(this,h0,i||"","f"),T(this,m0,e,"f")}get cache_dir(){return u(this,m0,"f")?u(this,h0,"f"):""}get(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Zf,"m",_0).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return x(this,void 0,void 0,function*(){let o=yield u(this,Zf,"m",_0).call(this);if(!!o)return new Promise((s,r)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>s()})})}remove(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Zf,"m",_0).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(v0,"Cache");h0=new WeakMap,m0=new WeakMap,Zf=new WeakSet,_0=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");O.load({runtime:"browser",server:!1,info:{version:Fv.version,bugs_url:Fv.bugs.url,repo_url:Fv.homepage.split("#")[0]},Cache:v0,sha1Hash:X0,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:_g,DOMParser:globalThis.DOMParser,serializeDOM(t){return new XMLSerializer().serializeToString(t)},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var gve=ET;export{sn as Actions,_f as AppendContinuationItemsAction,t0 as ClientType,wg as Clients,ft as Constants,is as Continuation,yg as Endpoints,wi as EventEmitter,Pf as FormatUtils,R0 as Generator,Vo as GridContinuation,rn as HTTPClient,b0 as Helpers,Mi as Innertube,No as ItemSectionContinuation,Oo as LiveChatContinuation,Tg as Managers,z0 as Misc,U0 as Mixins,Mo as MusicPlaylistShelfContinuation,bi as MusicShelfContinuation,Ao as NavigateAction,un as OAuth,d as Parser,O as Platform,ut as Player,vf as PlaylistPanelContinuation,ye as Proto,Ro as ReloadContinuationItemsCommand,ht as SectionListContinuation,Gt as Session,CT as Types,Qf as UniversalCache,q0 as Utils,W0 as YT,G0 as YTKids,J0 as YTMusic,mf as YTNodes,gve as default};
//# sourceMappingURL=browser.min.js.map
